2025-03-17T20:05:17.742-03:00  INFO 8004 --- [libraryapi] [main] c.g.s.libraryapi.LibraryapiApplication   : Starting LibraryapiApplication using Java 21.0.2 with PID 8004 (C:\Users\RYAN\Desktop\Cursos Udemy\SpringBootExpert\libraryapi\target\classes started by RYAN in C:\Users\RYAN\Desktop\Cursos Udemy\SpringBootExpert\libraryapi)
2025-03-17T20:05:17.746-03:00  INFO 8004 --- [libraryapi] [main] c.g.s.libraryapi.LibraryapiApplication   : No active profile set, falling back to 1 default profile: "default"
2025-03-17T20:05:19.272-03:00  INFO 8004 --- [libraryapi] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-03-17T20:05:19.371-03:00  INFO 8004 --- [libraryapi] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 90 ms. Found 4 JPA repository interfaces.
2025-03-17T20:05:20.877-03:00  INFO 8004 --- [libraryapi] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-03-17T20:05:20.910-03:00  INFO 8004 --- [libraryapi] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-03-17T20:05:20.910-03:00  INFO 8004 --- [libraryapi] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.36]
2025-03-17T20:05:21.078-03:00  INFO 8004 --- [libraryapi] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-03-17T20:05:21.079-03:00  INFO 8004 --- [libraryapi] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3260 ms
2025-03-17T20:05:21.175-03:00  WARN 8004 --- [libraryapi] [main] com.zaxxer.hikari.HikariConfig           : library-db-pool - idleTimeout is close to or more than maxLifetime, disabling it.
2025-03-17T20:05:21.196-03:00  INFO 8004 --- [libraryapi] [main] com.zaxxer.hikari.HikariDataSource       : library-db-pool - Starting...
2025-03-17T20:05:21.473-03:00  INFO 8004 --- [libraryapi] [main] com.zaxxer.hikari.pool.HikariPool        : library-db-pool - Added connection org.postgresql.jdbc.PgConnection@38f617f4
2025-03-17T20:05:21.475-03:00  INFO 8004 --- [libraryapi] [main] com.zaxxer.hikari.HikariDataSource       : library-db-pool - Start completed.
2025-03-17T20:05:21.781-03:00  INFO 8004 --- [libraryapi] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-03-17T20:05:21.999-03:00  INFO 8004 --- [libraryapi] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.8.Final
2025-03-17T20:05:22.079-03:00  INFO 8004 --- [libraryapi] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-03-17T20:05:22.343-03:00  INFO 8004 --- [libraryapi] [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (library-db-pool)']
	Database driver: undefined/unknown
	Database version: 17.3
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-03-17T20:05:22.620-03:00  INFO 8004 --- [libraryapi] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-03-17T20:05:23.796-03:00  INFO 8004 --- [libraryapi] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-03-17T20:05:23.799-03:00  INFO 8004 --- [libraryapi] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-03-17T20:05:24.256-03:00  INFO 8004 --- [libraryapi] [main] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2025-03-17T20:05:25.704-03:00  WARN 8004 --- [libraryapi] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-03-17T20:05:25.750-03:00  INFO 8004 --- [libraryapi] [main] eAuthenticationProviderManagerConfigurer : Global AuthenticationManager configured with AuthenticationProvider bean with name customAuthenticationProvider
2025-03-17T20:05:27.073-03:00  WARN 8004 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/v2/api-docs'], Ant [pattern='/v2/api-docs']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-03-17T20:05:27.074-03:00  WARN 8004 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/v3/api-docs'], Ant [pattern='/v3/api-docs']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-03-17T20:05:27.075-03:00  WARN 8004 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-03-17T20:05:27.075-03:00  WARN 8004 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-03-17T20:05:27.076-03:00  WARN 8004 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-03-17T20:05:27.076-03:00  WARN 8004 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/webjar/**'], Ant [pattern='/webjar/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-03-17T20:05:27.568-03:00  INFO 8004 --- [libraryapi] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-03-17T20:05:27.578-03:00  INFO 8004 --- [libraryapi] [main] c.g.s.libraryapi.LibraryapiApplication   : Started LibraryapiApplication in 10.503 seconds (process running for 11.177)
2025-03-17T20:08:47.895-03:00  INFO 8004 --- [libraryapi] [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-03-17T20:08:47.900-03:00  INFO 8004 --- [libraryapi] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-03-17T20:08:47.904-03:00  INFO 8004 --- [libraryapi] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-03-17T20:08:47.906-03:00  INFO 8004 --- [libraryapi] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : library-db-pool - Shutdown initiated...
2025-03-17T20:08:47.908-03:00  INFO 8004 --- [libraryapi] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : library-db-pool - Shutdown completed.
2025-03-17T20:08:55.034-03:00  WARN 23028 --- [libraryapi] [main] com.zaxxer.hikari.HikariConfig           : library-db-pool - idleTimeout is close to or more than maxLifetime, disabling it.
2025-03-17T20:08:59.055-03:00  WARN 23028 --- [libraryapi] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-03-17T20:09:00.385-03:00  WARN 23028 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/v2/api-docs'], Ant [pattern='/v2/api-docs']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-03-17T20:09:00.385-03:00  WARN 23028 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/v3/api-docs'], Ant [pattern='/v3/api-docs']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-03-17T20:09:00.385-03:00  WARN 23028 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-03-17T20:09:00.385-03:00  WARN 23028 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-03-17T20:09:00.386-03:00  WARN 23028 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-03-17T20:09:00.386-03:00  WARN 23028 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/webjar/**'], Ant [pattern='/webjar/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-03-17T20:13:50.994-03:00  INFO 3576 --- [libraryapi] [main] c.g.s.libraryapi.LibraryapiApplication   : Starting LibraryapiApplication using Java 21.0.2 with PID 3576 (C:\Users\RYAN\Desktop\Cursos Udemy\SpringBootExpert\libraryapi\target\classes started by RYAN in C:\Users\RYAN\Desktop\Cursos Udemy\SpringBootExpert\libraryapi)
2025-03-17T20:13:50.995-03:00 DEBUG 3576 --- [libraryapi] [main] c.g.s.libraryapi.LibraryapiApplication   : Running with Spring Boot v3.4.3, Spring v6.2.3
2025-03-17T20:13:50.996-03:00  INFO 3576 --- [libraryapi] [main] c.g.s.libraryapi.LibraryapiApplication   : No active profile set, falling back to 1 default profile: "default"
2025-03-17T20:13:54.096-03:00  WARN 3576 --- [libraryapi] [main] com.zaxxer.hikari.HikariConfig           : library-db-pool - idleTimeout is close to or more than maxLifetime, disabling it.
2025-03-17T20:13:56.729-03:00 DEBUG 3576 --- [libraryapi] [main] o.s.w.s.r.ResourceUrlEncodingFilter      : Filter 'resourceUrlEncodingFilter' configured for use
2025-03-17T20:13:56.730-03:00 DEBUG 3576 --- [libraryapi] [main] c.g.s.l.s.JwtCustomAuthenticationFilter  : Filter 'jwtCustomAuthenticationFilter' configured for use
2025-03-17T20:13:58.178-03:00  WARN 3576 --- [libraryapi] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-03-17T20:13:58.209-03:00 TRACE 3576 --- [libraryapi] [main] eGlobalAuthenticationAutowiredConfigurer : Eagerly initializing {authorizationServerConfiguration=com.github.springudemy.libraryapi.config.AuthorizationServerConfiguration$$SpringCGLIB$$0@4dfe56dc, securityConfiguration=com.github.springudemy.libraryapi.config.SecurityConfiguration$$SpringCGLIB$$0@2ac00dc9}
2025-03-17T20:13:58.212-03:00  INFO 3576 --- [libraryapi] [main] eAuthenticationProviderManagerConfigurer : Global AuthenticationManager configured with AuthenticationProvider bean with name customAuthenticationProvider
2025-03-17T20:13:58.519-03:00 DEBUG 3576 --- [libraryapi] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 21 mappings in 'requestMappingHandlerMapping'
2025-03-17T20:13:58.547-03:00 DEBUG 3576 --- [libraryapi] [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/login] in 'viewControllerHandlerMapping'
2025-03-17T20:13:58.649-03:00 DEBUG 3576 --- [libraryapi] [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-03-17T20:13:59.639-03:00 DEBUG 3576 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000027404ae3848@684f20ea with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, AuthorizationServerContextFilter, HeaderWriterFilter, CsrfFilter, OidcLogoutEndpointFilter, LogoutFilter, OAuth2AuthorizationServerMetadataEndpointFilter, OAuth2AuthorizationEndpointFilter, OAuth2DeviceVerificationEndpointFilter, OidcProviderConfigurationEndpointFilter, NimbusJwkSetEndpointFilter, OAuth2ClientAuthenticationFilter, UsernamePasswordAuthenticationFilter, BearerTokenAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, OAuth2TokenEndpointFilter, OAuth2TokenIntrospectionEndpointFilter, OAuth2TokenRevocationEndpointFilter, OAuth2DeviceAuthorizationEndpointFilter, OidcUserInfoEndpointFilter
2025-03-17T20:13:59.719-03:00 DEBUG 3576 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, OAuth2AuthorizationRequestRedirectFilter, OAuth2LoginAuthenticationFilter, UsernamePasswordAuthenticationFilter, BearerTokenAuthenticationFilter, JwtCustomAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-03-17T20:13:59.732-03:00  WARN 3576 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/v2/api-docs'], Ant [pattern='/v2/api-docs']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-03-17T20:13:59.733-03:00 DEBUG 3576 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/v2/api-docs'], Ant [pattern='/v2/api-docs']]
2025-03-17T20:13:59.733-03:00  WARN 3576 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/v3/api-docs'], Ant [pattern='/v3/api-docs']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-03-17T20:13:59.733-03:00 DEBUG 3576 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/v3/api-docs'], Ant [pattern='/v3/api-docs']]
2025-03-17T20:13:59.733-03:00  WARN 3576 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-03-17T20:13:59.734-03:00 DEBUG 3576 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']]
2025-03-17T20:13:59.734-03:00  WARN 3576 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-03-17T20:13:59.734-03:00 DEBUG 3576 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']]
2025-03-17T20:13:59.734-03:00  WARN 3576 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-03-17T20:13:59.734-03:00 DEBUG 3576 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']]
2025-03-17T20:13:59.734-03:00  WARN 3576 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/webjar/**'], Ant [pattern='/webjar/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-03-17T20:13:59.734-03:00 DEBUG 3576 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/webjar/**'], Ant [pattern='/webjar/**']]
2025-03-17T20:13:59.805-03:00 DEBUG 3576 --- [libraryapi] [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-03-17T20:13:59.886-03:00 DEBUG 3576 --- [libraryapi] [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2025-03-17T20:14:00.285-03:00  INFO 3576 --- [libraryapi] [main] c.g.s.libraryapi.LibraryapiApplication   : Started LibraryapiApplication in 9.942 seconds (process running for 10.439)
2025-03-17T20:27:05.169-03:00  INFO 5280 --- [libraryapi] [main] c.g.s.libraryapi.LibraryapiApplication   : Starting LibraryapiApplication using Java 21.0.2 with PID 5280 (C:\Users\RYAN\Desktop\Cursos Udemy\SpringBootExpert\libraryapi\target\classes started by RYAN in C:\Users\RYAN\Desktop\Cursos Udemy\SpringBootExpert\libraryapi)
2025-03-17T20:27:05.171-03:00 DEBUG 5280 --- [libraryapi] [main] c.g.s.libraryapi.LibraryapiApplication   : Running with Spring Boot v3.4.3, Spring v6.2.3
2025-03-17T20:27:05.172-03:00  INFO 5280 --- [libraryapi] [main] c.g.s.libraryapi.LibraryapiApplication   : No active profile set, falling back to 1 default profile: "default"
2025-03-17T20:27:08.476-03:00  WARN 5280 --- [libraryapi] [main] com.zaxxer.hikari.HikariConfig           : library-db-pool - idleTimeout is close to or more than maxLifetime, disabling it.
2025-03-17T20:27:11.282-03:00 DEBUG 5280 --- [libraryapi] [main] o.s.w.s.r.ResourceUrlEncodingFilter      : Filter 'resourceUrlEncodingFilter' configured for use
2025-03-17T20:27:11.284-03:00 DEBUG 5280 --- [libraryapi] [main] c.g.s.l.s.JwtCustomAuthenticationFilter  : Filter 'jwtCustomAuthenticationFilter' configured for use
2025-03-17T20:27:12.740-03:00  WARN 5280 --- [libraryapi] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-03-17T20:27:12.762-03:00 TRACE 5280 --- [libraryapi] [main] eGlobalAuthenticationAutowiredConfigurer : Eagerly initializing {authorizationServerConfiguration=com.github.springudemy.libraryapi.config.AuthorizationServerConfiguration$$SpringCGLIB$$0@5dfb078, securityConfiguration=com.github.springudemy.libraryapi.config.SecurityConfiguration$$SpringCGLIB$$0@60660d21}
2025-03-17T20:27:12.764-03:00  INFO 5280 --- [libraryapi] [main] eAuthenticationProviderManagerConfigurer : Global AuthenticationManager configured with AuthenticationProvider bean with name customAuthenticationProvider
2025-03-17T20:27:12.979-03:00 DEBUG 5280 --- [libraryapi] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 21 mappings in 'requestMappingHandlerMapping'
2025-03-17T20:27:13.001-03:00 DEBUG 5280 --- [libraryapi] [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/login] in 'viewControllerHandlerMapping'
2025-03-17T20:27:13.058-03:00 DEBUG 5280 --- [libraryapi] [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-03-17T20:27:13.974-03:00 DEBUG 5280 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x000001881bae08a8@bea7f47 with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, AuthorizationServerContextFilter, HeaderWriterFilter, CsrfFilter, OidcLogoutEndpointFilter, LogoutFilter, OAuth2AuthorizationServerMetadataEndpointFilter, OAuth2AuthorizationEndpointFilter, OAuth2DeviceVerificationEndpointFilter, OidcProviderConfigurationEndpointFilter, NimbusJwkSetEndpointFilter, OAuth2ClientAuthenticationFilter, UsernamePasswordAuthenticationFilter, BearerTokenAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, OAuth2TokenEndpointFilter, OAuth2TokenIntrospectionEndpointFilter, OAuth2TokenRevocationEndpointFilter, OAuth2DeviceAuthorizationEndpointFilter, OidcUserInfoEndpointFilter
2025-03-17T20:27:14.028-03:00 DEBUG 5280 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, OAuth2AuthorizationRequestRedirectFilter, OAuth2LoginAuthenticationFilter, UsernamePasswordAuthenticationFilter, BearerTokenAuthenticationFilter, JwtCustomAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-03-17T20:27:14.038-03:00  WARN 5280 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/v2/api-docs'], Ant [pattern='/v2/api-docs']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-03-17T20:27:14.039-03:00 DEBUG 5280 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/v2/api-docs'], Ant [pattern='/v2/api-docs']]
2025-03-17T20:27:14.039-03:00  WARN 5280 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/v3/api-docs'], Ant [pattern='/v3/api-docs']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-03-17T20:27:14.039-03:00 DEBUG 5280 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/v3/api-docs'], Ant [pattern='/v3/api-docs']]
2025-03-17T20:27:14.040-03:00  WARN 5280 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-03-17T20:27:14.040-03:00 DEBUG 5280 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']]
2025-03-17T20:27:14.040-03:00  WARN 5280 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-03-17T20:27:14.040-03:00 DEBUG 5280 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']]
2025-03-17T20:27:14.040-03:00  WARN 5280 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-03-17T20:27:14.040-03:00 DEBUG 5280 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']]
2025-03-17T20:27:14.040-03:00  WARN 5280 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/webjar/**'], Ant [pattern='/webjar/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-03-17T20:27:14.040-03:00 DEBUG 5280 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/webjar/**'], Ant [pattern='/webjar/**']]
2025-03-17T20:27:14.102-03:00 DEBUG 5280 --- [libraryapi] [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-03-17T20:27:14.180-03:00 DEBUG 5280 --- [libraryapi] [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2025-03-17T20:27:14.497-03:00  INFO 5280 --- [libraryapi] [main] c.g.s.libraryapi.LibraryapiApplication   : Started LibraryapiApplication in 10.03 seconds (process running for 10.59)
2025-03-17T20:27:21.116-03:00  INFO 5280 --- [libraryapi] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-03-17T20:27:21.116-03:00 DEBUG 5280 --- [libraryapi] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2025-03-17T20:27:21.116-03:00 DEBUG 5280 --- [libraryapi] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2025-03-17T20:27:21.117-03:00 DEBUG 5280 --- [libraryapi] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2025-03-17T20:27:21.118-03:00 DEBUG 5280 --- [libraryapi] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@29abec7e
2025-03-17T20:27:21.118-03:00 DEBUG 5280 --- [libraryapi] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@318856a5
2025-03-17T20:27:21.118-03:00 DEBUG 5280 --- [libraryapi] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-03-17T20:27:21.119-03:00  INFO 5280 --- [libraryapi] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 3 ms
2025-03-17T20:27:21.135-03:00 TRACE 5280 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain matching [Deferred [Mvc [pattern='/v2/api-docs'], Ant [pattern='/v2/api-docs']]] and having filters [] (1/8)
2025-03-17T20:27:21.137-03:00 TRACE 5280 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain matching [Deferred [Mvc [pattern='/v3/api-docs'], Ant [pattern='/v3/api-docs']]] and having filters [] (2/8)
2025-03-17T20:27:21.137-03:00 TRACE 5280 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain matching [Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']]] and having filters [] (3/8)
2025-03-17T20:27:21.137-03:00 TRACE 5280 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain matching [Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']]] and having filters [] (4/8)
2025-03-17T20:27:21.137-03:00 TRACE 5280 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain matching [Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']]] and having filters [] (5/8)
2025-03-17T20:27:21.138-03:00 TRACE 5280 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain matching [Deferred [Mvc [pattern='/webjar/**'], Ant [pattern='/webjar/**']]] and having filters [] (6/8)
2025-03-17T20:27:21.138-03:00 TRACE 5280 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain defined as 'authorizationServerSecurityFilterChain' in [class path resource [com/github/springudemy/libraryapi/config/AuthorizationServerConfiguration.class]] matching [org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x000001881bae08a8@bea7f47] and having filters [DisableEncodeUrl, WebAsyncManagerIntegration, SecurityContextHolder, AuthorizationServerContext, HeaderWriter, Csrf, OidcLogoutEndpoint, Logout, OAuth2AuthorizationServerMetadataEndpoint, OAuth2AuthorizationEndpoint, OAuth2DeviceVerificationEndpoint, OidcProviderConfigurationEndpoint, NimbusJwkSetEndpoint, OAuth2ClientAuthentication, UsernamePasswordAuthentication, BearerTokenAuthentication, RequestCacheAware, SecurityContextHolderAwareRequest, AnonymousAuthentication, ExceptionTranslation, OAuth2TokenEndpoint, OAuth2TokenIntrospectionEndpoint, OAuth2TokenRevocationEndpoint, OAuth2DeviceAuthorizationEndpoint, OidcUserInfoEndpoint] (7/8)
2025-03-17T20:27:21.139-03:00 DEBUG 5280 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /oauth2/authorize?response_type=code&client_id=meu-client&redirect_uri=http%3A%2F%2Flocalhost%3A8080%2Fauthorized
2025-03-17T20:27:21.139-03:00 TRACE 5280 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/25)
2025-03-17T20:27:21.140-03:00 TRACE 5280 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/25)
2025-03-17T20:27:21.143-03:00 TRACE 5280 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/25)
2025-03-17T20:27:21.144-03:00 TRACE 5280 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking AuthorizationServerContextFilter (4/25)
2025-03-17T20:27:21.159-03:00 TRACE 5280 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (5/25)
2025-03-17T20:27:21.161-03:00 TRACE 5280 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking CsrfFilter (6/25)
2025-03-17T20:27:21.163-03:00 TRACE 5280 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.csrf.CsrfFilter         : Did not protect against CSRF since request did not match And [CsrfNotRequired [TRACE, HEAD, GET, OPTIONS], Not [Or [Or [Or [Ant [pattern='/oauth2/token', POST], Ant [pattern='/oauth2/introspect', POST], Ant [pattern='/oauth2/revoke', POST], Ant [pattern='/oauth2/device_authorization', POST]], Ant [pattern='/.well-known/oauth-authorization-server', GET], Or [Ant [pattern='/oauth2/authorize', GET], Ant [pattern='/oauth2/authorize', POST]], Ant [pattern='/oauth2/token', POST], Ant [pattern='/oauth2/introspect', POST], Ant [pattern='/oauth2/revoke', POST], Ant [pattern='/oauth2/device_authorization', POST], Or [Ant [pattern='/oauth2/device_verification', GET], Ant [pattern='/oauth2/device_verification', POST]], Or [Ant [pattern='/.well-known/openid-configuration', GET], Or [Ant [pattern='/oauth2/logout', GET], Ant [pattern='/oauth2/logout', POST]], Or [Ant [pattern='/oauth2/userinfo', GET], Ant [pattern='/oauth2/userinfo', POST]]], Ant [pattern='/oauth2/jwks', GET]], org.springframework.security.config.annotation.web.configurers.oauth2.server.resource.OAuth2ResourceServerConfigurer$BearerTokenRequestMatcher@67b920c9]]]
2025-03-17T20:27:21.163-03:00 TRACE 5280 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking OidcLogoutEndpointFilter (7/25)
2025-03-17T20:27:21.163-03:00 TRACE 5280 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (8/25)
2025-03-17T20:27:21.163-03:00 TRACE 5280 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Ant [pattern='/logout', POST]
2025-03-17T20:27:21.163-03:00 TRACE 5280 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationServerMetadataEndpointFilter (9/25)
2025-03-17T20:27:21.163-03:00 TRACE 5280 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationEndpointFilter (10/25)
2025-03-17T20:27:21.166-03:00 TRACE 5280 --- [libraryapi] [http-nio-8080-exec-1] w.c.HttpSessionSecurityContextRepository : No HttpSession currently exists
2025-03-17T20:27:21.167-03:00 TRACE 5280 --- [libraryapi] [http-nio-8080-exec-1] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-03-17T20:27:21.167-03:00 TRACE 5280 --- [libraryapi] [http-nio-8080-exec-1] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-03-17T20:27:21.168-03:00 TRACE 5280 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.authentication.ProviderManager     : Authenticating request with OAuth2AuthorizationCodeRequestAuthenticationProvider (1/20)
2025-03-17T20:27:21.318-03:00 TRACE 5280 --- [libraryapi] [http-nio-8080-exec-1] izationCodeRequestAuthenticationProvider : Retrieved registered client
2025-03-17T20:27:21.319-03:00 TRACE 5280 --- [libraryapi] [http-nio-8080-exec-1] izationCodeRequestAuthenticationProvider : Validated authorization code request parameters
2025-03-17T20:27:21.320-03:00 TRACE 5280 --- [libraryapi] [http-nio-8080-exec-1] izationCodeRequestAuthenticationProvider : Did not authenticate authorization code request since principal not authenticated
2025-03-17T20:27:21.320-03:00 TRACE 5280 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking OAuth2DeviceVerificationEndpointFilter (11/25)
2025-03-17T20:27:21.320-03:00 TRACE 5280 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking OidcProviderConfigurationEndpointFilter (12/25)
2025-03-17T20:27:21.321-03:00 TRACE 5280 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking NimbusJwkSetEndpointFilter (13/25)
2025-03-17T20:27:21.321-03:00 TRACE 5280 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking OAuth2ClientAuthenticationFilter (14/25)
2025-03-17T20:27:21.321-03:00 TRACE 5280 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (15/25)
2025-03-17T20:27:21.321-03:00 TRACE 5280 --- [libraryapi] [http-nio-8080-exec-1] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-03-17T20:27:21.321-03:00 TRACE 5280 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (16/25)
2025-03-17T20:27:21.322-03:00 TRACE 5280 --- [libraryapi] [http-nio-8080-exec-1] .s.r.w.a.BearerTokenAuthenticationFilter : Did not process request since did not find bearer token
2025-03-17T20:27:21.322-03:00 TRACE 5280 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (17/25)
2025-03-17T20:27:21.322-03:00 TRACE 5280 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-03-17T20:27:21.322-03:00 TRACE 5280 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (18/25)
2025-03-17T20:27:21.324-03:00 TRACE 5280 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (19/25)
2025-03-17T20:27:21.325-03:00 TRACE 5280 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (20/25)
2025-03-17T20:27:21.325-03:00 TRACE 5280 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking OAuth2TokenEndpointFilter (21/25)
2025-03-17T20:27:21.325-03:00 TRACE 5280 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking OAuth2TokenIntrospectionEndpointFilter (22/25)
2025-03-17T20:27:21.325-03:00 TRACE 5280 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking OAuth2TokenRevocationEndpointFilter (23/25)
2025-03-17T20:27:21.325-03:00 TRACE 5280 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking OAuth2DeviceAuthorizationEndpointFilter (24/25)
2025-03-17T20:27:21.325-03:00 TRACE 5280 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking OidcUserInfoEndpointFilter (25/25)
2025-03-17T20:27:21.326-03:00 DEBUG 5280 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /oauth2/authorize?response_type=code&client_id=meu-client&redirect_uri=http%3A%2F%2Flocalhost%3A8080%2Fauthorized
2025-03-17T20:27:21.327-03:00 TRACE 5280 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]]
2025-03-17T20:27:21.330-03:00 DEBUG 5280 --- [libraryapi] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/oauth2/authorize?response_type=code&client_id=meu-client&redirect_uri=http%3A%2F%2Flocalhost%3A8080%2Fauthorized", parameters={masked}
2025-03-17T20:27:21.333-03:00  WARN 5280 --- [libraryapi] [http-nio-8080-exec-1] o.s.web.servlet.PageNotFound             : No mapping for GET /oauth2/authorize
2025-03-17T20:27:21.341-03:00  WARN 5280 --- [libraryapi] [http-nio-8080-exec-1] o.s.web.servlet.PageNotFound             : No endpoint GET /oauth2/authorize.
2025-03-17T20:27:21.342-03:00 TRACE 5280 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-03-17T20:27:21.343-03:00 DEBUG 5280 --- [libraryapi] [http-nio-8080-exec-1] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.servlet.NoHandlerFoundException: No endpoint GET /oauth2/authorize.]
2025-03-17T20:27:21.344-03:00 DEBUG 5280 --- [libraryapi] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 404 NOT_FOUND
2025-03-17T20:27:21.355-03:00 TRACE 5280 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain matching [Deferred [Mvc [pattern='/v2/api-docs'], Ant [pattern='/v2/api-docs']]] and having filters [] (1/8)
2025-03-17T20:27:21.356-03:00 TRACE 5280 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain matching [Deferred [Mvc [pattern='/v3/api-docs'], Ant [pattern='/v3/api-docs']]] and having filters [] (2/8)
2025-03-17T20:27:21.356-03:00 TRACE 5280 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain matching [Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']]] and having filters [] (3/8)
2025-03-17T20:27:21.356-03:00 TRACE 5280 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain matching [Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']]] and having filters [] (4/8)
2025-03-17T20:27:21.356-03:00 TRACE 5280 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain matching [Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']]] and having filters [] (5/8)
2025-03-17T20:27:21.356-03:00 TRACE 5280 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain matching [Deferred [Mvc [pattern='/webjar/**'], Ant [pattern='/webjar/**']]] and having filters [] (6/8)
2025-03-17T20:27:21.357-03:00 TRACE 5280 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain defined as 'authorizationServerSecurityFilterChain' in [class path resource [com/github/springudemy/libraryapi/config/AuthorizationServerConfiguration.class]] matching [org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x000001881bae08a8@bea7f47] and having filters [DisableEncodeUrl, WebAsyncManagerIntegration, SecurityContextHolder, AuthorizationServerContext, HeaderWriter, Csrf, OidcLogoutEndpoint, Logout, OAuth2AuthorizationServerMetadataEndpoint, OAuth2AuthorizationEndpoint, OAuth2DeviceVerificationEndpoint, OidcProviderConfigurationEndpoint, NimbusJwkSetEndpoint, OAuth2ClientAuthentication, UsernamePasswordAuthentication, BearerTokenAuthentication, RequestCacheAware, SecurityContextHolderAwareRequest, AnonymousAuthentication, ExceptionTranslation, OAuth2TokenEndpoint, OAuth2TokenIntrospectionEndpoint, OAuth2TokenRevocationEndpoint, OAuth2DeviceAuthorizationEndpoint, OidcUserInfoEndpoint] (7/8)
2025-03-17T20:27:21.357-03:00 TRACE 5280 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain defined as 'securityFilterChain' in [class path resource [com/github/springudemy/libraryapi/config/SecurityConfiguration.class]] matching [any request] and having filters [DisableEncodeUrl, WebAsyncManagerIntegration, SecurityContextHolder, HeaderWriter, Logout, OAuth2AuthorizationRequestRedirect, OAuth2LoginAuthentication, UsernamePasswordAuthentication, BearerTokenAuthentication, JwtCustomAuthentication, RequestCacheAware, SecurityContextHolderAwareRequest, AnonymousAuthentication, ExceptionTranslation, Authorization] (8/8)
2025-03-17T20:27:21.357-03:00 DEBUG 5280 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /error?response_type=code&client_id=meu-client&redirect_uri=http%3A%2F%2Flocalhost%3A8080%2Fauthorized
2025-03-17T20:27:21.357-03:00 TRACE 5280 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/15)
2025-03-17T20:27:21.357-03:00 TRACE 5280 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/15)
2025-03-17T20:27:21.358-03:00 TRACE 5280 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/15)
2025-03-17T20:27:21.358-03:00 TRACE 5280 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/15)
2025-03-17T20:27:21.358-03:00 TRACE 5280 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (5/15)
2025-03-17T20:27:21.358-03:00 TRACE 5280 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-03-17T20:27:21.358-03:00 TRACE 5280 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (6/15)
2025-03-17T20:27:21.358-03:00 TRACE 5280 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (7/15)
2025-03-17T20:27:21.358-03:00 TRACE 5280 --- [libraryapi] [http-nio-8080-exec-1] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2025-03-17T20:27:21.358-03:00 TRACE 5280 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (8/15)
2025-03-17T20:27:21.358-03:00 TRACE 5280 --- [libraryapi] [http-nio-8080-exec-1] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-03-17T20:27:21.359-03:00 TRACE 5280 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (9/15)
2025-03-17T20:27:21.359-03:00 TRACE 5280 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking JwtCustomAuthenticationFilter (10/15)
2025-03-17T20:27:21.359-03:00 TRACE 5280 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (11/15)
2025-03-17T20:27:21.359-03:00 TRACE 5280 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-03-17T20:27:21.359-03:00 TRACE 5280 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (12/15)
2025-03-17T20:27:21.359-03:00 TRACE 5280 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (13/15)
2025-03-17T20:27:21.360-03:00 TRACE 5280 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (14/15)
2025-03-17T20:27:21.360-03:00 TRACE 5280 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (15/15)
2025-03-17T20:27:21.360-03:00 TRACE 5280 --- [libraryapi] [http-nio-8080-exec-1] estMatcherDelegatingAuthorizationManager : Authorizing GET /error?response_type=code&client_id=meu-client&redirect_uri=http%3A%2F%2Flocalhost%3A8080%2Fauthorized
2025-03-17T20:27:21.361-03:00 TRACE 5280 --- [libraryapi] [http-nio-8080-exec-1] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /error?response_type=code&client_id=meu-client&redirect_uri=http%3A%2F%2Flocalhost%3A8080%2Fauthorized using org.springframework.security.authorization.AuthenticatedAuthorizationManager@78bbe0fe
2025-03-17T20:27:21.361-03:00 TRACE 5280 --- [libraryapi] [http-nio-8080-exec-1] w.c.HttpSessionSecurityContextRepository : No HttpSession currently exists
2025-03-17T20:27:21.361-03:00 TRACE 5280 --- [libraryapi] [http-nio-8080-exec-1] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-03-17T20:27:21.361-03:00 TRACE 5280 --- [libraryapi] [http-nio-8080-exec-1] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-03-17T20:27:21.362-03:00 TRACE 5280 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]]
2025-03-17T20:27:21.362-03:00 TRACE 5280 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.w.a.ExceptionTranslationFilter     : Sending AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]] to authentication entry point since access is denied

org.springframework.security.authorization.AuthorizationDeniedException: Access Denied
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:99) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.2.3.jar:6.2.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.2.3.jar:6.2.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.2.3.jar:6.2.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.2.3.jar:6.2.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.2.3.jar:6.2.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.2.3.jar:6.2.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.3.jar:6.2.3]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:243) ~[spring-webmvc-6.2.3.jar:6.2.3]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.3.jar:6.2.3]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.2.3.jar:6.2.3]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:238) ~[spring-security-config-6.4.3.jar:6.4.3]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362) ~[spring-web-6.2.3.jar:6.2.3]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278) ~[spring-web-6.2.3.jar:6.2.3]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.2.3.jar:6.2.3]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:633) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.catalina.core.ApplicationDispatcher.processRequest(ApplicationDispatcher.java:411) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.catalina.core.ApplicationDispatcher.doForward(ApplicationDispatcher.java:331) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.catalina.core.ApplicationDispatcher.forward(ApplicationDispatcher.java:268) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.catalina.core.StandardHostValve.custom(StandardHostValve.java:380) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.catalina.core.StandardHostValve.status(StandardHostValve.java:208) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:151) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]

2025-03-17T20:27:21.382-03:00 DEBUG 5280 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.w.s.HttpSessionRequestCache        : Saved request http://localhost:8080/error?response_type=code&client_id=meu-client&redirect_uri=http%3A%2F%2Flocalhost%3A8080%2Fauthorized&continue to session
2025-03-17T20:27:21.385-03:00 DEBUG 5280 --- [libraryapi] [http-nio-8080-exec-1] s.w.a.DelegatingAuthenticationEntryPoint : Trying to match using And [Not [RequestHeaderRequestMatcher [expectedHeaderName=X-Requested-With, expectedHeaderValue=XMLHttpRequest]], MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@6845dfcc, matchingMediaTypes=[application/xhtml+xml, image/*, text/html, text/plain], useEquals=false, ignoredMediaTypes=[*/*]]]
2025-03-17T20:27:21.386-03:00 DEBUG 5280 --- [libraryapi] [http-nio-8080-exec-1] s.w.a.DelegatingAuthenticationEntryPoint : Match found! Executing org.springframework.security.web.authentication.LoginUrlAuthenticationEntryPoint@739e76e6
2025-03-17T20:27:21.388-03:00 DEBUG 5280 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.web.DefaultRedirectStrategy        : Redirecting to http://localhost:8080/login;jsessionid=D8217C04EB3D7F7599FCCCB21C794BB7
2025-03-17T20:27:21.401-03:00 DEBUG 5280 --- [libraryapi] [http-nio-8080-exec-2] s.s.w.f.HttpStatusRequestRejectedHandler : Rejecting request due to: The request was rejected because the URL contained a potentially malicious String ";"

org.springframework.security.web.firewall.RequestRejectedException: The request was rejected because the URL contained a potentially malicious String ";"
	at org.springframework.security.web.firewall.StrictHttpFirewall.rejectedBlocklistedUrls(StrictHttpFirewall.java:548) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.firewall.StrictHttpFirewall.getFirewalledRequest(StrictHttpFirewall.java:518) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.3.jar:6.2.3]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:243) ~[spring-webmvc-6.2.3.jar:6.2.3]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.3.jar:6.2.3]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.2.3.jar:6.2.3]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:238) ~[spring-security-config-6.4.3.jar:6.4.3]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362) ~[spring-web-6.2.3.jar:6.2.3]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278) ~[spring-web-6.2.3.jar:6.2.3]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.2.3.jar:6.2.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.3.jar:6.2.3]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]

2025-03-17T20:27:21.402-03:00 TRACE 5280 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain matching [Deferred [Mvc [pattern='/v2/api-docs'], Ant [pattern='/v2/api-docs']]] and having filters [] (1/8)
2025-03-17T20:27:21.402-03:00 TRACE 5280 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain matching [Deferred [Mvc [pattern='/v3/api-docs'], Ant [pattern='/v3/api-docs']]] and having filters [] (2/8)
2025-03-17T20:27:21.402-03:00 TRACE 5280 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain matching [Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']]] and having filters [] (3/8)
2025-03-17T20:27:21.403-03:00 TRACE 5280 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain matching [Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']]] and having filters [] (4/8)
2025-03-17T20:27:21.403-03:00 TRACE 5280 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain matching [Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']]] and having filters [] (5/8)
2025-03-17T20:27:21.403-03:00 TRACE 5280 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain matching [Deferred [Mvc [pattern='/webjar/**'], Ant [pattern='/webjar/**']]] and having filters [] (6/8)
2025-03-17T20:27:21.403-03:00 TRACE 5280 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain defined as 'authorizationServerSecurityFilterChain' in [class path resource [com/github/springudemy/libraryapi/config/AuthorizationServerConfiguration.class]] matching [org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x000001881bae08a8@bea7f47] and having filters [DisableEncodeUrl, WebAsyncManagerIntegration, SecurityContextHolder, AuthorizationServerContext, HeaderWriter, Csrf, OidcLogoutEndpoint, Logout, OAuth2AuthorizationServerMetadataEndpoint, OAuth2AuthorizationEndpoint, OAuth2DeviceVerificationEndpoint, OidcProviderConfigurationEndpoint, NimbusJwkSetEndpoint, OAuth2ClientAuthentication, UsernamePasswordAuthentication, BearerTokenAuthentication, RequestCacheAware, SecurityContextHolderAwareRequest, AnonymousAuthentication, ExceptionTranslation, OAuth2TokenEndpoint, OAuth2TokenIntrospectionEndpoint, OAuth2TokenRevocationEndpoint, OAuth2DeviceAuthorizationEndpoint, OidcUserInfoEndpoint] (7/8)
2025-03-17T20:27:21.403-03:00 TRACE 5280 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain defined as 'securityFilterChain' in [class path resource [com/github/springudemy/libraryapi/config/SecurityConfiguration.class]] matching [any request] and having filters [DisableEncodeUrl, WebAsyncManagerIntegration, SecurityContextHolder, HeaderWriter, Logout, OAuth2AuthorizationRequestRedirect, OAuth2LoginAuthentication, UsernamePasswordAuthentication, BearerTokenAuthentication, JwtCustomAuthentication, RequestCacheAware, SecurityContextHolderAwareRequest, AnonymousAuthentication, ExceptionTranslation, Authorization] (8/8)
2025-03-17T20:27:21.403-03:00 DEBUG 5280 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /error
2025-03-17T20:27:21.403-03:00 TRACE 5280 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/15)
2025-03-17T20:27:21.403-03:00 TRACE 5280 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/15)
2025-03-17T20:27:21.404-03:00 TRACE 5280 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/15)
2025-03-17T20:27:21.404-03:00 TRACE 5280 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/15)
2025-03-17T20:27:21.404-03:00 TRACE 5280 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (5/15)
2025-03-17T20:27:21.404-03:00 TRACE 5280 --- [libraryapi] [http-nio-8080-exec-2] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-03-17T20:27:21.404-03:00 TRACE 5280 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (6/15)
2025-03-17T20:27:21.404-03:00 TRACE 5280 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (7/15)
2025-03-17T20:27:21.404-03:00 TRACE 5280 --- [libraryapi] [http-nio-8080-exec-2] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2025-03-17T20:27:21.404-03:00 TRACE 5280 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (8/15)
2025-03-17T20:27:21.404-03:00 TRACE 5280 --- [libraryapi] [http-nio-8080-exec-2] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-03-17T20:27:21.404-03:00 TRACE 5280 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (9/15)
2025-03-17T20:27:21.405-03:00 TRACE 5280 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking JwtCustomAuthenticationFilter (10/15)
2025-03-17T20:27:21.405-03:00 TRACE 5280 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (11/15)
2025-03-17T20:27:21.405-03:00 TRACE 5280 --- [libraryapi] [http-nio-8080-exec-2] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-03-17T20:27:21.405-03:00 TRACE 5280 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (12/15)
2025-03-17T20:27:21.405-03:00 TRACE 5280 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (13/15)
2025-03-17T20:27:21.405-03:00 TRACE 5280 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (14/15)
2025-03-17T20:27:21.405-03:00 TRACE 5280 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (15/15)
2025-03-17T20:27:21.405-03:00 TRACE 5280 --- [libraryapi] [http-nio-8080-exec-2] estMatcherDelegatingAuthorizationManager : Authorizing GET /error
2025-03-17T20:27:21.405-03:00 TRACE 5280 --- [libraryapi] [http-nio-8080-exec-2] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /error using org.springframework.security.authorization.AuthenticatedAuthorizationManager@78bbe0fe
2025-03-17T20:27:21.406-03:00 TRACE 5280 --- [libraryapi] [http-nio-8080-exec-2] w.c.HttpSessionSecurityContextRepository : Did not find SecurityContext in HttpSession D8217C04EB3D7F7599FCCCB21C794BB7 using the SPRING_SECURITY_CONTEXT session attribute
2025-03-17T20:27:21.406-03:00 TRACE 5280 --- [libraryapi] [http-nio-8080-exec-2] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-03-17T20:27:21.406-03:00 TRACE 5280 --- [libraryapi] [http-nio-8080-exec-2] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-03-17T20:27:21.406-03:00 TRACE 5280 --- [libraryapi] [http-nio-8080-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=D8217C04EB3D7F7599FCCCB21C794BB7], Granted Authorities=[ROLE_ANONYMOUS]]
2025-03-17T20:27:21.406-03:00 TRACE 5280 --- [libraryapi] [http-nio-8080-exec-2] o.s.s.w.a.ExceptionTranslationFilter     : Sending AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=D8217C04EB3D7F7599FCCCB21C794BB7], Granted Authorities=[ROLE_ANONYMOUS]] to authentication entry point since access is denied

org.springframework.security.authorization.AuthorizationDeniedException: Access Denied
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:99) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.2.3.jar:6.2.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.2.3.jar:6.2.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.2.3.jar:6.2.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.2.3.jar:6.2.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.2.3.jar:6.2.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.2.3.jar:6.2.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.3.jar:6.2.3]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:243) ~[spring-webmvc-6.2.3.jar:6.2.3]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.3.jar:6.2.3]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.2.3.jar:6.2.3]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:238) ~[spring-security-config-6.4.3.jar:6.4.3]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362) ~[spring-web-6.2.3.jar:6.2.3]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278) ~[spring-web-6.2.3.jar:6.2.3]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.2.3.jar:6.2.3]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:633) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.catalina.core.ApplicationDispatcher.processRequest(ApplicationDispatcher.java:411) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.catalina.core.ApplicationDispatcher.doForward(ApplicationDispatcher.java:331) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.catalina.core.ApplicationDispatcher.forward(ApplicationDispatcher.java:268) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.catalina.core.StandardHostValve.custom(StandardHostValve.java:380) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.catalina.core.StandardHostValve.status(StandardHostValve.java:208) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:151) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]

2025-03-17T20:27:21.409-03:00 DEBUG 5280 --- [libraryapi] [http-nio-8080-exec-2] o.s.s.w.s.HttpSessionRequestCache        : Saved request http://localhost:8080/error?continue to session
2025-03-17T20:27:21.409-03:00 DEBUG 5280 --- [libraryapi] [http-nio-8080-exec-2] s.w.a.DelegatingAuthenticationEntryPoint : Trying to match using And [Not [RequestHeaderRequestMatcher [expectedHeaderName=X-Requested-With, expectedHeaderValue=XMLHttpRequest]], MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@6845dfcc, matchingMediaTypes=[application/xhtml+xml, image/*, text/html, text/plain], useEquals=false, ignoredMediaTypes=[*/*]]]
2025-03-17T20:27:21.410-03:00 DEBUG 5280 --- [libraryapi] [http-nio-8080-exec-2] s.w.a.DelegatingAuthenticationEntryPoint : Match found! Executing org.springframework.security.web.authentication.LoginUrlAuthenticationEntryPoint@739e76e6
2025-03-17T20:27:21.410-03:00 DEBUG 5280 --- [libraryapi] [http-nio-8080-exec-2] o.s.s.web.DefaultRedirectStrategy        : Redirecting to http://localhost:8080/login
2025-03-17T20:27:21.419-03:00 TRACE 5280 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain matching [Deferred [Mvc [pattern='/v2/api-docs'], Ant [pattern='/v2/api-docs']]] and having filters [] (1/8)
2025-03-17T20:27:21.419-03:00 TRACE 5280 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain matching [Deferred [Mvc [pattern='/v3/api-docs'], Ant [pattern='/v3/api-docs']]] and having filters [] (2/8)
2025-03-17T20:27:21.420-03:00 TRACE 5280 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain matching [Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']]] and having filters [] (3/8)
2025-03-17T20:27:21.420-03:00 TRACE 5280 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain matching [Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']]] and having filters [] (4/8)
2025-03-17T20:27:21.420-03:00 TRACE 5280 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain matching [Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']]] and having filters [] (5/8)
2025-03-17T20:27:21.420-03:00 TRACE 5280 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain matching [Deferred [Mvc [pattern='/webjar/**'], Ant [pattern='/webjar/**']]] and having filters [] (6/8)
2025-03-17T20:27:21.420-03:00 TRACE 5280 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain defined as 'authorizationServerSecurityFilterChain' in [class path resource [com/github/springudemy/libraryapi/config/AuthorizationServerConfiguration.class]] matching [org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x000001881bae08a8@bea7f47] and having filters [DisableEncodeUrl, WebAsyncManagerIntegration, SecurityContextHolder, AuthorizationServerContext, HeaderWriter, Csrf, OidcLogoutEndpoint, Logout, OAuth2AuthorizationServerMetadataEndpoint, OAuth2AuthorizationEndpoint, OAuth2DeviceVerificationEndpoint, OidcProviderConfigurationEndpoint, NimbusJwkSetEndpoint, OAuth2ClientAuthentication, UsernamePasswordAuthentication, BearerTokenAuthentication, RequestCacheAware, SecurityContextHolderAwareRequest, AnonymousAuthentication, ExceptionTranslation, OAuth2TokenEndpoint, OAuth2TokenIntrospectionEndpoint, OAuth2TokenRevocationEndpoint, OAuth2DeviceAuthorizationEndpoint, OidcUserInfoEndpoint] (7/8)
2025-03-17T20:27:21.421-03:00 TRACE 5280 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain defined as 'securityFilterChain' in [class path resource [com/github/springudemy/libraryapi/config/SecurityConfiguration.class]] matching [any request] and having filters [DisableEncodeUrl, WebAsyncManagerIntegration, SecurityContextHolder, HeaderWriter, Logout, OAuth2AuthorizationRequestRedirect, OAuth2LoginAuthentication, UsernamePasswordAuthentication, BearerTokenAuthentication, JwtCustomAuthentication, RequestCacheAware, SecurityContextHolderAwareRequest, AnonymousAuthentication, ExceptionTranslation, Authorization] (8/8)
2025-03-17T20:27:21.421-03:00 DEBUG 5280 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /login
2025-03-17T20:27:21.421-03:00 TRACE 5280 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/15)
2025-03-17T20:27:21.422-03:00 TRACE 5280 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/15)
2025-03-17T20:27:21.422-03:00 TRACE 5280 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/15)
2025-03-17T20:27:21.422-03:00 TRACE 5280 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/15)
2025-03-17T20:27:21.422-03:00 TRACE 5280 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (5/15)
2025-03-17T20:27:21.422-03:00 TRACE 5280 --- [libraryapi] [http-nio-8080-exec-3] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-03-17T20:27:21.422-03:00 TRACE 5280 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (6/15)
2025-03-17T20:27:21.422-03:00 TRACE 5280 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (7/15)
2025-03-17T20:27:21.422-03:00 TRACE 5280 --- [libraryapi] [http-nio-8080-exec-3] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2025-03-17T20:27:21.423-03:00 TRACE 5280 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (8/15)
2025-03-17T20:27:21.423-03:00 TRACE 5280 --- [libraryapi] [http-nio-8080-exec-3] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-03-17T20:27:21.423-03:00 TRACE 5280 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (9/15)
2025-03-17T20:27:21.423-03:00 TRACE 5280 --- [libraryapi] [http-nio-8080-exec-3] .s.r.w.a.BearerTokenAuthenticationFilter : Did not process request since did not find bearer token
2025-03-17T20:27:21.423-03:00 TRACE 5280 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking JwtCustomAuthenticationFilter (10/15)
2025-03-17T20:27:21.423-03:00 TRACE 5280 --- [libraryapi] [http-nio-8080-exec-3] w.c.HttpSessionSecurityContextRepository : Did not find SecurityContext in HttpSession D8217C04EB3D7F7599FCCCB21C794BB7 using the SPRING_SECURITY_CONTEXT session attribute
2025-03-17T20:27:21.423-03:00 TRACE 5280 --- [libraryapi] [http-nio-8080-exec-3] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-03-17T20:27:21.423-03:00 TRACE 5280 --- [libraryapi] [http-nio-8080-exec-3] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-03-17T20:27:21.424-03:00 TRACE 5280 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (11/15)
2025-03-17T20:27:21.424-03:00 TRACE 5280 --- [libraryapi] [http-nio-8080-exec-3] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-03-17T20:27:21.424-03:00 TRACE 5280 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (12/15)
2025-03-17T20:27:21.424-03:00 TRACE 5280 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (13/15)
2025-03-17T20:27:21.424-03:00 TRACE 5280 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (14/15)
2025-03-17T20:27:21.424-03:00 TRACE 5280 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (15/15)
2025-03-17T20:27:21.424-03:00 TRACE 5280 --- [libraryapi] [http-nio-8080-exec-3] estMatcherDelegatingAuthorizationManager : Authorizing GET /login
2025-03-17T20:27:21.424-03:00 TRACE 5280 --- [libraryapi] [http-nio-8080-exec-3] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /login using org.springframework.security.config.annotation.web.configurers.AuthorizeHttpRequestsConfigurer$$Lambda/0x000001881bb239b8@7eb5ace5
2025-03-17T20:27:21.424-03:00 DEBUG 5280 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /login
2025-03-17T20:27:21.425-03:00 DEBUG 5280 --- [libraryapi] [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/login", parameters={}
2025-03-17T20:27:21.425-03:00 DEBUG 5280 --- [libraryapi] [http-nio-8080-exec-3] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ParameterizableViewController [view="login"]
2025-03-17T20:27:21.766-03:00 TRACE 5280 --- [libraryapi] [http-nio-8080-exec-3] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-03-17T20:27:21.768-03:00 DEBUG 5280 --- [libraryapi] [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-03-17T20:27:21.768-03:00 TRACE 5280 --- [libraryapi] [http-nio-8080-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=D8217C04EB3D7F7599FCCCB21C794BB7], Granted Authorities=[ROLE_ANONYMOUS]]
2025-03-17T20:27:27.290-03:00 TRACE 5280 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain matching [Deferred [Mvc [pattern='/v2/api-docs'], Ant [pattern='/v2/api-docs']]] and having filters [] (1/8)
2025-03-17T20:27:27.291-03:00 TRACE 5280 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain matching [Deferred [Mvc [pattern='/v3/api-docs'], Ant [pattern='/v3/api-docs']]] and having filters [] (2/8)
2025-03-17T20:27:27.291-03:00 TRACE 5280 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain matching [Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']]] and having filters [] (3/8)
2025-03-17T20:27:27.291-03:00 TRACE 5280 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain matching [Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']]] and having filters [] (4/8)
2025-03-17T20:27:27.291-03:00 TRACE 5280 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain matching [Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']]] and having filters [] (5/8)
2025-03-17T20:27:27.291-03:00 TRACE 5280 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain matching [Deferred [Mvc [pattern='/webjar/**'], Ant [pattern='/webjar/**']]] and having filters [] (6/8)
2025-03-17T20:27:27.291-03:00 TRACE 5280 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain defined as 'authorizationServerSecurityFilterChain' in [class path resource [com/github/springudemy/libraryapi/config/AuthorizationServerConfiguration.class]] matching [org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x000001881bae08a8@bea7f47] and having filters [DisableEncodeUrl, WebAsyncManagerIntegration, SecurityContextHolder, AuthorizationServerContext, HeaderWriter, Csrf, OidcLogoutEndpoint, Logout, OAuth2AuthorizationServerMetadataEndpoint, OAuth2AuthorizationEndpoint, OAuth2DeviceVerificationEndpoint, OidcProviderConfigurationEndpoint, NimbusJwkSetEndpoint, OAuth2ClientAuthentication, UsernamePasswordAuthentication, BearerTokenAuthentication, RequestCacheAware, SecurityContextHolderAwareRequest, AnonymousAuthentication, ExceptionTranslation, OAuth2TokenEndpoint, OAuth2TokenIntrospectionEndpoint, OAuth2TokenRevocationEndpoint, OAuth2DeviceAuthorizationEndpoint, OidcUserInfoEndpoint] (7/8)
2025-03-17T20:27:27.291-03:00 TRACE 5280 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain defined as 'securityFilterChain' in [class path resource [com/github/springudemy/libraryapi/config/SecurityConfiguration.class]] matching [any request] and having filters [DisableEncodeUrl, WebAsyncManagerIntegration, SecurityContextHolder, HeaderWriter, Logout, OAuth2AuthorizationRequestRedirect, OAuth2LoginAuthentication, UsernamePasswordAuthentication, BearerTokenAuthentication, JwtCustomAuthentication, RequestCacheAware, SecurityContextHolderAwareRequest, AnonymousAuthentication, ExceptionTranslation, Authorization] (8/8)
2025-03-17T20:27:27.291-03:00 DEBUG 5280 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing POST /login
2025-03-17T20:27:27.292-03:00 TRACE 5280 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/15)
2025-03-17T20:27:27.292-03:00 TRACE 5280 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/15)
2025-03-17T20:27:27.292-03:00 TRACE 5280 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/15)
2025-03-17T20:27:27.292-03:00 TRACE 5280 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/15)
2025-03-17T20:27:27.292-03:00 TRACE 5280 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (5/15)
2025-03-17T20:27:27.292-03:00 TRACE 5280 --- [libraryapi] [http-nio-8080-exec-4] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-03-17T20:27:27.292-03:00 TRACE 5280 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (6/15)
2025-03-17T20:27:27.292-03:00 TRACE 5280 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (7/15)
2025-03-17T20:27:27.293-03:00 TRACE 5280 --- [libraryapi] [http-nio-8080-exec-4] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2025-03-17T20:27:27.293-03:00 TRACE 5280 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (8/15)
2025-03-17T20:27:27.293-03:00 TRACE 5280 --- [libraryapi] [http-nio-8080-exec-4] o.s.s.authentication.ProviderManager     : Authenticating request with CustomAuthenticationProvider (1/1)
2025-03-17T20:27:27.400-03:00 TRACE 5280 --- [libraryapi] [http-nio-8080-exec-4] s.CompositeSessionAuthenticationStrategy : Preparing session with ChangeSessionIdAuthenticationStrategy (1/1)
2025-03-17T20:27:27.401-03:00 DEBUG 5280 --- [libraryapi] [http-nio-8080-exec-4] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from D8217C04EB3D7F7599FCCCB21C794BB7
2025-03-17T20:27:27.402-03:00 DEBUG 5280 --- [libraryapi] [http-nio-8080-exec-4] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=com.github.springudemy.libraryapi.security.CustomAuthentication@57727be7] to HttpSession [org.apache.catalina.session.StandardSessionFacade@2bd5bb82]
2025-03-17T20:27:27.402-03:00 DEBUG 5280 --- [libraryapi] [http-nio-8080-exec-4] w.a.UsernamePasswordAuthenticationFilter : Set SecurityContextHolder to com.github.springudemy.libraryapi.security.CustomAuthentication@57727be7
2025-03-17T20:27:27.402-03:00 DEBUG 5280 --- [libraryapi] [http-nio-8080-exec-4] o.s.s.web.DefaultRedirectStrategy        : Redirecting to http://localhost:8080/error?continue
2025-03-17T20:27:27.402-03:00 TRACE 5280 --- [libraryapi] [http-nio-8080-exec-4] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-03-17T20:27:27.409-03:00 TRACE 5280 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain matching [Deferred [Mvc [pattern='/v2/api-docs'], Ant [pattern='/v2/api-docs']]] and having filters [] (1/8)
2025-03-17T20:27:27.409-03:00 TRACE 5280 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain matching [Deferred [Mvc [pattern='/v3/api-docs'], Ant [pattern='/v3/api-docs']]] and having filters [] (2/8)
2025-03-17T20:27:27.409-03:00 TRACE 5280 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain matching [Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']]] and having filters [] (3/8)
2025-03-17T20:27:27.409-03:00 TRACE 5280 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain matching [Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']]] and having filters [] (4/8)
2025-03-17T20:27:27.409-03:00 TRACE 5280 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain matching [Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']]] and having filters [] (5/8)
2025-03-17T20:27:27.409-03:00 TRACE 5280 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain matching [Deferred [Mvc [pattern='/webjar/**'], Ant [pattern='/webjar/**']]] and having filters [] (6/8)
2025-03-17T20:27:27.409-03:00 TRACE 5280 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain defined as 'authorizationServerSecurityFilterChain' in [class path resource [com/github/springudemy/libraryapi/config/AuthorizationServerConfiguration.class]] matching [org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x000001881bae08a8@bea7f47] and having filters [DisableEncodeUrl, WebAsyncManagerIntegration, SecurityContextHolder, AuthorizationServerContext, HeaderWriter, Csrf, OidcLogoutEndpoint, Logout, OAuth2AuthorizationServerMetadataEndpoint, OAuth2AuthorizationEndpoint, OAuth2DeviceVerificationEndpoint, OidcProviderConfigurationEndpoint, NimbusJwkSetEndpoint, OAuth2ClientAuthentication, UsernamePasswordAuthentication, BearerTokenAuthentication, RequestCacheAware, SecurityContextHolderAwareRequest, AnonymousAuthentication, ExceptionTranslation, OAuth2TokenEndpoint, OAuth2TokenIntrospectionEndpoint, OAuth2TokenRevocationEndpoint, OAuth2DeviceAuthorizationEndpoint, OidcUserInfoEndpoint] (7/8)
2025-03-17T20:27:27.410-03:00 TRACE 5280 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain defined as 'securityFilterChain' in [class path resource [com/github/springudemy/libraryapi/config/SecurityConfiguration.class]] matching [any request] and having filters [DisableEncodeUrl, WebAsyncManagerIntegration, SecurityContextHolder, HeaderWriter, Logout, OAuth2AuthorizationRequestRedirect, OAuth2LoginAuthentication, UsernamePasswordAuthentication, BearerTokenAuthentication, JwtCustomAuthentication, RequestCacheAware, SecurityContextHolderAwareRequest, AnonymousAuthentication, ExceptionTranslation, Authorization] (8/8)
2025-03-17T20:27:27.410-03:00 DEBUG 5280 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /error?continue
2025-03-17T20:27:27.410-03:00 TRACE 5280 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/15)
2025-03-17T20:27:27.410-03:00 TRACE 5280 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/15)
2025-03-17T20:27:27.410-03:00 TRACE 5280 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/15)
2025-03-17T20:27:27.410-03:00 TRACE 5280 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/15)
2025-03-17T20:27:27.410-03:00 TRACE 5280 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (5/15)
2025-03-17T20:27:27.410-03:00 TRACE 5280 --- [libraryapi] [http-nio-8080-exec-5] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-03-17T20:27:27.410-03:00 TRACE 5280 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (6/15)
2025-03-17T20:27:27.411-03:00 TRACE 5280 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (7/15)
2025-03-17T20:27:27.411-03:00 TRACE 5280 --- [libraryapi] [http-nio-8080-exec-5] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2025-03-17T20:27:27.411-03:00 TRACE 5280 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (8/15)
2025-03-17T20:27:27.411-03:00 TRACE 5280 --- [libraryapi] [http-nio-8080-exec-5] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-03-17T20:27:27.411-03:00 TRACE 5280 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (9/15)
2025-03-17T20:27:27.411-03:00 TRACE 5280 --- [libraryapi] [http-nio-8080-exec-5] .s.r.w.a.BearerTokenAuthenticationFilter : Did not process request since did not find bearer token
2025-03-17T20:27:27.411-03:00 TRACE 5280 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking JwtCustomAuthenticationFilter (10/15)
2025-03-17T20:27:27.411-03:00 TRACE 5280 --- [libraryapi] [http-nio-8080-exec-5] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=com.github.springudemy.libraryapi.security.CustomAuthentication@57727be7] from SPRING_SECURITY_CONTEXT
2025-03-17T20:27:27.411-03:00 TRACE 5280 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (11/15)
2025-03-17T20:27:27.412-03:00 TRACE 5280 --- [libraryapi] [http-nio-8080-exec-5] o.s.s.w.s.HttpSessionRequestCache        : Removing DefaultSavedRequest from session if present
2025-03-17T20:27:27.412-03:00 DEBUG 5280 --- [libraryapi] [http-nio-8080-exec-5] o.s.s.w.s.HttpSessionRequestCache        : Loaded matching saved request http://localhost:8080/error?continue
2025-03-17T20:27:27.413-03:00 TRACE 5280 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (12/15)
2025-03-17T20:27:27.413-03:00 TRACE 5280 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (13/15)
2025-03-17T20:27:27.414-03:00 TRACE 5280 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (14/15)
2025-03-17T20:27:27.414-03:00 TRACE 5280 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (15/15)
2025-03-17T20:27:27.414-03:00 TRACE 5280 --- [libraryapi] [http-nio-8080-exec-5] estMatcherDelegatingAuthorizationManager : Authorizing GET /error?continue
2025-03-17T20:27:27.414-03:00 TRACE 5280 --- [libraryapi] [http-nio-8080-exec-5] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /error?continue using org.springframework.security.authorization.AuthenticatedAuthorizationManager@78bbe0fe
2025-03-17T20:27:27.414-03:00 TRACE 5280 --- [libraryapi] [http-nio-8080-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated com.github.springudemy.libraryapi.security.CustomAuthentication@57727be7
2025-03-17T20:27:27.414-03:00 DEBUG 5280 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /error?continue
2025-03-17T20:27:27.414-03:00 DEBUG 5280 --- [libraryapi] [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/error?continue", parameters={masked}
2025-03-17T20:27:27.415-03:00 DEBUG 5280 --- [libraryapi] [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#errorHtml(HttpServletRequest, HttpServletResponse)
2025-03-17T20:27:27.445-03:00 DEBUG 5280 --- [libraryapi] [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 500 INTERNAL_SERVER_ERROR
2025-03-17T20:27:27.445-03:00 TRACE 5280 --- [libraryapi] [http-nio-8080-exec-5] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-03-17T20:27:29.904-03:00 TRACE 5280 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain matching [Deferred [Mvc [pattern='/v2/api-docs'], Ant [pattern='/v2/api-docs']]] and having filters [] (1/8)
2025-03-17T20:27:29.904-03:00 TRACE 5280 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain matching [Deferred [Mvc [pattern='/v3/api-docs'], Ant [pattern='/v3/api-docs']]] and having filters [] (2/8)
2025-03-17T20:27:29.904-03:00 TRACE 5280 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain matching [Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']]] and having filters [] (3/8)
2025-03-17T20:27:29.904-03:00 TRACE 5280 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain matching [Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']]] and having filters [] (4/8)
2025-03-17T20:27:29.904-03:00 TRACE 5280 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain matching [Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']]] and having filters [] (5/8)
2025-03-17T20:27:29.905-03:00 TRACE 5280 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain matching [Deferred [Mvc [pattern='/webjar/**'], Ant [pattern='/webjar/**']]] and having filters [] (6/8)
2025-03-17T20:27:29.905-03:00 TRACE 5280 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain defined as 'authorizationServerSecurityFilterChain' in [class path resource [com/github/springudemy/libraryapi/config/AuthorizationServerConfiguration.class]] matching [org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x000001881bae08a8@bea7f47] and having filters [DisableEncodeUrl, WebAsyncManagerIntegration, SecurityContextHolder, AuthorizationServerContext, HeaderWriter, Csrf, OidcLogoutEndpoint, Logout, OAuth2AuthorizationServerMetadataEndpoint, OAuth2AuthorizationEndpoint, OAuth2DeviceVerificationEndpoint, OidcProviderConfigurationEndpoint, NimbusJwkSetEndpoint, OAuth2ClientAuthentication, UsernamePasswordAuthentication, BearerTokenAuthentication, RequestCacheAware, SecurityContextHolderAwareRequest, AnonymousAuthentication, ExceptionTranslation, OAuth2TokenEndpoint, OAuth2TokenIntrospectionEndpoint, OAuth2TokenRevocationEndpoint, OAuth2DeviceAuthorizationEndpoint, OidcUserInfoEndpoint] (7/8)
2025-03-17T20:27:29.905-03:00 DEBUG 5280 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /oauth2/authorize?response_type=code&client_id=meu-client&redirect_uri=http%3A%2F%2Flocalhost%3A8080%2Fauthorized
2025-03-17T20:27:29.905-03:00 TRACE 5280 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/25)
2025-03-17T20:27:29.905-03:00 TRACE 5280 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/25)
2025-03-17T20:27:29.905-03:00 TRACE 5280 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/25)
2025-03-17T20:27:29.905-03:00 TRACE 5280 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking AuthorizationServerContextFilter (4/25)
2025-03-17T20:27:29.905-03:00 TRACE 5280 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (5/25)
2025-03-17T20:27:29.905-03:00 TRACE 5280 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking CsrfFilter (6/25)
2025-03-17T20:27:29.906-03:00 TRACE 5280 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.csrf.CsrfFilter         : Did not protect against CSRF since request did not match And [CsrfNotRequired [TRACE, HEAD, GET, OPTIONS], Not [Or [Or [Or [Ant [pattern='/oauth2/token', POST], Ant [pattern='/oauth2/introspect', POST], Ant [pattern='/oauth2/revoke', POST], Ant [pattern='/oauth2/device_authorization', POST]], Ant [pattern='/.well-known/oauth-authorization-server', GET], Or [Ant [pattern='/oauth2/authorize', GET], Ant [pattern='/oauth2/authorize', POST]], Ant [pattern='/oauth2/token', POST], Ant [pattern='/oauth2/introspect', POST], Ant [pattern='/oauth2/revoke', POST], Ant [pattern='/oauth2/device_authorization', POST], Or [Ant [pattern='/oauth2/device_verification', GET], Ant [pattern='/oauth2/device_verification', POST]], Or [Ant [pattern='/.well-known/openid-configuration', GET], Or [Ant [pattern='/oauth2/logout', GET], Ant [pattern='/oauth2/logout', POST]], Or [Ant [pattern='/oauth2/userinfo', GET], Ant [pattern='/oauth2/userinfo', POST]]], Ant [pattern='/oauth2/jwks', GET]], org.springframework.security.config.annotation.web.configurers.oauth2.server.resource.OAuth2ResourceServerConfigurer$BearerTokenRequestMatcher@67b920c9]]]
2025-03-17T20:27:29.906-03:00 TRACE 5280 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking OidcLogoutEndpointFilter (7/25)
2025-03-17T20:27:29.906-03:00 TRACE 5280 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (8/25)
2025-03-17T20:27:29.906-03:00 TRACE 5280 --- [libraryapi] [http-nio-8080-exec-6] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Ant [pattern='/logout', POST]
2025-03-17T20:27:29.906-03:00 TRACE 5280 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationServerMetadataEndpointFilter (9/25)
2025-03-17T20:27:29.906-03:00 TRACE 5280 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationEndpointFilter (10/25)
2025-03-17T20:27:29.906-03:00 TRACE 5280 --- [libraryapi] [http-nio-8080-exec-6] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=com.github.springudemy.libraryapi.security.CustomAuthentication@57727be7] from SPRING_SECURITY_CONTEXT
2025-03-17T20:27:29.907-03:00 TRACE 5280 --- [libraryapi] [http-nio-8080-exec-6] o.s.s.authentication.ProviderManager     : Authenticating request with OAuth2AuthorizationCodeRequestAuthenticationProvider (1/20)
2025-03-17T20:27:29.913-03:00 TRACE 5280 --- [libraryapi] [http-nio-8080-exec-6] izationCodeRequestAuthenticationProvider : Retrieved registered client
2025-03-17T20:27:29.913-03:00 TRACE 5280 --- [libraryapi] [http-nio-8080-exec-6] izationCodeRequestAuthenticationProvider : Validated authorization code request parameters
2025-03-17T20:27:29.921-03:00 TRACE 5280 --- [libraryapi] [http-nio-8080-exec-6] izationCodeRequestAuthenticationProvider : Generated authorization code
2025-03-17T20:27:29.923-03:00 TRACE 5280 --- [libraryapi] [http-nio-8080-exec-6] izationCodeRequestAuthenticationProvider : Saved authorization
2025-03-17T20:27:29.923-03:00 TRACE 5280 --- [libraryapi] [http-nio-8080-exec-6] izationCodeRequestAuthenticationProvider : Authenticated authorization code request
2025-03-17T20:27:29.923-03:00 DEBUG 5280 --- [libraryapi] [http-nio-8080-exec-6] o.s.s.web.DefaultRedirectStrategy        : Redirecting to http://localhost:8080/authorized?code=yLUz0KEEpel8BG16-v0Zep5UwfrobE7jqRx07ejlExdgmW8ryR3NzmZp9bYUbkngRGPswzGMVPitfsC5b_-Pcq8lol-diK1Mr1fRYxN9-IjhF8x6HG0NFiNB6xFGz92K
2025-03-17T20:27:29.923-03:00 TRACE 5280 --- [libraryapi] [http-nio-8080-exec-6] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-03-17T20:27:30.358-03:00 TRACE 5280 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain matching [Deferred [Mvc [pattern='/v2/api-docs'], Ant [pattern='/v2/api-docs']]] and having filters [] (1/8)
2025-03-17T20:27:30.358-03:00 TRACE 5280 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain matching [Deferred [Mvc [pattern='/v3/api-docs'], Ant [pattern='/v3/api-docs']]] and having filters [] (2/8)
2025-03-17T20:27:30.358-03:00 TRACE 5280 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain matching [Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']]] and having filters [] (3/8)
2025-03-17T20:27:30.358-03:00 TRACE 5280 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain matching [Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']]] and having filters [] (4/8)
2025-03-17T20:27:30.359-03:00 TRACE 5280 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain matching [Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']]] and having filters [] (5/8)
2025-03-17T20:27:30.359-03:00 TRACE 5280 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain matching [Deferred [Mvc [pattern='/webjar/**'], Ant [pattern='/webjar/**']]] and having filters [] (6/8)
2025-03-17T20:27:30.359-03:00 TRACE 5280 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain defined as 'authorizationServerSecurityFilterChain' in [class path resource [com/github/springudemy/libraryapi/config/AuthorizationServerConfiguration.class]] matching [org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x000001881bae08a8@bea7f47] and having filters [DisableEncodeUrl, WebAsyncManagerIntegration, SecurityContextHolder, AuthorizationServerContext, HeaderWriter, Csrf, OidcLogoutEndpoint, Logout, OAuth2AuthorizationServerMetadataEndpoint, OAuth2AuthorizationEndpoint, OAuth2DeviceVerificationEndpoint, OidcProviderConfigurationEndpoint, NimbusJwkSetEndpoint, OAuth2ClientAuthentication, UsernamePasswordAuthentication, BearerTokenAuthentication, RequestCacheAware, SecurityContextHolderAwareRequest, AnonymousAuthentication, ExceptionTranslation, OAuth2TokenEndpoint, OAuth2TokenIntrospectionEndpoint, OAuth2TokenRevocationEndpoint, OAuth2DeviceAuthorizationEndpoint, OidcUserInfoEndpoint] (7/8)
2025-03-17T20:27:30.359-03:00 DEBUG 5280 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing POST /oauth2/token
2025-03-17T20:27:30.359-03:00 TRACE 5280 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/25)
2025-03-17T20:27:30.359-03:00 TRACE 5280 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/25)
2025-03-17T20:27:30.359-03:00 TRACE 5280 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/25)
2025-03-17T20:27:30.359-03:00 TRACE 5280 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking AuthorizationServerContextFilter (4/25)
2025-03-17T20:27:30.360-03:00 TRACE 5280 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (5/25)
2025-03-17T20:27:30.360-03:00 TRACE 5280 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking CsrfFilter (6/25)
2025-03-17T20:27:30.360-03:00 TRACE 5280 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.csrf.CsrfFilter         : Did not protect against CSRF since request did not match And [CsrfNotRequired [TRACE, HEAD, GET, OPTIONS], Not [Or [Or [Or [Ant [pattern='/oauth2/token', POST], Ant [pattern='/oauth2/introspect', POST], Ant [pattern='/oauth2/revoke', POST], Ant [pattern='/oauth2/device_authorization', POST]], Ant [pattern='/.well-known/oauth-authorization-server', GET], Or [Ant [pattern='/oauth2/authorize', GET], Ant [pattern='/oauth2/authorize', POST]], Ant [pattern='/oauth2/token', POST], Ant [pattern='/oauth2/introspect', POST], Ant [pattern='/oauth2/revoke', POST], Ant [pattern='/oauth2/device_authorization', POST], Or [Ant [pattern='/oauth2/device_verification', GET], Ant [pattern='/oauth2/device_verification', POST]], Or [Ant [pattern='/.well-known/openid-configuration', GET], Or [Ant [pattern='/oauth2/logout', GET], Ant [pattern='/oauth2/logout', POST]], Or [Ant [pattern='/oauth2/userinfo', GET], Ant [pattern='/oauth2/userinfo', POST]]], Ant [pattern='/oauth2/jwks', GET]], org.springframework.security.config.annotation.web.configurers.oauth2.server.resource.OAuth2ResourceServerConfigurer$BearerTokenRequestMatcher@67b920c9]]]
2025-03-17T20:27:30.360-03:00 TRACE 5280 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking OidcLogoutEndpointFilter (7/25)
2025-03-17T20:27:30.360-03:00 TRACE 5280 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (8/25)
2025-03-17T20:27:30.360-03:00 TRACE 5280 --- [libraryapi] [http-nio-8080-exec-9] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Ant [pattern='/logout', POST]
2025-03-17T20:27:30.361-03:00 TRACE 5280 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationServerMetadataEndpointFilter (9/25)
2025-03-17T20:27:30.361-03:00 TRACE 5280 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationEndpointFilter (10/25)
2025-03-17T20:27:30.361-03:00 TRACE 5280 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking OAuth2DeviceVerificationEndpointFilter (11/25)
2025-03-17T20:27:30.361-03:00 TRACE 5280 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking OidcProviderConfigurationEndpointFilter (12/25)
2025-03-17T20:27:30.361-03:00 TRACE 5280 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking NimbusJwkSetEndpointFilter (13/25)
2025-03-17T20:27:30.361-03:00 TRACE 5280 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking OAuth2ClientAuthenticationFilter (14/25)
2025-03-17T20:27:30.363-03:00 TRACE 5280 --- [libraryapi] [http-nio-8080-exec-9] o.s.s.authentication.ProviderManager     : Authenticating request with JwtClientAssertionAuthenticationProvider (1/20)
2025-03-17T20:27:30.363-03:00 TRACE 5280 --- [libraryapi] [http-nio-8080-exec-9] o.s.s.authentication.ProviderManager     : Authenticating request with X509ClientCertificateAuthenticationProvider (2/20)
2025-03-17T20:27:30.363-03:00 TRACE 5280 --- [libraryapi] [http-nio-8080-exec-9] o.s.s.authentication.ProviderManager     : Authenticating request with ClientSecretAuthenticationProvider (3/20)
2025-03-17T20:27:30.367-03:00 TRACE 5280 --- [libraryapi] [http-nio-8080-exec-9] s.a.a.ClientSecretAuthenticationProvider : Retrieved registered client
2025-03-17T20:27:30.447-03:00 TRACE 5280 --- [libraryapi] [http-nio-8080-exec-9] s.a.a.ClientSecretAuthenticationProvider : Validated client authentication parameters
2025-03-17T20:27:30.447-03:00 TRACE 5280 --- [libraryapi] [http-nio-8080-exec-9] o.s.s.o.s.a.a.CodeVerifierAuthenticator  : Retrieved authorization with authorization code
2025-03-17T20:27:30.447-03:00 TRACE 5280 --- [libraryapi] [http-nio-8080-exec-9] o.s.s.o.s.a.a.CodeVerifierAuthenticator  : Did not authenticate code verifier since requireProofKey=false
2025-03-17T20:27:30.447-03:00 TRACE 5280 --- [libraryapi] [http-nio-8080-exec-9] s.a.a.ClientSecretAuthenticationProvider : Authenticated client secret
2025-03-17T20:27:30.447-03:00 DEBUG 5280 --- [libraryapi] [http-nio-8080-exec-9] o.s.a.w.OAuth2ClientAuthenticationFilter : Set SecurityContextHolder authentication to OAuth2ClientAuthenticationToken
2025-03-17T20:27:30.447-03:00 TRACE 5280 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (15/25)
2025-03-17T20:27:30.448-03:00 TRACE 5280 --- [libraryapi] [http-nio-8080-exec-9] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-03-17T20:27:30.448-03:00 TRACE 5280 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (16/25)
2025-03-17T20:27:30.448-03:00 TRACE 5280 --- [libraryapi] [http-nio-8080-exec-9] .s.r.w.a.BearerTokenAuthenticationFilter : Did not process request since did not find bearer token
2025-03-17T20:27:30.448-03:00 TRACE 5280 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (17/25)
2025-03-17T20:27:30.448-03:00 TRACE 5280 --- [libraryapi] [http-nio-8080-exec-9] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-03-17T20:27:30.448-03:00 TRACE 5280 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (18/25)
2025-03-17T20:27:30.448-03:00 TRACE 5280 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (19/25)
2025-03-17T20:27:30.448-03:00 TRACE 5280 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (20/25)
2025-03-17T20:27:30.448-03:00 TRACE 5280 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking OAuth2TokenEndpointFilter (21/25)
2025-03-17T20:27:30.448-03:00 TRACE 5280 --- [libraryapi] [http-nio-8080-exec-9] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated OAuth2ClientAuthenticationToken [Principal=meu-client, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[]]
2025-03-17T20:27:30.449-03:00 TRACE 5280 --- [libraryapi] [http-nio-8080-exec-9] o.s.s.authentication.ProviderManager     : Authenticating request with OAuth2AuthorizationCodeAuthenticationProvider (1/20)
2025-03-17T20:27:30.450-03:00 TRACE 5280 --- [libraryapi] [http-nio-8080-exec-9] 2AuthorizationCodeAuthenticationProvider : Retrieved registered client
2025-03-17T20:27:30.450-03:00 TRACE 5280 --- [libraryapi] [http-nio-8080-exec-9] 2AuthorizationCodeAuthenticationProvider : Retrieved authorization with authorization code
2025-03-17T20:27:30.450-03:00 TRACE 5280 --- [libraryapi] [http-nio-8080-exec-9] 2AuthorizationCodeAuthenticationProvider : Validated token request parameters
2025-03-17T20:27:30.530-03:00 TRACE 5280 --- [libraryapi] [http-nio-8080-exec-9] 2AuthorizationCodeAuthenticationProvider : Generated access token
2025-03-17T20:27:30.532-03:00 TRACE 5280 --- [libraryapi] [http-nio-8080-exec-9] 2AuthorizationCodeAuthenticationProvider : Generated refresh token
2025-03-17T20:27:30.532-03:00 TRACE 5280 --- [libraryapi] [http-nio-8080-exec-9] 2AuthorizationCodeAuthenticationProvider : Saved authorization
2025-03-17T20:27:30.532-03:00 TRACE 5280 --- [libraryapi] [http-nio-8080-exec-9] 2AuthorizationCodeAuthenticationProvider : Authenticated token request
2025-03-17T20:27:30.564-03:00 TRACE 5280 --- [libraryapi] [http-nio-8080-exec-9] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-03-17T20:28:17.607-03:00 TRACE 5280 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain matching [Deferred [Mvc [pattern='/v2/api-docs'], Ant [pattern='/v2/api-docs']]] and having filters [] (1/8)
2025-03-17T20:28:17.607-03:00 TRACE 5280 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain matching [Deferred [Mvc [pattern='/v3/api-docs'], Ant [pattern='/v3/api-docs']]] and having filters [] (2/8)
2025-03-17T20:28:17.607-03:00 TRACE 5280 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain matching [Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']]] and having filters [] (3/8)
2025-03-17T20:28:17.607-03:00 TRACE 5280 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain matching [Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']]] and having filters [] (4/8)
2025-03-17T20:28:17.607-03:00 TRACE 5280 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain matching [Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']]] and having filters [] (5/8)
2025-03-17T20:28:17.607-03:00 TRACE 5280 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain matching [Deferred [Mvc [pattern='/webjar/**'], Ant [pattern='/webjar/**']]] and having filters [] (6/8)
2025-03-17T20:28:17.608-03:00 TRACE 5280 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain defined as 'authorizationServerSecurityFilterChain' in [class path resource [com/github/springudemy/libraryapi/config/AuthorizationServerConfiguration.class]] matching [org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x000001881bae08a8@bea7f47] and having filters [DisableEncodeUrl, WebAsyncManagerIntegration, SecurityContextHolder, AuthorizationServerContext, HeaderWriter, Csrf, OidcLogoutEndpoint, Logout, OAuth2AuthorizationServerMetadataEndpoint, OAuth2AuthorizationEndpoint, OAuth2DeviceVerificationEndpoint, OidcProviderConfigurationEndpoint, NimbusJwkSetEndpoint, OAuth2ClientAuthentication, UsernamePasswordAuthentication, BearerTokenAuthentication, RequestCacheAware, SecurityContextHolderAwareRequest, AnonymousAuthentication, ExceptionTranslation, OAuth2TokenEndpoint, OAuth2TokenIntrospectionEndpoint, OAuth2TokenRevocationEndpoint, OAuth2DeviceAuthorizationEndpoint, OidcUserInfoEndpoint] (7/8)
2025-03-17T20:28:17.608-03:00 TRACE 5280 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain defined as 'securityFilterChain' in [class path resource [com/github/springudemy/libraryapi/config/SecurityConfiguration.class]] matching [any request] and having filters [DisableEncodeUrl, WebAsyncManagerIntegration, SecurityContextHolder, HeaderWriter, Logout, OAuth2AuthorizationRequestRedirect, OAuth2LoginAuthentication, UsernamePasswordAuthentication, BearerTokenAuthentication, JwtCustomAuthentication, RequestCacheAware, SecurityContextHolderAwareRequest, AnonymousAuthentication, ExceptionTranslation, Authorization] (8/8)
2025-03-17T20:28:17.608-03:00 DEBUG 5280 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing POST /clients
2025-03-17T20:28:17.608-03:00 TRACE 5280 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/15)
2025-03-17T20:28:17.608-03:00 TRACE 5280 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/15)
2025-03-17T20:28:17.608-03:00 TRACE 5280 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/15)
2025-03-17T20:28:17.608-03:00 TRACE 5280 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/15)
2025-03-17T20:28:17.608-03:00 TRACE 5280 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (5/15)
2025-03-17T20:28:17.608-03:00 TRACE 5280 --- [libraryapi] [http-nio-8080-exec-10] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-03-17T20:28:17.608-03:00 TRACE 5280 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (6/15)
2025-03-17T20:28:17.609-03:00 TRACE 5280 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (7/15)
2025-03-17T20:28:17.609-03:00 TRACE 5280 --- [libraryapi] [http-nio-8080-exec-10] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2025-03-17T20:28:17.609-03:00 TRACE 5280 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (8/15)
2025-03-17T20:28:17.609-03:00 TRACE 5280 --- [libraryapi] [http-nio-8080-exec-10] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-03-17T20:28:17.609-03:00 TRACE 5280 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (9/15)
2025-03-17T20:28:17.610-03:00 TRACE 5280 --- [libraryapi] [http-nio-8080-exec-10] o.s.s.authentication.ProviderManager     : Authenticating request with JwtAuthenticationProvider (1/4)
2025-03-17T20:28:17.619-03:00 TRACE 5280 --- [libraryapi] [http-nio-8080-exec-10] s.o.s.r.a.JwtGrantedAuthoritiesConverter : Returning no authorities since could not find any claims that might contain scopes
2025-03-17T20:28:17.620-03:00 DEBUG 5280 --- [libraryapi] [http-nio-8080-exec-10] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-03-17T20:28:17.620-03:00 DEBUG 5280 --- [libraryapi] [http-nio-8080-exec-10] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@cea76ee6, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[]]
2025-03-17T20:28:17.620-03:00 TRACE 5280 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking JwtCustomAuthenticationFilter (10/15)
2025-03-17T20:28:17.625-03:00 TRACE 5280 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (11/15)
2025-03-17T20:28:17.626-03:00 TRACE 5280 --- [libraryapi] [http-nio-8080-exec-10] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-03-17T20:28:17.626-03:00 TRACE 5280 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (12/15)
2025-03-17T20:28:17.626-03:00 TRACE 5280 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (13/15)
2025-03-17T20:28:17.626-03:00 TRACE 5280 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (14/15)
2025-03-17T20:28:17.626-03:00 TRACE 5280 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (15/15)
2025-03-17T20:28:17.626-03:00 TRACE 5280 --- [libraryapi] [http-nio-8080-exec-10] estMatcherDelegatingAuthorizationManager : Authorizing POST /clients
2025-03-17T20:28:17.626-03:00 TRACE 5280 --- [libraryapi] [http-nio-8080-exec-10] estMatcherDelegatingAuthorizationManager : Checking authorization on POST /clients using org.springframework.security.authorization.AuthenticatedAuthorizationManager@78bbe0fe
2025-03-17T20:28:17.627-03:00 TRACE 5280 --- [libraryapi] [http-nio-8080-exec-10] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated com.github.springudemy.libraryapi.security.CustomAuthentication@378b8a8f
2025-03-17T20:28:17.627-03:00 DEBUG 5280 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured POST /clients
2025-03-17T20:28:17.627-03:00 DEBUG 5280 --- [libraryapi] [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : POST "/clients", parameters={}
2025-03-17T20:28:17.627-03:00 DEBUG 5280 --- [libraryapi] [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.github.springudemy.libraryapi.controller.ClientController#salvar(ClientDTO)
2025-03-17T20:28:17.714-03:00 DEBUG 5280 --- [libraryapi] [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [ClientDTO[id=null, clientId=postman-client, clientSecret=postman-secret, redirectURI=http://localhos (truncated)...]
2025-03-17T20:28:17.753-03:00 DEBUG 5280 --- [libraryapi] [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public void com.github.springudemy.libraryapi.controller.ClientController.salvar(com.github.springudemy.libraryapi.controller.dto.ClientDTO); target is of class [com.github.springudemy.libraryapi.controller.ClientController]
2025-03-17T20:28:17.761-03:00 DEBUG 5280 --- [libraryapi] [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public void com.github.springudemy.libraryapi.controller.ClientController.salvar(com.github.springudemy.libraryapi.controller.dto.ClientDTO); target is of class [com.github.springudemy.libraryapi.controller.ClientController]
2025-03-17T20:28:17.761-03:00  INFO 5280 --- [libraryapi] [http-nio-8080-exec-10] c.g.s.l.controller.ClientController      : Registrando novo Client: null com scope: GERENTE
2025-03-17T20:28:17.898-03:00 DEBUG 5280 --- [libraryapi] [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 201 CREATED
2025-03-17T20:28:17.898-03:00 TRACE 5280 --- [libraryapi] [http-nio-8080-exec-10] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-03-17T20:29:15.759-03:00  INFO 3828 --- [libraryapi] [main] c.g.s.libraryapi.LibraryapiApplication   : Starting LibraryapiApplication using Java 21.0.2 with PID 3828 (C:\Users\RYAN\Desktop\Cursos Udemy\SpringBootExpert\libraryapi\target\classes started by RYAN in C:\Users\RYAN\Desktop\Cursos Udemy\SpringBootExpert\libraryapi)
2025-03-17T20:29:15.761-03:00 DEBUG 3828 --- [libraryapi] [main] c.g.s.libraryapi.LibraryapiApplication   : Running with Spring Boot v3.4.3, Spring v6.2.3
2025-03-17T20:29:15.762-03:00  INFO 3828 --- [libraryapi] [main] c.g.s.libraryapi.LibraryapiApplication   : No active profile set, falling back to 1 default profile: "default"
2025-03-17T20:29:18.903-03:00  WARN 3828 --- [libraryapi] [main] com.zaxxer.hikari.HikariConfig           : library-db-pool - idleTimeout is close to or more than maxLifetime, disabling it.
2025-03-17T20:29:21.456-03:00 DEBUG 3828 --- [libraryapi] [main] o.s.w.s.r.ResourceUrlEncodingFilter      : Filter 'resourceUrlEncodingFilter' configured for use
2025-03-17T20:29:21.458-03:00 DEBUG 3828 --- [libraryapi] [main] c.g.s.l.s.JwtCustomAuthenticationFilter  : Filter 'jwtCustomAuthenticationFilter' configured for use
2025-03-17T20:29:22.899-03:00  WARN 3828 --- [libraryapi] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-03-17T20:29:22.924-03:00 TRACE 3828 --- [libraryapi] [main] eGlobalAuthenticationAutowiredConfigurer : Eagerly initializing {authorizationServerConfiguration=com.github.springudemy.libraryapi.config.AuthorizationServerConfiguration$$SpringCGLIB$$0@2fda92e0, securityConfiguration=com.github.springudemy.libraryapi.config.SecurityConfiguration$$SpringCGLIB$$0@2bef33e7}
2025-03-17T20:29:22.927-03:00  INFO 3828 --- [libraryapi] [main] eAuthenticationProviderManagerConfigurer : Global AuthenticationManager configured with AuthenticationProvider bean with name customAuthenticationProvider
2025-03-17T20:29:23.274-03:00 DEBUG 3828 --- [libraryapi] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 21 mappings in 'requestMappingHandlerMapping'
2025-03-17T20:29:23.295-03:00 DEBUG 3828 --- [libraryapi] [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/login] in 'viewControllerHandlerMapping'
2025-03-17T20:29:23.347-03:00 DEBUG 3828 --- [libraryapi] [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-03-17T20:29:24.326-03:00 DEBUG 3828 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x000001aa01add8f0@65accb85 with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, AuthorizationServerContextFilter, HeaderWriterFilter, CsrfFilter, OidcLogoutEndpointFilter, LogoutFilter, OAuth2AuthorizationServerMetadataEndpointFilter, OAuth2AuthorizationEndpointFilter, OAuth2DeviceVerificationEndpointFilter, OidcProviderConfigurationEndpointFilter, NimbusJwkSetEndpointFilter, OAuth2ClientAuthenticationFilter, UsernamePasswordAuthenticationFilter, BearerTokenAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, OAuth2TokenEndpointFilter, OAuth2TokenIntrospectionEndpointFilter, OAuth2TokenRevocationEndpointFilter, OAuth2DeviceAuthorizationEndpointFilter, OidcUserInfoEndpointFilter
2025-03-17T20:29:24.393-03:00 DEBUG 3828 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, OAuth2AuthorizationRequestRedirectFilter, OAuth2LoginAuthenticationFilter, UsernamePasswordAuthenticationFilter, BearerTokenAuthenticationFilter, JwtCustomAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-03-17T20:29:24.406-03:00  WARN 3828 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/v2/api-docs'], Ant [pattern='/v2/api-docs']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-03-17T20:29:24.407-03:00 DEBUG 3828 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/v2/api-docs'], Ant [pattern='/v2/api-docs']]
2025-03-17T20:29:24.407-03:00  WARN 3828 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/v3/api-docs'], Ant [pattern='/v3/api-docs']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-03-17T20:29:24.407-03:00 DEBUG 3828 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/v3/api-docs'], Ant [pattern='/v3/api-docs']]
2025-03-17T20:29:24.407-03:00  WARN 3828 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-03-17T20:29:24.407-03:00 DEBUG 3828 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']]
2025-03-17T20:29:24.408-03:00  WARN 3828 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-03-17T20:29:24.408-03:00 DEBUG 3828 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']]
2025-03-17T20:29:24.408-03:00  WARN 3828 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-03-17T20:29:24.408-03:00 DEBUG 3828 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']]
2025-03-17T20:29:24.408-03:00  WARN 3828 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/webjar/**'], Ant [pattern='/webjar/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-03-17T20:29:24.408-03:00 DEBUG 3828 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/webjar/**'], Ant [pattern='/webjar/**']]
2025-03-17T20:29:24.461-03:00 DEBUG 3828 --- [libraryapi] [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-03-17T20:29:24.531-03:00 DEBUG 3828 --- [libraryapi] [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2025-03-17T20:29:24.812-03:00  INFO 3828 --- [libraryapi] [main] c.g.s.libraryapi.LibraryapiApplication   : Started LibraryapiApplication in 9.663 seconds (process running for 10.146)
2025-03-17T20:29:39.877-03:00  INFO 3828 --- [libraryapi] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-03-17T20:29:39.877-03:00 DEBUG 3828 --- [libraryapi] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2025-03-17T20:29:39.877-03:00 DEBUG 3828 --- [libraryapi] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2025-03-17T20:29:39.877-03:00 DEBUG 3828 --- [libraryapi] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2025-03-17T20:29:39.878-03:00 DEBUG 3828 --- [libraryapi] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@32394a4b
2025-03-17T20:29:39.878-03:00 DEBUG 3828 --- [libraryapi] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@3b00c9f6
2025-03-17T20:29:39.878-03:00 DEBUG 3828 --- [libraryapi] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-03-17T20:29:39.879-03:00  INFO 3828 --- [libraryapi] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2025-03-17T20:29:39.888-03:00 TRACE 3828 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain matching [Deferred [Mvc [pattern='/v2/api-docs'], Ant [pattern='/v2/api-docs']]] and having filters [] (1/8)
2025-03-17T20:29:39.890-03:00 TRACE 3828 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain matching [Deferred [Mvc [pattern='/v3/api-docs'], Ant [pattern='/v3/api-docs']]] and having filters [] (2/8)
2025-03-17T20:29:39.890-03:00 TRACE 3828 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain matching [Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']]] and having filters [] (3/8)
2025-03-17T20:29:39.890-03:00 TRACE 3828 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain matching [Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']]] and having filters [] (4/8)
2025-03-17T20:29:39.891-03:00 TRACE 3828 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain matching [Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']]] and having filters [] (5/8)
2025-03-17T20:29:39.891-03:00 TRACE 3828 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain matching [Deferred [Mvc [pattern='/webjar/**'], Ant [pattern='/webjar/**']]] and having filters [] (6/8)
2025-03-17T20:29:39.891-03:00 TRACE 3828 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain defined as 'authorizationServerSecurityFilterChain' in [class path resource [com/github/springudemy/libraryapi/config/AuthorizationServerConfiguration.class]] matching [org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x000001aa01add8f0@65accb85] and having filters [DisableEncodeUrl, WebAsyncManagerIntegration, SecurityContextHolder, AuthorizationServerContext, HeaderWriter, Csrf, OidcLogoutEndpoint, Logout, OAuth2AuthorizationServerMetadataEndpoint, OAuth2AuthorizationEndpoint, OAuth2DeviceVerificationEndpoint, OidcProviderConfigurationEndpoint, NimbusJwkSetEndpoint, OAuth2ClientAuthentication, UsernamePasswordAuthentication, BearerTokenAuthentication, RequestCacheAware, SecurityContextHolderAwareRequest, AnonymousAuthentication, ExceptionTranslation, OAuth2TokenEndpoint, OAuth2TokenIntrospectionEndpoint, OAuth2TokenRevocationEndpoint, OAuth2DeviceAuthorizationEndpoint, OidcUserInfoEndpoint] (7/8)
2025-03-17T20:29:39.892-03:00 DEBUG 3828 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /oauth2/authorize?response_type=code&client_id=meu-client&redirect_uri=http%3A%2F%2Flocalhost%3A8080%2Fauthorized
2025-03-17T20:29:39.893-03:00 TRACE 3828 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/25)
2025-03-17T20:29:39.893-03:00 TRACE 3828 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/25)
2025-03-17T20:29:39.895-03:00 TRACE 3828 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/25)
2025-03-17T20:29:39.896-03:00 TRACE 3828 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking AuthorizationServerContextFilter (4/25)
2025-03-17T20:29:39.908-03:00 TRACE 3828 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (5/25)
2025-03-17T20:29:39.909-03:00 TRACE 3828 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking CsrfFilter (6/25)
2025-03-17T20:29:39.910-03:00 TRACE 3828 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.csrf.CsrfFilter         : Did not protect against CSRF since request did not match And [CsrfNotRequired [TRACE, HEAD, GET, OPTIONS], Not [Or [Or [Or [Ant [pattern='/oauth2/token', POST], Ant [pattern='/oauth2/introspect', POST], Ant [pattern='/oauth2/revoke', POST], Ant [pattern='/oauth2/device_authorization', POST]], Ant [pattern='/.well-known/oauth-authorization-server', GET], Or [Ant [pattern='/oauth2/authorize', GET], Ant [pattern='/oauth2/authorize', POST]], Ant [pattern='/oauth2/token', POST], Ant [pattern='/oauth2/introspect', POST], Ant [pattern='/oauth2/revoke', POST], Ant [pattern='/oauth2/device_authorization', POST], Or [Ant [pattern='/oauth2/device_verification', GET], Ant [pattern='/oauth2/device_verification', POST]], Or [Ant [pattern='/.well-known/openid-configuration', GET], Or [Ant [pattern='/oauth2/logout', GET], Ant [pattern='/oauth2/logout', POST]], Or [Ant [pattern='/oauth2/userinfo', GET], Ant [pattern='/oauth2/userinfo', POST]]], Ant [pattern='/oauth2/jwks', GET]], org.springframework.security.config.annotation.web.configurers.oauth2.server.resource.OAuth2ResourceServerConfigurer$BearerTokenRequestMatcher@27035f4f]]]
2025-03-17T20:29:39.910-03:00 TRACE 3828 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking OidcLogoutEndpointFilter (7/25)
2025-03-17T20:29:39.911-03:00 TRACE 3828 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (8/25)
2025-03-17T20:29:39.911-03:00 TRACE 3828 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Ant [pattern='/logout', POST]
2025-03-17T20:29:39.911-03:00 TRACE 3828 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationServerMetadataEndpointFilter (9/25)
2025-03-17T20:29:39.911-03:00 TRACE 3828 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationEndpointFilter (10/25)
2025-03-17T20:29:39.913-03:00 TRACE 3828 --- [libraryapi] [http-nio-8080-exec-1] w.c.HttpSessionSecurityContextRepository : No HttpSession currently exists
2025-03-17T20:29:39.913-03:00 TRACE 3828 --- [libraryapi] [http-nio-8080-exec-1] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-03-17T20:29:39.914-03:00 TRACE 3828 --- [libraryapi] [http-nio-8080-exec-1] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-03-17T20:29:39.915-03:00 TRACE 3828 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.authentication.ProviderManager     : Authenticating request with OAuth2AuthorizationCodeRequestAuthenticationProvider (1/20)
2025-03-17T20:29:40.035-03:00 TRACE 3828 --- [libraryapi] [http-nio-8080-exec-1] izationCodeRequestAuthenticationProvider : Retrieved registered client
2025-03-17T20:29:40.036-03:00 TRACE 3828 --- [libraryapi] [http-nio-8080-exec-1] izationCodeRequestAuthenticationProvider : Validated authorization code request parameters
2025-03-17T20:29:40.036-03:00 TRACE 3828 --- [libraryapi] [http-nio-8080-exec-1] izationCodeRequestAuthenticationProvider : Did not authenticate authorization code request since principal not authenticated
2025-03-17T20:29:40.037-03:00 TRACE 3828 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking OAuth2DeviceVerificationEndpointFilter (11/25)
2025-03-17T20:29:40.037-03:00 TRACE 3828 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking OidcProviderConfigurationEndpointFilter (12/25)
2025-03-17T20:29:40.037-03:00 TRACE 3828 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking NimbusJwkSetEndpointFilter (13/25)
2025-03-17T20:29:40.037-03:00 TRACE 3828 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking OAuth2ClientAuthenticationFilter (14/25)
2025-03-17T20:29:40.037-03:00 TRACE 3828 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (15/25)
2025-03-17T20:29:40.037-03:00 TRACE 3828 --- [libraryapi] [http-nio-8080-exec-1] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-03-17T20:29:40.038-03:00 TRACE 3828 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (16/25)
2025-03-17T20:29:40.038-03:00 TRACE 3828 --- [libraryapi] [http-nio-8080-exec-1] .s.r.w.a.BearerTokenAuthenticationFilter : Did not process request since did not find bearer token
2025-03-17T20:29:40.038-03:00 TRACE 3828 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (17/25)
2025-03-17T20:29:40.038-03:00 TRACE 3828 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-03-17T20:29:40.038-03:00 TRACE 3828 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (18/25)
2025-03-17T20:29:40.039-03:00 TRACE 3828 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (19/25)
2025-03-17T20:29:40.039-03:00 TRACE 3828 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (20/25)
2025-03-17T20:29:40.039-03:00 TRACE 3828 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking OAuth2TokenEndpointFilter (21/25)
2025-03-17T20:29:40.040-03:00 TRACE 3828 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking OAuth2TokenIntrospectionEndpointFilter (22/25)
2025-03-17T20:29:40.040-03:00 TRACE 3828 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking OAuth2TokenRevocationEndpointFilter (23/25)
2025-03-17T20:29:40.040-03:00 TRACE 3828 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking OAuth2DeviceAuthorizationEndpointFilter (24/25)
2025-03-17T20:29:40.040-03:00 TRACE 3828 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking OidcUserInfoEndpointFilter (25/25)
2025-03-17T20:29:40.040-03:00 DEBUG 3828 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /oauth2/authorize?response_type=code&client_id=meu-client&redirect_uri=http%3A%2F%2Flocalhost%3A8080%2Fauthorized
2025-03-17T20:29:40.041-03:00 TRACE 3828 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]]
2025-03-17T20:29:40.044-03:00 DEBUG 3828 --- [libraryapi] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/oauth2/authorize?response_type=code&client_id=meu-client&redirect_uri=http%3A%2F%2Flocalhost%3A8080%2Fauthorized", parameters={masked}
2025-03-17T20:29:40.046-03:00  WARN 3828 --- [libraryapi] [http-nio-8080-exec-1] o.s.web.servlet.PageNotFound             : No mapping for GET /oauth2/authorize
2025-03-17T20:29:40.052-03:00  WARN 3828 --- [libraryapi] [http-nio-8080-exec-1] o.s.web.servlet.PageNotFound             : No endpoint GET /oauth2/authorize.
2025-03-17T20:29:40.053-03:00 TRACE 3828 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-03-17T20:29:40.054-03:00 DEBUG 3828 --- [libraryapi] [http-nio-8080-exec-1] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.servlet.NoHandlerFoundException: No endpoint GET /oauth2/authorize.]
2025-03-17T20:29:40.054-03:00 DEBUG 3828 --- [libraryapi] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 404 NOT_FOUND
2025-03-17T20:29:40.064-03:00 TRACE 3828 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain matching [Deferred [Mvc [pattern='/v2/api-docs'], Ant [pattern='/v2/api-docs']]] and having filters [] (1/8)
2025-03-17T20:29:40.064-03:00 TRACE 3828 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain matching [Deferred [Mvc [pattern='/v3/api-docs'], Ant [pattern='/v3/api-docs']]] and having filters [] (2/8)
2025-03-17T20:29:40.064-03:00 TRACE 3828 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain matching [Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']]] and having filters [] (3/8)
2025-03-17T20:29:40.064-03:00 TRACE 3828 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain matching [Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']]] and having filters [] (4/8)
2025-03-17T20:29:40.065-03:00 TRACE 3828 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain matching [Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']]] and having filters [] (5/8)
2025-03-17T20:29:40.065-03:00 TRACE 3828 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain matching [Deferred [Mvc [pattern='/webjar/**'], Ant [pattern='/webjar/**']]] and having filters [] (6/8)
2025-03-17T20:29:40.065-03:00 TRACE 3828 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain defined as 'authorizationServerSecurityFilterChain' in [class path resource [com/github/springudemy/libraryapi/config/AuthorizationServerConfiguration.class]] matching [org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x000001aa01add8f0@65accb85] and having filters [DisableEncodeUrl, WebAsyncManagerIntegration, SecurityContextHolder, AuthorizationServerContext, HeaderWriter, Csrf, OidcLogoutEndpoint, Logout, OAuth2AuthorizationServerMetadataEndpoint, OAuth2AuthorizationEndpoint, OAuth2DeviceVerificationEndpoint, OidcProviderConfigurationEndpoint, NimbusJwkSetEndpoint, OAuth2ClientAuthentication, UsernamePasswordAuthentication, BearerTokenAuthentication, RequestCacheAware, SecurityContextHolderAwareRequest, AnonymousAuthentication, ExceptionTranslation, OAuth2TokenEndpoint, OAuth2TokenIntrospectionEndpoint, OAuth2TokenRevocationEndpoint, OAuth2DeviceAuthorizationEndpoint, OidcUserInfoEndpoint] (7/8)
2025-03-17T20:29:40.065-03:00 TRACE 3828 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain defined as 'securityFilterChain' in [class path resource [com/github/springudemy/libraryapi/config/SecurityConfiguration.class]] matching [any request] and having filters [DisableEncodeUrl, WebAsyncManagerIntegration, SecurityContextHolder, HeaderWriter, Logout, OAuth2AuthorizationRequestRedirect, OAuth2LoginAuthentication, UsernamePasswordAuthentication, BearerTokenAuthentication, JwtCustomAuthentication, RequestCacheAware, SecurityContextHolderAwareRequest, AnonymousAuthentication, ExceptionTranslation, Authorization] (8/8)
2025-03-17T20:29:40.065-03:00 DEBUG 3828 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /error?response_type=code&client_id=meu-client&redirect_uri=http%3A%2F%2Flocalhost%3A8080%2Fauthorized
2025-03-17T20:29:40.065-03:00 TRACE 3828 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/15)
2025-03-17T20:29:40.065-03:00 TRACE 3828 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/15)
2025-03-17T20:29:40.066-03:00 TRACE 3828 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/15)
2025-03-17T20:29:40.066-03:00 TRACE 3828 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/15)
2025-03-17T20:29:40.066-03:00 TRACE 3828 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (5/15)
2025-03-17T20:29:40.066-03:00 TRACE 3828 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-03-17T20:29:40.066-03:00 TRACE 3828 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (6/15)
2025-03-17T20:29:40.066-03:00 TRACE 3828 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (7/15)
2025-03-17T20:29:40.066-03:00 TRACE 3828 --- [libraryapi] [http-nio-8080-exec-1] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2025-03-17T20:29:40.066-03:00 TRACE 3828 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (8/15)
2025-03-17T20:29:40.066-03:00 TRACE 3828 --- [libraryapi] [http-nio-8080-exec-1] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-03-17T20:29:40.066-03:00 TRACE 3828 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (9/15)
2025-03-17T20:29:40.066-03:00 TRACE 3828 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking JwtCustomAuthenticationFilter (10/15)
2025-03-17T20:29:40.066-03:00 TRACE 3828 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (11/15)
2025-03-17T20:29:40.066-03:00 TRACE 3828 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-03-17T20:29:40.067-03:00 TRACE 3828 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (12/15)
2025-03-17T20:29:40.067-03:00 TRACE 3828 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (13/15)
2025-03-17T20:29:40.067-03:00 TRACE 3828 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (14/15)
2025-03-17T20:29:40.067-03:00 TRACE 3828 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (15/15)
2025-03-17T20:29:40.067-03:00 TRACE 3828 --- [libraryapi] [http-nio-8080-exec-1] estMatcherDelegatingAuthorizationManager : Authorizing GET /error?response_type=code&client_id=meu-client&redirect_uri=http%3A%2F%2Flocalhost%3A8080%2Fauthorized
2025-03-17T20:29:40.068-03:00 TRACE 3828 --- [libraryapi] [http-nio-8080-exec-1] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /error?response_type=code&client_id=meu-client&redirect_uri=http%3A%2F%2Flocalhost%3A8080%2Fauthorized using org.springframework.security.authorization.AuthenticatedAuthorizationManager@295a939f
2025-03-17T20:29:40.068-03:00 TRACE 3828 --- [libraryapi] [http-nio-8080-exec-1] w.c.HttpSessionSecurityContextRepository : No HttpSession currently exists
2025-03-17T20:29:40.068-03:00 TRACE 3828 --- [libraryapi] [http-nio-8080-exec-1] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-03-17T20:29:40.068-03:00 TRACE 3828 --- [libraryapi] [http-nio-8080-exec-1] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-03-17T20:29:40.068-03:00 TRACE 3828 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]]
2025-03-17T20:29:40.069-03:00 TRACE 3828 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.w.a.ExceptionTranslationFilter     : Sending AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]] to authentication entry point since access is denied

org.springframework.security.authorization.AuthorizationDeniedException: Access Denied
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:99) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.2.3.jar:6.2.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.2.3.jar:6.2.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.2.3.jar:6.2.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.2.3.jar:6.2.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.2.3.jar:6.2.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.2.3.jar:6.2.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.3.jar:6.2.3]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:243) ~[spring-webmvc-6.2.3.jar:6.2.3]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.3.jar:6.2.3]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.2.3.jar:6.2.3]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:238) ~[spring-security-config-6.4.3.jar:6.4.3]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362) ~[spring-web-6.2.3.jar:6.2.3]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278) ~[spring-web-6.2.3.jar:6.2.3]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.2.3.jar:6.2.3]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:633) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.catalina.core.ApplicationDispatcher.processRequest(ApplicationDispatcher.java:411) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.catalina.core.ApplicationDispatcher.doForward(ApplicationDispatcher.java:331) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.catalina.core.ApplicationDispatcher.forward(ApplicationDispatcher.java:268) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.catalina.core.StandardHostValve.custom(StandardHostValve.java:380) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.catalina.core.StandardHostValve.status(StandardHostValve.java:208) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:151) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]

2025-03-17T20:29:40.087-03:00 DEBUG 3828 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.w.s.HttpSessionRequestCache        : Saved request http://localhost:8080/error?response_type=code&client_id=meu-client&redirect_uri=http%3A%2F%2Flocalhost%3A8080%2Fauthorized&continue to session
2025-03-17T20:29:40.090-03:00 DEBUG 3828 --- [libraryapi] [http-nio-8080-exec-1] s.w.a.DelegatingAuthenticationEntryPoint : Trying to match using And [Not [RequestHeaderRequestMatcher [expectedHeaderName=X-Requested-With, expectedHeaderValue=XMLHttpRequest]], MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@76300346, matchingMediaTypes=[application/xhtml+xml, image/*, text/html, text/plain], useEquals=false, ignoredMediaTypes=[*/*]]]
2025-03-17T20:29:40.090-03:00 DEBUG 3828 --- [libraryapi] [http-nio-8080-exec-1] s.w.a.DelegatingAuthenticationEntryPoint : Match found! Executing org.springframework.security.web.authentication.LoginUrlAuthenticationEntryPoint@16d52e51
2025-03-17T20:29:40.091-03:00 DEBUG 3828 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.web.DefaultRedirectStrategy        : Redirecting to http://localhost:8080/login;jsessionid=E8E9223D441A9F0790E660542DA41B2C
2025-03-17T20:29:40.099-03:00 DEBUG 3828 --- [libraryapi] [http-nio-8080-exec-2] s.s.w.f.HttpStatusRequestRejectedHandler : Rejecting request due to: The request was rejected because the URL contained a potentially malicious String ";"

org.springframework.security.web.firewall.RequestRejectedException: The request was rejected because the URL contained a potentially malicious String ";"
	at org.springframework.security.web.firewall.StrictHttpFirewall.rejectedBlocklistedUrls(StrictHttpFirewall.java:548) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.firewall.StrictHttpFirewall.getFirewalledRequest(StrictHttpFirewall.java:518) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.3.jar:6.2.3]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:243) ~[spring-webmvc-6.2.3.jar:6.2.3]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.3.jar:6.2.3]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.2.3.jar:6.2.3]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:238) ~[spring-security-config-6.4.3.jar:6.4.3]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362) ~[spring-web-6.2.3.jar:6.2.3]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278) ~[spring-web-6.2.3.jar:6.2.3]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.2.3.jar:6.2.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.3.jar:6.2.3]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]

2025-03-17T20:29:40.100-03:00 TRACE 3828 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain matching [Deferred [Mvc [pattern='/v2/api-docs'], Ant [pattern='/v2/api-docs']]] and having filters [] (1/8)
2025-03-17T20:29:40.100-03:00 TRACE 3828 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain matching [Deferred [Mvc [pattern='/v3/api-docs'], Ant [pattern='/v3/api-docs']]] and having filters [] (2/8)
2025-03-17T20:29:40.100-03:00 TRACE 3828 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain matching [Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']]] and having filters [] (3/8)
2025-03-17T20:29:40.100-03:00 TRACE 3828 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain matching [Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']]] and having filters [] (4/8)
2025-03-17T20:29:40.100-03:00 TRACE 3828 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain matching [Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']]] and having filters [] (5/8)
2025-03-17T20:29:40.100-03:00 TRACE 3828 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain matching [Deferred [Mvc [pattern='/webjar/**'], Ant [pattern='/webjar/**']]] and having filters [] (6/8)
2025-03-17T20:29:40.101-03:00 TRACE 3828 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain defined as 'authorizationServerSecurityFilterChain' in [class path resource [com/github/springudemy/libraryapi/config/AuthorizationServerConfiguration.class]] matching [org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x000001aa01add8f0@65accb85] and having filters [DisableEncodeUrl, WebAsyncManagerIntegration, SecurityContextHolder, AuthorizationServerContext, HeaderWriter, Csrf, OidcLogoutEndpoint, Logout, OAuth2AuthorizationServerMetadataEndpoint, OAuth2AuthorizationEndpoint, OAuth2DeviceVerificationEndpoint, OidcProviderConfigurationEndpoint, NimbusJwkSetEndpoint, OAuth2ClientAuthentication, UsernamePasswordAuthentication, BearerTokenAuthentication, RequestCacheAware, SecurityContextHolderAwareRequest, AnonymousAuthentication, ExceptionTranslation, OAuth2TokenEndpoint, OAuth2TokenIntrospectionEndpoint, OAuth2TokenRevocationEndpoint, OAuth2DeviceAuthorizationEndpoint, OidcUserInfoEndpoint] (7/8)
2025-03-17T20:29:40.101-03:00 TRACE 3828 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain defined as 'securityFilterChain' in [class path resource [com/github/springudemy/libraryapi/config/SecurityConfiguration.class]] matching [any request] and having filters [DisableEncodeUrl, WebAsyncManagerIntegration, SecurityContextHolder, HeaderWriter, Logout, OAuth2AuthorizationRequestRedirect, OAuth2LoginAuthentication, UsernamePasswordAuthentication, BearerTokenAuthentication, JwtCustomAuthentication, RequestCacheAware, SecurityContextHolderAwareRequest, AnonymousAuthentication, ExceptionTranslation, Authorization] (8/8)
2025-03-17T20:29:40.101-03:00 DEBUG 3828 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /error
2025-03-17T20:29:40.101-03:00 TRACE 3828 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/15)
2025-03-17T20:29:40.101-03:00 TRACE 3828 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/15)
2025-03-17T20:29:40.101-03:00 TRACE 3828 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/15)
2025-03-17T20:29:40.101-03:00 TRACE 3828 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/15)
2025-03-17T20:29:40.101-03:00 TRACE 3828 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (5/15)
2025-03-17T20:29:40.101-03:00 TRACE 3828 --- [libraryapi] [http-nio-8080-exec-2] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-03-17T20:29:40.101-03:00 TRACE 3828 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (6/15)
2025-03-17T20:29:40.101-03:00 TRACE 3828 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (7/15)
2025-03-17T20:29:40.102-03:00 TRACE 3828 --- [libraryapi] [http-nio-8080-exec-2] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2025-03-17T20:29:40.102-03:00 TRACE 3828 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (8/15)
2025-03-17T20:29:40.102-03:00 TRACE 3828 --- [libraryapi] [http-nio-8080-exec-2] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-03-17T20:29:40.102-03:00 TRACE 3828 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (9/15)
2025-03-17T20:29:40.102-03:00 TRACE 3828 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking JwtCustomAuthenticationFilter (10/15)
2025-03-17T20:29:40.102-03:00 TRACE 3828 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (11/15)
2025-03-17T20:29:40.102-03:00 TRACE 3828 --- [libraryapi] [http-nio-8080-exec-2] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-03-17T20:29:40.102-03:00 TRACE 3828 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (12/15)
2025-03-17T20:29:40.102-03:00 TRACE 3828 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (13/15)
2025-03-17T20:29:40.102-03:00 TRACE 3828 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (14/15)
2025-03-17T20:29:40.102-03:00 TRACE 3828 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (15/15)
2025-03-17T20:29:40.102-03:00 TRACE 3828 --- [libraryapi] [http-nio-8080-exec-2] estMatcherDelegatingAuthorizationManager : Authorizing GET /error
2025-03-17T20:29:40.102-03:00 TRACE 3828 --- [libraryapi] [http-nio-8080-exec-2] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /error using org.springframework.security.authorization.AuthenticatedAuthorizationManager@295a939f
2025-03-17T20:29:40.102-03:00 TRACE 3828 --- [libraryapi] [http-nio-8080-exec-2] w.c.HttpSessionSecurityContextRepository : Did not find SecurityContext in HttpSession E8E9223D441A9F0790E660542DA41B2C using the SPRING_SECURITY_CONTEXT session attribute
2025-03-17T20:29:40.102-03:00 TRACE 3828 --- [libraryapi] [http-nio-8080-exec-2] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-03-17T20:29:40.102-03:00 TRACE 3828 --- [libraryapi] [http-nio-8080-exec-2] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-03-17T20:29:40.103-03:00 TRACE 3828 --- [libraryapi] [http-nio-8080-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E8E9223D441A9F0790E660542DA41B2C], Granted Authorities=[ROLE_ANONYMOUS]]
2025-03-17T20:29:40.103-03:00 TRACE 3828 --- [libraryapi] [http-nio-8080-exec-2] o.s.s.w.a.ExceptionTranslationFilter     : Sending AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E8E9223D441A9F0790E660542DA41B2C], Granted Authorities=[ROLE_ANONYMOUS]] to authentication entry point since access is denied

org.springframework.security.authorization.AuthorizationDeniedException: Access Denied
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:99) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.2.3.jar:6.2.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.2.3.jar:6.2.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.2.3.jar:6.2.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.2.3.jar:6.2.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.2.3.jar:6.2.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.2.3.jar:6.2.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.3.jar:6.2.3]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:243) ~[spring-webmvc-6.2.3.jar:6.2.3]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.3.jar:6.2.3]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.2.3.jar:6.2.3]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:238) ~[spring-security-config-6.4.3.jar:6.4.3]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362) ~[spring-web-6.2.3.jar:6.2.3]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278) ~[spring-web-6.2.3.jar:6.2.3]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.2.3.jar:6.2.3]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:633) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.catalina.core.ApplicationDispatcher.processRequest(ApplicationDispatcher.java:411) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.catalina.core.ApplicationDispatcher.doForward(ApplicationDispatcher.java:331) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.catalina.core.ApplicationDispatcher.forward(ApplicationDispatcher.java:268) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.catalina.core.StandardHostValve.custom(StandardHostValve.java:380) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.catalina.core.StandardHostValve.status(StandardHostValve.java:208) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:151) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]

2025-03-17T20:29:40.105-03:00 DEBUG 3828 --- [libraryapi] [http-nio-8080-exec-2] o.s.s.w.s.HttpSessionRequestCache        : Saved request http://localhost:8080/error?continue to session
2025-03-17T20:29:40.105-03:00 DEBUG 3828 --- [libraryapi] [http-nio-8080-exec-2] s.w.a.DelegatingAuthenticationEntryPoint : Trying to match using And [Not [RequestHeaderRequestMatcher [expectedHeaderName=X-Requested-With, expectedHeaderValue=XMLHttpRequest]], MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@76300346, matchingMediaTypes=[application/xhtml+xml, image/*, text/html, text/plain], useEquals=false, ignoredMediaTypes=[*/*]]]
2025-03-17T20:29:40.105-03:00 DEBUG 3828 --- [libraryapi] [http-nio-8080-exec-2] s.w.a.DelegatingAuthenticationEntryPoint : Match found! Executing org.springframework.security.web.authentication.LoginUrlAuthenticationEntryPoint@16d52e51
2025-03-17T20:29:40.106-03:00 DEBUG 3828 --- [libraryapi] [http-nio-8080-exec-2] o.s.s.web.DefaultRedirectStrategy        : Redirecting to http://localhost:8080/login
2025-03-17T20:29:40.110-03:00 TRACE 3828 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain matching [Deferred [Mvc [pattern='/v2/api-docs'], Ant [pattern='/v2/api-docs']]] and having filters [] (1/8)
2025-03-17T20:29:40.110-03:00 TRACE 3828 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain matching [Deferred [Mvc [pattern='/v3/api-docs'], Ant [pattern='/v3/api-docs']]] and having filters [] (2/8)
2025-03-17T20:29:40.110-03:00 TRACE 3828 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain matching [Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']]] and having filters [] (3/8)
2025-03-17T20:29:40.110-03:00 TRACE 3828 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain matching [Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']]] and having filters [] (4/8)
2025-03-17T20:29:40.111-03:00 TRACE 3828 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain matching [Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']]] and having filters [] (5/8)
2025-03-17T20:29:40.111-03:00 TRACE 3828 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain matching [Deferred [Mvc [pattern='/webjar/**'], Ant [pattern='/webjar/**']]] and having filters [] (6/8)
2025-03-17T20:29:40.111-03:00 TRACE 3828 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain defined as 'authorizationServerSecurityFilterChain' in [class path resource [com/github/springudemy/libraryapi/config/AuthorizationServerConfiguration.class]] matching [org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x000001aa01add8f0@65accb85] and having filters [DisableEncodeUrl, WebAsyncManagerIntegration, SecurityContextHolder, AuthorizationServerContext, HeaderWriter, Csrf, OidcLogoutEndpoint, Logout, OAuth2AuthorizationServerMetadataEndpoint, OAuth2AuthorizationEndpoint, OAuth2DeviceVerificationEndpoint, OidcProviderConfigurationEndpoint, NimbusJwkSetEndpoint, OAuth2ClientAuthentication, UsernamePasswordAuthentication, BearerTokenAuthentication, RequestCacheAware, SecurityContextHolderAwareRequest, AnonymousAuthentication, ExceptionTranslation, OAuth2TokenEndpoint, OAuth2TokenIntrospectionEndpoint, OAuth2TokenRevocationEndpoint, OAuth2DeviceAuthorizationEndpoint, OidcUserInfoEndpoint] (7/8)
2025-03-17T20:29:40.111-03:00 TRACE 3828 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain defined as 'securityFilterChain' in [class path resource [com/github/springudemy/libraryapi/config/SecurityConfiguration.class]] matching [any request] and having filters [DisableEncodeUrl, WebAsyncManagerIntegration, SecurityContextHolder, HeaderWriter, Logout, OAuth2AuthorizationRequestRedirect, OAuth2LoginAuthentication, UsernamePasswordAuthentication, BearerTokenAuthentication, JwtCustomAuthentication, RequestCacheAware, SecurityContextHolderAwareRequest, AnonymousAuthentication, ExceptionTranslation, Authorization] (8/8)
2025-03-17T20:29:40.111-03:00 DEBUG 3828 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /login
2025-03-17T20:29:40.111-03:00 TRACE 3828 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/15)
2025-03-17T20:29:40.111-03:00 TRACE 3828 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/15)
2025-03-17T20:29:40.111-03:00 TRACE 3828 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/15)
2025-03-17T20:29:40.111-03:00 TRACE 3828 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/15)
2025-03-17T20:29:40.112-03:00 TRACE 3828 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (5/15)
2025-03-17T20:29:40.112-03:00 TRACE 3828 --- [libraryapi] [http-nio-8080-exec-3] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-03-17T20:29:40.112-03:00 TRACE 3828 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (6/15)
2025-03-17T20:29:40.112-03:00 TRACE 3828 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (7/15)
2025-03-17T20:29:40.112-03:00 TRACE 3828 --- [libraryapi] [http-nio-8080-exec-3] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2025-03-17T20:29:40.112-03:00 TRACE 3828 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (8/15)
2025-03-17T20:29:40.112-03:00 TRACE 3828 --- [libraryapi] [http-nio-8080-exec-3] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-03-17T20:29:40.112-03:00 TRACE 3828 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (9/15)
2025-03-17T20:29:40.112-03:00 TRACE 3828 --- [libraryapi] [http-nio-8080-exec-3] .s.r.w.a.BearerTokenAuthenticationFilter : Did not process request since did not find bearer token
2025-03-17T20:29:40.112-03:00 TRACE 3828 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking JwtCustomAuthenticationFilter (10/15)
2025-03-17T20:29:40.112-03:00 TRACE 3828 --- [libraryapi] [http-nio-8080-exec-3] w.c.HttpSessionSecurityContextRepository : Did not find SecurityContext in HttpSession E8E9223D441A9F0790E660542DA41B2C using the SPRING_SECURITY_CONTEXT session attribute
2025-03-17T20:29:40.112-03:00 TRACE 3828 --- [libraryapi] [http-nio-8080-exec-3] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-03-17T20:29:40.112-03:00 TRACE 3828 --- [libraryapi] [http-nio-8080-exec-3] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-03-17T20:29:40.112-03:00 TRACE 3828 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (11/15)
2025-03-17T20:29:40.112-03:00 TRACE 3828 --- [libraryapi] [http-nio-8080-exec-3] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-03-17T20:29:40.112-03:00 TRACE 3828 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (12/15)
2025-03-17T20:29:40.113-03:00 TRACE 3828 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (13/15)
2025-03-17T20:29:40.113-03:00 TRACE 3828 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (14/15)
2025-03-17T20:29:40.113-03:00 TRACE 3828 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (15/15)
2025-03-17T20:29:40.113-03:00 TRACE 3828 --- [libraryapi] [http-nio-8080-exec-3] estMatcherDelegatingAuthorizationManager : Authorizing GET /login
2025-03-17T20:29:40.113-03:00 TRACE 3828 --- [libraryapi] [http-nio-8080-exec-3] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /login using org.springframework.security.config.annotation.web.configurers.AuthorizeHttpRequestsConfigurer$$Lambda/0x000001aa01b24cc0@3d87686b
2025-03-17T20:29:40.113-03:00 DEBUG 3828 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /login
2025-03-17T20:29:40.113-03:00 DEBUG 3828 --- [libraryapi] [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/login", parameters={}
2025-03-17T20:29:40.113-03:00 DEBUG 3828 --- [libraryapi] [http-nio-8080-exec-3] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ParameterizableViewController [view="login"]
2025-03-17T20:29:40.354-03:00 TRACE 3828 --- [libraryapi] [http-nio-8080-exec-3] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-03-17T20:29:40.355-03:00 DEBUG 3828 --- [libraryapi] [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-03-17T20:29:40.355-03:00 TRACE 3828 --- [libraryapi] [http-nio-8080-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E8E9223D441A9F0790E660542DA41B2C], Granted Authorities=[ROLE_ANONYMOUS]]
2025-03-17T20:29:45.273-03:00 TRACE 3828 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain matching [Deferred [Mvc [pattern='/v2/api-docs'], Ant [pattern='/v2/api-docs']]] and having filters [] (1/8)
2025-03-17T20:29:45.274-03:00 TRACE 3828 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain matching [Deferred [Mvc [pattern='/v3/api-docs'], Ant [pattern='/v3/api-docs']]] and having filters [] (2/8)
2025-03-17T20:29:45.274-03:00 TRACE 3828 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain matching [Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']]] and having filters [] (3/8)
2025-03-17T20:29:45.274-03:00 TRACE 3828 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain matching [Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']]] and having filters [] (4/8)
2025-03-17T20:29:45.274-03:00 TRACE 3828 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain matching [Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']]] and having filters [] (5/8)
2025-03-17T20:29:45.274-03:00 TRACE 3828 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain matching [Deferred [Mvc [pattern='/webjar/**'], Ant [pattern='/webjar/**']]] and having filters [] (6/8)
2025-03-17T20:29:45.274-03:00 TRACE 3828 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain defined as 'authorizationServerSecurityFilterChain' in [class path resource [com/github/springudemy/libraryapi/config/AuthorizationServerConfiguration.class]] matching [org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x000001aa01add8f0@65accb85] and having filters [DisableEncodeUrl, WebAsyncManagerIntegration, SecurityContextHolder, AuthorizationServerContext, HeaderWriter, Csrf, OidcLogoutEndpoint, Logout, OAuth2AuthorizationServerMetadataEndpoint, OAuth2AuthorizationEndpoint, OAuth2DeviceVerificationEndpoint, OidcProviderConfigurationEndpoint, NimbusJwkSetEndpoint, OAuth2ClientAuthentication, UsernamePasswordAuthentication, BearerTokenAuthentication, RequestCacheAware, SecurityContextHolderAwareRequest, AnonymousAuthentication, ExceptionTranslation, OAuth2TokenEndpoint, OAuth2TokenIntrospectionEndpoint, OAuth2TokenRevocationEndpoint, OAuth2DeviceAuthorizationEndpoint, OidcUserInfoEndpoint] (7/8)
2025-03-17T20:29:45.274-03:00 TRACE 3828 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain defined as 'securityFilterChain' in [class path resource [com/github/springudemy/libraryapi/config/SecurityConfiguration.class]] matching [any request] and having filters [DisableEncodeUrl, WebAsyncManagerIntegration, SecurityContextHolder, HeaderWriter, Logout, OAuth2AuthorizationRequestRedirect, OAuth2LoginAuthentication, UsernamePasswordAuthentication, BearerTokenAuthentication, JwtCustomAuthentication, RequestCacheAware, SecurityContextHolderAwareRequest, AnonymousAuthentication, ExceptionTranslation, Authorization] (8/8)
2025-03-17T20:29:45.274-03:00 DEBUG 3828 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing POST /login
2025-03-17T20:29:45.274-03:00 TRACE 3828 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/15)
2025-03-17T20:29:45.274-03:00 TRACE 3828 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/15)
2025-03-17T20:29:45.274-03:00 TRACE 3828 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/15)
2025-03-17T20:29:45.274-03:00 TRACE 3828 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/15)
2025-03-17T20:29:45.275-03:00 TRACE 3828 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (5/15)
2025-03-17T20:29:45.275-03:00 TRACE 3828 --- [libraryapi] [http-nio-8080-exec-4] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-03-17T20:29:45.275-03:00 TRACE 3828 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (6/15)
2025-03-17T20:29:45.275-03:00 TRACE 3828 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (7/15)
2025-03-17T20:29:45.275-03:00 TRACE 3828 --- [libraryapi] [http-nio-8080-exec-4] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2025-03-17T20:29:45.275-03:00 TRACE 3828 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (8/15)
2025-03-17T20:29:45.275-03:00 TRACE 3828 --- [libraryapi] [http-nio-8080-exec-4] o.s.s.authentication.ProviderManager     : Authenticating request with CustomAuthenticationProvider (1/1)
2025-03-17T20:29:45.370-03:00 TRACE 3828 --- [libraryapi] [http-nio-8080-exec-4] s.CompositeSessionAuthenticationStrategy : Preparing session with ChangeSessionIdAuthenticationStrategy (1/1)
2025-03-17T20:29:45.371-03:00 DEBUG 3828 --- [libraryapi] [http-nio-8080-exec-4] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from E8E9223D441A9F0790E660542DA41B2C
2025-03-17T20:29:45.371-03:00 DEBUG 3828 --- [libraryapi] [http-nio-8080-exec-4] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=com.github.springudemy.libraryapi.security.CustomAuthentication@7ea6fae3] to HttpSession [org.apache.catalina.session.StandardSessionFacade@1a2de9f8]
2025-03-17T20:29:45.372-03:00 DEBUG 3828 --- [libraryapi] [http-nio-8080-exec-4] w.a.UsernamePasswordAuthenticationFilter : Set SecurityContextHolder to com.github.springudemy.libraryapi.security.CustomAuthentication@7ea6fae3
2025-03-17T20:29:45.372-03:00 DEBUG 3828 --- [libraryapi] [http-nio-8080-exec-4] o.s.s.web.DefaultRedirectStrategy        : Redirecting to http://localhost:8080/error?continue
2025-03-17T20:29:45.372-03:00 TRACE 3828 --- [libraryapi] [http-nio-8080-exec-4] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-03-17T20:29:45.378-03:00 TRACE 3828 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain matching [Deferred [Mvc [pattern='/v2/api-docs'], Ant [pattern='/v2/api-docs']]] and having filters [] (1/8)
2025-03-17T20:29:45.378-03:00 TRACE 3828 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain matching [Deferred [Mvc [pattern='/v3/api-docs'], Ant [pattern='/v3/api-docs']]] and having filters [] (2/8)
2025-03-17T20:29:45.378-03:00 TRACE 3828 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain matching [Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']]] and having filters [] (3/8)
2025-03-17T20:29:45.378-03:00 TRACE 3828 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain matching [Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']]] and having filters [] (4/8)
2025-03-17T20:29:45.379-03:00 TRACE 3828 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain matching [Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']]] and having filters [] (5/8)
2025-03-17T20:29:45.379-03:00 TRACE 3828 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain matching [Deferred [Mvc [pattern='/webjar/**'], Ant [pattern='/webjar/**']]] and having filters [] (6/8)
2025-03-17T20:29:45.379-03:00 TRACE 3828 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain defined as 'authorizationServerSecurityFilterChain' in [class path resource [com/github/springudemy/libraryapi/config/AuthorizationServerConfiguration.class]] matching [org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x000001aa01add8f0@65accb85] and having filters [DisableEncodeUrl, WebAsyncManagerIntegration, SecurityContextHolder, AuthorizationServerContext, HeaderWriter, Csrf, OidcLogoutEndpoint, Logout, OAuth2AuthorizationServerMetadataEndpoint, OAuth2AuthorizationEndpoint, OAuth2DeviceVerificationEndpoint, OidcProviderConfigurationEndpoint, NimbusJwkSetEndpoint, OAuth2ClientAuthentication, UsernamePasswordAuthentication, BearerTokenAuthentication, RequestCacheAware, SecurityContextHolderAwareRequest, AnonymousAuthentication, ExceptionTranslation, OAuth2TokenEndpoint, OAuth2TokenIntrospectionEndpoint, OAuth2TokenRevocationEndpoint, OAuth2DeviceAuthorizationEndpoint, OidcUserInfoEndpoint] (7/8)
2025-03-17T20:29:45.379-03:00 TRACE 3828 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain defined as 'securityFilterChain' in [class path resource [com/github/springudemy/libraryapi/config/SecurityConfiguration.class]] matching [any request] and having filters [DisableEncodeUrl, WebAsyncManagerIntegration, SecurityContextHolder, HeaderWriter, Logout, OAuth2AuthorizationRequestRedirect, OAuth2LoginAuthentication, UsernamePasswordAuthentication, BearerTokenAuthentication, JwtCustomAuthentication, RequestCacheAware, SecurityContextHolderAwareRequest, AnonymousAuthentication, ExceptionTranslation, Authorization] (8/8)
2025-03-17T20:29:45.379-03:00 DEBUG 3828 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /error?continue
2025-03-17T20:29:45.379-03:00 TRACE 3828 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/15)
2025-03-17T20:29:45.379-03:00 TRACE 3828 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/15)
2025-03-17T20:29:45.379-03:00 TRACE 3828 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/15)
2025-03-17T20:29:45.379-03:00 TRACE 3828 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/15)
2025-03-17T20:29:45.379-03:00 TRACE 3828 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (5/15)
2025-03-17T20:29:45.379-03:00 TRACE 3828 --- [libraryapi] [http-nio-8080-exec-5] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-03-17T20:29:45.379-03:00 TRACE 3828 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (6/15)
2025-03-17T20:29:45.380-03:00 TRACE 3828 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (7/15)
2025-03-17T20:29:45.380-03:00 TRACE 3828 --- [libraryapi] [http-nio-8080-exec-5] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2025-03-17T20:29:45.380-03:00 TRACE 3828 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (8/15)
2025-03-17T20:29:45.380-03:00 TRACE 3828 --- [libraryapi] [http-nio-8080-exec-5] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-03-17T20:29:45.380-03:00 TRACE 3828 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (9/15)
2025-03-17T20:29:45.380-03:00 TRACE 3828 --- [libraryapi] [http-nio-8080-exec-5] .s.r.w.a.BearerTokenAuthenticationFilter : Did not process request since did not find bearer token
2025-03-17T20:29:45.380-03:00 TRACE 3828 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking JwtCustomAuthenticationFilter (10/15)
2025-03-17T20:29:45.380-03:00 TRACE 3828 --- [libraryapi] [http-nio-8080-exec-5] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=com.github.springudemy.libraryapi.security.CustomAuthentication@7ea6fae3] from SPRING_SECURITY_CONTEXT
2025-03-17T20:29:45.380-03:00 TRACE 3828 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (11/15)
2025-03-17T20:29:45.381-03:00 TRACE 3828 --- [libraryapi] [http-nio-8080-exec-5] o.s.s.w.s.HttpSessionRequestCache        : Removing DefaultSavedRequest from session if present
2025-03-17T20:29:45.381-03:00 DEBUG 3828 --- [libraryapi] [http-nio-8080-exec-5] o.s.s.w.s.HttpSessionRequestCache        : Loaded matching saved request http://localhost:8080/error?continue
2025-03-17T20:29:45.382-03:00 TRACE 3828 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (12/15)
2025-03-17T20:29:45.382-03:00 TRACE 3828 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (13/15)
2025-03-17T20:29:45.382-03:00 TRACE 3828 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (14/15)
2025-03-17T20:29:45.382-03:00 TRACE 3828 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (15/15)
2025-03-17T20:29:45.383-03:00 TRACE 3828 --- [libraryapi] [http-nio-8080-exec-5] estMatcherDelegatingAuthorizationManager : Authorizing GET /error?continue
2025-03-17T20:29:45.383-03:00 TRACE 3828 --- [libraryapi] [http-nio-8080-exec-5] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /error?continue using org.springframework.security.authorization.AuthenticatedAuthorizationManager@295a939f
2025-03-17T20:29:45.383-03:00 TRACE 3828 --- [libraryapi] [http-nio-8080-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated com.github.springudemy.libraryapi.security.CustomAuthentication@7ea6fae3
2025-03-17T20:29:45.383-03:00 DEBUG 3828 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /error?continue
2025-03-17T20:29:45.383-03:00 DEBUG 3828 --- [libraryapi] [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/error?continue", parameters={masked}
2025-03-17T20:29:45.384-03:00 DEBUG 3828 --- [libraryapi] [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#errorHtml(HttpServletRequest, HttpServletResponse)
2025-03-17T20:29:45.403-03:00 DEBUG 3828 --- [libraryapi] [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 500 INTERNAL_SERVER_ERROR
2025-03-17T20:29:45.403-03:00 TRACE 3828 --- [libraryapi] [http-nio-8080-exec-5] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-03-17T20:29:48.993-03:00 TRACE 3828 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain matching [Deferred [Mvc [pattern='/v2/api-docs'], Ant [pattern='/v2/api-docs']]] and having filters [] (1/8)
2025-03-17T20:29:48.993-03:00 TRACE 3828 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain matching [Deferred [Mvc [pattern='/v3/api-docs'], Ant [pattern='/v3/api-docs']]] and having filters [] (2/8)
2025-03-17T20:29:48.993-03:00 TRACE 3828 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain matching [Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']]] and having filters [] (3/8)
2025-03-17T20:29:48.993-03:00 TRACE 3828 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain matching [Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']]] and having filters [] (4/8)
2025-03-17T20:29:48.993-03:00 TRACE 3828 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain matching [Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']]] and having filters [] (5/8)
2025-03-17T20:29:48.994-03:00 TRACE 3828 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain matching [Deferred [Mvc [pattern='/webjar/**'], Ant [pattern='/webjar/**']]] and having filters [] (6/8)
2025-03-17T20:29:48.994-03:00 TRACE 3828 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain defined as 'authorizationServerSecurityFilterChain' in [class path resource [com/github/springudemy/libraryapi/config/AuthorizationServerConfiguration.class]] matching [org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x000001aa01add8f0@65accb85] and having filters [DisableEncodeUrl, WebAsyncManagerIntegration, SecurityContextHolder, AuthorizationServerContext, HeaderWriter, Csrf, OidcLogoutEndpoint, Logout, OAuth2AuthorizationServerMetadataEndpoint, OAuth2AuthorizationEndpoint, OAuth2DeviceVerificationEndpoint, OidcProviderConfigurationEndpoint, NimbusJwkSetEndpoint, OAuth2ClientAuthentication, UsernamePasswordAuthentication, BearerTokenAuthentication, RequestCacheAware, SecurityContextHolderAwareRequest, AnonymousAuthentication, ExceptionTranslation, OAuth2TokenEndpoint, OAuth2TokenIntrospectionEndpoint, OAuth2TokenRevocationEndpoint, OAuth2DeviceAuthorizationEndpoint, OidcUserInfoEndpoint] (7/8)
2025-03-17T20:29:48.994-03:00 DEBUG 3828 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /oauth2/authorize?response_type=code&client_id=meu-client&redirect_uri=http%3A%2F%2Flocalhost%3A8080%2Fauthorized
2025-03-17T20:29:48.994-03:00 TRACE 3828 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/25)
2025-03-17T20:29:48.994-03:00 TRACE 3828 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/25)
2025-03-17T20:29:48.994-03:00 TRACE 3828 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/25)
2025-03-17T20:29:48.994-03:00 TRACE 3828 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking AuthorizationServerContextFilter (4/25)
2025-03-17T20:29:48.995-03:00 TRACE 3828 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (5/25)
2025-03-17T20:29:48.995-03:00 TRACE 3828 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking CsrfFilter (6/25)
2025-03-17T20:29:48.995-03:00 TRACE 3828 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.csrf.CsrfFilter         : Did not protect against CSRF since request did not match And [CsrfNotRequired [TRACE, HEAD, GET, OPTIONS], Not [Or [Or [Or [Ant [pattern='/oauth2/token', POST], Ant [pattern='/oauth2/introspect', POST], Ant [pattern='/oauth2/revoke', POST], Ant [pattern='/oauth2/device_authorization', POST]], Ant [pattern='/.well-known/oauth-authorization-server', GET], Or [Ant [pattern='/oauth2/authorize', GET], Ant [pattern='/oauth2/authorize', POST]], Ant [pattern='/oauth2/token', POST], Ant [pattern='/oauth2/introspect', POST], Ant [pattern='/oauth2/revoke', POST], Ant [pattern='/oauth2/device_authorization', POST], Or [Ant [pattern='/oauth2/device_verification', GET], Ant [pattern='/oauth2/device_verification', POST]], Or [Ant [pattern='/.well-known/openid-configuration', GET], Or [Ant [pattern='/oauth2/logout', GET], Ant [pattern='/oauth2/logout', POST]], Or [Ant [pattern='/oauth2/userinfo', GET], Ant [pattern='/oauth2/userinfo', POST]]], Ant [pattern='/oauth2/jwks', GET]], org.springframework.security.config.annotation.web.configurers.oauth2.server.resource.OAuth2ResourceServerConfigurer$BearerTokenRequestMatcher@27035f4f]]]
2025-03-17T20:29:48.995-03:00 TRACE 3828 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking OidcLogoutEndpointFilter (7/25)
2025-03-17T20:29:48.995-03:00 TRACE 3828 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (8/25)
2025-03-17T20:29:48.995-03:00 TRACE 3828 --- [libraryapi] [http-nio-8080-exec-6] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Ant [pattern='/logout', POST]
2025-03-17T20:29:48.995-03:00 TRACE 3828 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationServerMetadataEndpointFilter (9/25)
2025-03-17T20:29:48.995-03:00 TRACE 3828 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationEndpointFilter (10/25)
2025-03-17T20:29:48.996-03:00 TRACE 3828 --- [libraryapi] [http-nio-8080-exec-6] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=com.github.springudemy.libraryapi.security.CustomAuthentication@7ea6fae3] from SPRING_SECURITY_CONTEXT
2025-03-17T20:29:48.996-03:00 TRACE 3828 --- [libraryapi] [http-nio-8080-exec-6] o.s.s.authentication.ProviderManager     : Authenticating request with OAuth2AuthorizationCodeRequestAuthenticationProvider (1/20)
2025-03-17T20:29:49.001-03:00 TRACE 3828 --- [libraryapi] [http-nio-8080-exec-6] izationCodeRequestAuthenticationProvider : Retrieved registered client
2025-03-17T20:29:49.001-03:00 TRACE 3828 --- [libraryapi] [http-nio-8080-exec-6] izationCodeRequestAuthenticationProvider : Validated authorization code request parameters
2025-03-17T20:29:49.005-03:00 TRACE 3828 --- [libraryapi] [http-nio-8080-exec-6] izationCodeRequestAuthenticationProvider : Generated authorization code
2025-03-17T20:29:49.006-03:00 TRACE 3828 --- [libraryapi] [http-nio-8080-exec-6] izationCodeRequestAuthenticationProvider : Saved authorization
2025-03-17T20:29:49.006-03:00 TRACE 3828 --- [libraryapi] [http-nio-8080-exec-6] izationCodeRequestAuthenticationProvider : Authenticated authorization code request
2025-03-17T20:29:49.007-03:00 DEBUG 3828 --- [libraryapi] [http-nio-8080-exec-6] o.s.s.web.DefaultRedirectStrategy        : Redirecting to http://localhost:8080/authorized?code=OTlqZ6h3Phk3upN4j7Fg_-ROQBMmRhdJctJqghkP6-Ix0IklbC7MwCK7heo_QfxmEJw17hHmkG4NksdlzWWV6O7uvJA-_0s7qRB67naBdKJaKSgFbnlyo8EcfdIcUa8l
2025-03-17T20:29:49.007-03:00 TRACE 3828 --- [libraryapi] [http-nio-8080-exec-6] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-03-17T20:29:49.289-03:00 TRACE 3828 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain matching [Deferred [Mvc [pattern='/v2/api-docs'], Ant [pattern='/v2/api-docs']]] and having filters [] (1/8)
2025-03-17T20:29:49.290-03:00 TRACE 3828 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain matching [Deferred [Mvc [pattern='/v3/api-docs'], Ant [pattern='/v3/api-docs']]] and having filters [] (2/8)
2025-03-17T20:29:49.290-03:00 TRACE 3828 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain matching [Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']]] and having filters [] (3/8)
2025-03-17T20:29:49.290-03:00 TRACE 3828 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain matching [Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']]] and having filters [] (4/8)
2025-03-17T20:29:49.290-03:00 TRACE 3828 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain matching [Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']]] and having filters [] (5/8)
2025-03-17T20:29:49.290-03:00 TRACE 3828 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain matching [Deferred [Mvc [pattern='/webjar/**'], Ant [pattern='/webjar/**']]] and having filters [] (6/8)
2025-03-17T20:29:49.290-03:00 TRACE 3828 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain defined as 'authorizationServerSecurityFilterChain' in [class path resource [com/github/springudemy/libraryapi/config/AuthorizationServerConfiguration.class]] matching [org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x000001aa01add8f0@65accb85] and having filters [DisableEncodeUrl, WebAsyncManagerIntegration, SecurityContextHolder, AuthorizationServerContext, HeaderWriter, Csrf, OidcLogoutEndpoint, Logout, OAuth2AuthorizationServerMetadataEndpoint, OAuth2AuthorizationEndpoint, OAuth2DeviceVerificationEndpoint, OidcProviderConfigurationEndpoint, NimbusJwkSetEndpoint, OAuth2ClientAuthentication, UsernamePasswordAuthentication, BearerTokenAuthentication, RequestCacheAware, SecurityContextHolderAwareRequest, AnonymousAuthentication, ExceptionTranslation, OAuth2TokenEndpoint, OAuth2TokenIntrospectionEndpoint, OAuth2TokenRevocationEndpoint, OAuth2DeviceAuthorizationEndpoint, OidcUserInfoEndpoint] (7/8)
2025-03-17T20:29:49.290-03:00 DEBUG 3828 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing POST /oauth2/token
2025-03-17T20:29:49.290-03:00 TRACE 3828 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/25)
2025-03-17T20:29:49.290-03:00 TRACE 3828 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/25)
2025-03-17T20:29:49.291-03:00 TRACE 3828 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/25)
2025-03-17T20:29:49.291-03:00 TRACE 3828 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking AuthorizationServerContextFilter (4/25)
2025-03-17T20:29:49.291-03:00 TRACE 3828 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (5/25)
2025-03-17T20:29:49.291-03:00 TRACE 3828 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking CsrfFilter (6/25)
2025-03-17T20:29:49.291-03:00 TRACE 3828 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.csrf.CsrfFilter         : Did not protect against CSRF since request did not match And [CsrfNotRequired [TRACE, HEAD, GET, OPTIONS], Not [Or [Or [Or [Ant [pattern='/oauth2/token', POST], Ant [pattern='/oauth2/introspect', POST], Ant [pattern='/oauth2/revoke', POST], Ant [pattern='/oauth2/device_authorization', POST]], Ant [pattern='/.well-known/oauth-authorization-server', GET], Or [Ant [pattern='/oauth2/authorize', GET], Ant [pattern='/oauth2/authorize', POST]], Ant [pattern='/oauth2/token', POST], Ant [pattern='/oauth2/introspect', POST], Ant [pattern='/oauth2/revoke', POST], Ant [pattern='/oauth2/device_authorization', POST], Or [Ant [pattern='/oauth2/device_verification', GET], Ant [pattern='/oauth2/device_verification', POST]], Or [Ant [pattern='/.well-known/openid-configuration', GET], Or [Ant [pattern='/oauth2/logout', GET], Ant [pattern='/oauth2/logout', POST]], Or [Ant [pattern='/oauth2/userinfo', GET], Ant [pattern='/oauth2/userinfo', POST]]], Ant [pattern='/oauth2/jwks', GET]], org.springframework.security.config.annotation.web.configurers.oauth2.server.resource.OAuth2ResourceServerConfigurer$BearerTokenRequestMatcher@27035f4f]]]
2025-03-17T20:29:49.291-03:00 TRACE 3828 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking OidcLogoutEndpointFilter (7/25)
2025-03-17T20:29:49.291-03:00 TRACE 3828 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (8/25)
2025-03-17T20:29:49.291-03:00 TRACE 3828 --- [libraryapi] [http-nio-8080-exec-9] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Ant [pattern='/logout', POST]
2025-03-17T20:29:49.292-03:00 TRACE 3828 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationServerMetadataEndpointFilter (9/25)
2025-03-17T20:29:49.292-03:00 TRACE 3828 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationEndpointFilter (10/25)
2025-03-17T20:29:49.292-03:00 TRACE 3828 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking OAuth2DeviceVerificationEndpointFilter (11/25)
2025-03-17T20:29:49.292-03:00 TRACE 3828 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking OidcProviderConfigurationEndpointFilter (12/25)
2025-03-17T20:29:49.292-03:00 TRACE 3828 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking NimbusJwkSetEndpointFilter (13/25)
2025-03-17T20:29:49.292-03:00 TRACE 3828 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking OAuth2ClientAuthenticationFilter (14/25)
2025-03-17T20:29:49.293-03:00 TRACE 3828 --- [libraryapi] [http-nio-8080-exec-9] o.s.s.authentication.ProviderManager     : Authenticating request with JwtClientAssertionAuthenticationProvider (1/20)
2025-03-17T20:29:49.293-03:00 TRACE 3828 --- [libraryapi] [http-nio-8080-exec-9] o.s.s.authentication.ProviderManager     : Authenticating request with X509ClientCertificateAuthenticationProvider (2/20)
2025-03-17T20:29:49.293-03:00 TRACE 3828 --- [libraryapi] [http-nio-8080-exec-9] o.s.s.authentication.ProviderManager     : Authenticating request with ClientSecretAuthenticationProvider (3/20)
2025-03-17T20:29:49.297-03:00 TRACE 3828 --- [libraryapi] [http-nio-8080-exec-9] s.a.a.ClientSecretAuthenticationProvider : Retrieved registered client
2025-03-17T20:29:49.373-03:00 TRACE 3828 --- [libraryapi] [http-nio-8080-exec-9] s.a.a.ClientSecretAuthenticationProvider : Validated client authentication parameters
2025-03-17T20:29:49.374-03:00 TRACE 3828 --- [libraryapi] [http-nio-8080-exec-9] o.s.s.o.s.a.a.CodeVerifierAuthenticator  : Retrieved authorization with authorization code
2025-03-17T20:29:49.374-03:00 TRACE 3828 --- [libraryapi] [http-nio-8080-exec-9] o.s.s.o.s.a.a.CodeVerifierAuthenticator  : Did not authenticate code verifier since requireProofKey=false
2025-03-17T20:29:49.374-03:00 TRACE 3828 --- [libraryapi] [http-nio-8080-exec-9] s.a.a.ClientSecretAuthenticationProvider : Authenticated client secret
2025-03-17T20:29:49.374-03:00 DEBUG 3828 --- [libraryapi] [http-nio-8080-exec-9] o.s.a.w.OAuth2ClientAuthenticationFilter : Set SecurityContextHolder authentication to OAuth2ClientAuthenticationToken
2025-03-17T20:29:49.374-03:00 TRACE 3828 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (15/25)
2025-03-17T20:29:49.374-03:00 TRACE 3828 --- [libraryapi] [http-nio-8080-exec-9] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-03-17T20:29:49.374-03:00 TRACE 3828 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (16/25)
2025-03-17T20:29:49.374-03:00 TRACE 3828 --- [libraryapi] [http-nio-8080-exec-9] .s.r.w.a.BearerTokenAuthenticationFilter : Did not process request since did not find bearer token
2025-03-17T20:29:49.374-03:00 TRACE 3828 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (17/25)
2025-03-17T20:29:49.374-03:00 TRACE 3828 --- [libraryapi] [http-nio-8080-exec-9] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-03-17T20:29:49.375-03:00 TRACE 3828 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (18/25)
2025-03-17T20:29:49.375-03:00 TRACE 3828 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (19/25)
2025-03-17T20:29:49.375-03:00 TRACE 3828 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (20/25)
2025-03-17T20:29:49.375-03:00 TRACE 3828 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking OAuth2TokenEndpointFilter (21/25)
2025-03-17T20:29:49.375-03:00 TRACE 3828 --- [libraryapi] [http-nio-8080-exec-9] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated OAuth2ClientAuthenticationToken [Principal=meu-client, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[]]
2025-03-17T20:29:49.376-03:00 TRACE 3828 --- [libraryapi] [http-nio-8080-exec-9] o.s.s.authentication.ProviderManager     : Authenticating request with OAuth2AuthorizationCodeAuthenticationProvider (1/20)
2025-03-17T20:29:49.376-03:00 TRACE 3828 --- [libraryapi] [http-nio-8080-exec-9] 2AuthorizationCodeAuthenticationProvider : Retrieved registered client
2025-03-17T20:29:49.376-03:00 TRACE 3828 --- [libraryapi] [http-nio-8080-exec-9] 2AuthorizationCodeAuthenticationProvider : Retrieved authorization with authorization code
2025-03-17T20:29:49.377-03:00 TRACE 3828 --- [libraryapi] [http-nio-8080-exec-9] 2AuthorizationCodeAuthenticationProvider : Validated token request parameters
2025-03-17T20:29:49.427-03:00 TRACE 3828 --- [libraryapi] [http-nio-8080-exec-9] 2AuthorizationCodeAuthenticationProvider : Generated access token
2025-03-17T20:29:49.428-03:00 TRACE 3828 --- [libraryapi] [http-nio-8080-exec-9] 2AuthorizationCodeAuthenticationProvider : Generated refresh token
2025-03-17T20:29:49.428-03:00 TRACE 3828 --- [libraryapi] [http-nio-8080-exec-9] 2AuthorizationCodeAuthenticationProvider : Saved authorization
2025-03-17T20:29:49.428-03:00 TRACE 3828 --- [libraryapi] [http-nio-8080-exec-9] 2AuthorizationCodeAuthenticationProvider : Authenticated token request
2025-03-17T20:29:49.453-03:00 TRACE 3828 --- [libraryapi] [http-nio-8080-exec-9] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-03-17T20:30:18.320-03:00 TRACE 3828 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain matching [Deferred [Mvc [pattern='/v2/api-docs'], Ant [pattern='/v2/api-docs']]] and having filters [] (1/8)
2025-03-17T20:30:18.320-03:00 TRACE 3828 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain matching [Deferred [Mvc [pattern='/v3/api-docs'], Ant [pattern='/v3/api-docs']]] and having filters [] (2/8)
2025-03-17T20:30:18.320-03:00 TRACE 3828 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain matching [Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']]] and having filters [] (3/8)
2025-03-17T20:30:18.320-03:00 TRACE 3828 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain matching [Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']]] and having filters [] (4/8)
2025-03-17T20:30:18.320-03:00 TRACE 3828 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain matching [Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']]] and having filters [] (5/8)
2025-03-17T20:30:18.321-03:00 TRACE 3828 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain matching [Deferred [Mvc [pattern='/webjar/**'], Ant [pattern='/webjar/**']]] and having filters [] (6/8)
2025-03-17T20:30:18.321-03:00 TRACE 3828 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain defined as 'authorizationServerSecurityFilterChain' in [class path resource [com/github/springudemy/libraryapi/config/AuthorizationServerConfiguration.class]] matching [org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x000001aa01add8f0@65accb85] and having filters [DisableEncodeUrl, WebAsyncManagerIntegration, SecurityContextHolder, AuthorizationServerContext, HeaderWriter, Csrf, OidcLogoutEndpoint, Logout, OAuth2AuthorizationServerMetadataEndpoint, OAuth2AuthorizationEndpoint, OAuth2DeviceVerificationEndpoint, OidcProviderConfigurationEndpoint, NimbusJwkSetEndpoint, OAuth2ClientAuthentication, UsernamePasswordAuthentication, BearerTokenAuthentication, RequestCacheAware, SecurityContextHolderAwareRequest, AnonymousAuthentication, ExceptionTranslation, OAuth2TokenEndpoint, OAuth2TokenIntrospectionEndpoint, OAuth2TokenRevocationEndpoint, OAuth2DeviceAuthorizationEndpoint, OidcUserInfoEndpoint] (7/8)
2025-03-17T20:30:18.321-03:00 TRACE 3828 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain defined as 'securityFilterChain' in [class path resource [com/github/springudemy/libraryapi/config/SecurityConfiguration.class]] matching [any request] and having filters [DisableEncodeUrl, WebAsyncManagerIntegration, SecurityContextHolder, HeaderWriter, Logout, OAuth2AuthorizationRequestRedirect, OAuth2LoginAuthentication, UsernamePasswordAuthentication, BearerTokenAuthentication, JwtCustomAuthentication, RequestCacheAware, SecurityContextHolderAwareRequest, AnonymousAuthentication, ExceptionTranslation, Authorization] (8/8)
2025-03-17T20:30:18.321-03:00 DEBUG 3828 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing POST /clients
2025-03-17T20:30:18.321-03:00 TRACE 3828 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/15)
2025-03-17T20:30:18.321-03:00 TRACE 3828 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/15)
2025-03-17T20:30:18.321-03:00 TRACE 3828 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/15)
2025-03-17T20:30:18.321-03:00 TRACE 3828 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/15)
2025-03-17T20:30:18.321-03:00 TRACE 3828 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (5/15)
2025-03-17T20:30:18.321-03:00 TRACE 3828 --- [libraryapi] [http-nio-8080-exec-10] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-03-17T20:30:18.322-03:00 TRACE 3828 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (6/15)
2025-03-17T20:30:18.322-03:00 TRACE 3828 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (7/15)
2025-03-17T20:30:18.322-03:00 TRACE 3828 --- [libraryapi] [http-nio-8080-exec-10] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2025-03-17T20:30:18.322-03:00 TRACE 3828 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (8/15)
2025-03-17T20:30:18.322-03:00 TRACE 3828 --- [libraryapi] [http-nio-8080-exec-10] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-03-17T20:30:18.322-03:00 TRACE 3828 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (9/15)
2025-03-17T20:30:18.323-03:00 TRACE 3828 --- [libraryapi] [http-nio-8080-exec-10] o.s.s.authentication.ProviderManager     : Authenticating request with JwtAuthenticationProvider (1/4)
2025-03-17T20:30:18.333-03:00 TRACE 3828 --- [libraryapi] [http-nio-8080-exec-10] s.o.s.r.a.JwtGrantedAuthoritiesConverter : Returning no authorities since could not find any claims that might contain scopes
2025-03-17T20:30:18.334-03:00 DEBUG 3828 --- [libraryapi] [http-nio-8080-exec-10] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-03-17T20:30:18.334-03:00 DEBUG 3828 --- [libraryapi] [http-nio-8080-exec-10] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@26cb96e5, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[]]
2025-03-17T20:30:18.334-03:00 TRACE 3828 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking JwtCustomAuthenticationFilter (10/15)
2025-03-17T20:30:18.339-03:00 TRACE 3828 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (11/15)
2025-03-17T20:30:18.339-03:00 TRACE 3828 --- [libraryapi] [http-nio-8080-exec-10] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-03-17T20:30:18.339-03:00 TRACE 3828 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (12/15)
2025-03-17T20:30:18.339-03:00 TRACE 3828 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (13/15)
2025-03-17T20:30:18.339-03:00 TRACE 3828 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (14/15)
2025-03-17T20:30:18.339-03:00 TRACE 3828 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (15/15)
2025-03-17T20:30:18.340-03:00 TRACE 3828 --- [libraryapi] [http-nio-8080-exec-10] estMatcherDelegatingAuthorizationManager : Authorizing POST /clients
2025-03-17T20:30:18.340-03:00 TRACE 3828 --- [libraryapi] [http-nio-8080-exec-10] estMatcherDelegatingAuthorizationManager : Checking authorization on POST /clients using org.springframework.security.authorization.AuthenticatedAuthorizationManager@295a939f
2025-03-17T20:30:18.340-03:00 TRACE 3828 --- [libraryapi] [http-nio-8080-exec-10] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated com.github.springudemy.libraryapi.security.CustomAuthentication@48a81f3b
2025-03-17T20:30:18.340-03:00 DEBUG 3828 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured POST /clients
2025-03-17T20:30:18.340-03:00 DEBUG 3828 --- [libraryapi] [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : POST "/clients", parameters={}
2025-03-17T20:30:18.340-03:00 DEBUG 3828 --- [libraryapi] [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.github.springudemy.libraryapi.controller.ClientController#salvar(ClientDTO)
2025-03-17T20:30:18.403-03:00 DEBUG 3828 --- [libraryapi] [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [ClientDTO[id=null, clientId=postman2-client, clientSecret=postman2-secret, redirectURI=http://localh (truncated)...]
2025-03-17T20:30:18.438-03:00 DEBUG 3828 --- [libraryapi] [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public void com.github.springudemy.libraryapi.controller.ClientController.salvar(com.github.springudemy.libraryapi.controller.dto.ClientDTO); target is of class [com.github.springudemy.libraryapi.controller.ClientController]
2025-03-17T20:30:18.444-03:00 DEBUG 3828 --- [libraryapi] [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public void com.github.springudemy.libraryapi.controller.ClientController.salvar(com.github.springudemy.libraryapi.controller.dto.ClientDTO); target is of class [com.github.springudemy.libraryapi.controller.ClientController]
2025-03-17T20:30:18.444-03:00  INFO 3828 --- [libraryapi] [http-nio-8080-exec-10] c.g.s.l.controller.ClientController      : Registrando novo Client: postman2-client com scope: GERENTE
2025-03-17T20:30:18.575-03:00 DEBUG 3828 --- [libraryapi] [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 201 CREATED
2025-03-17T20:30:18.576-03:00 TRACE 3828 --- [libraryapi] [http-nio-8080-exec-10] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-03-17T20:33:29.206-03:00  INFO 19512 --- [libraryapi] [main] c.g.s.libraryapi.LibraryapiApplication   : Starting LibraryapiApplication using Java 21.0.2 with PID 19512 (C:\Users\RYAN\Desktop\Cursos Udemy\SpringBootExpert\libraryapi\target\classes started by RYAN in C:\Users\RYAN\Desktop\Cursos Udemy\SpringBootExpert\libraryapi)
2025-03-17T20:33:29.207-03:00 DEBUG 19512 --- [libraryapi] [main] c.g.s.libraryapi.LibraryapiApplication   : Running with Spring Boot v3.4.3, Spring v6.2.3
2025-03-17T20:33:29.208-03:00  INFO 19512 --- [libraryapi] [main] c.g.s.libraryapi.LibraryapiApplication   : No active profile set, falling back to 1 default profile: "default"
2025-03-17T20:33:32.296-03:00  WARN 19512 --- [libraryapi] [main] com.zaxxer.hikari.HikariConfig           : library-db-pool - idleTimeout is close to or more than maxLifetime, disabling it.
2025-03-17T20:33:35.252-03:00 DEBUG 19512 --- [libraryapi] [main] o.s.w.s.r.ResourceUrlEncodingFilter      : Filter 'resourceUrlEncodingFilter' configured for use
2025-03-17T20:33:35.254-03:00 DEBUG 19512 --- [libraryapi] [main] c.g.s.l.s.JwtCustomAuthenticationFilter  : Filter 'jwtCustomAuthenticationFilter' configured for use
2025-03-17T20:33:36.738-03:00  WARN 19512 --- [libraryapi] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-03-17T20:33:36.762-03:00 TRACE 19512 --- [libraryapi] [main] eGlobalAuthenticationAutowiredConfigurer : Eagerly initializing {authorizationServerConfiguration=com.github.springudemy.libraryapi.config.AuthorizationServerConfiguration$$SpringCGLIB$$0@4fa3bebe, securityConfiguration=com.github.springudemy.libraryapi.config.SecurityConfiguration$$SpringCGLIB$$0@46059b73}
2025-03-17T20:33:36.766-03:00  INFO 19512 --- [libraryapi] [main] eAuthenticationProviderManagerConfigurer : Global AuthenticationManager configured with AuthenticationProvider bean with name customAuthenticationProvider
2025-03-17T20:33:37.033-03:00 DEBUG 19512 --- [libraryapi] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 21 mappings in 'requestMappingHandlerMapping'
2025-03-17T20:33:37.050-03:00 DEBUG 19512 --- [libraryapi] [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/login] in 'viewControllerHandlerMapping'
2025-03-17T20:33:37.087-03:00 DEBUG 19512 --- [libraryapi] [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-03-17T20:33:38.173-03:00 DEBUG 19512 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x000001dcb1ad98a8@73174f4f with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, AuthorizationServerContextFilter, HeaderWriterFilter, CsrfFilter, OidcLogoutEndpointFilter, LogoutFilter, OAuth2AuthorizationServerMetadataEndpointFilter, OAuth2AuthorizationEndpointFilter, OAuth2DeviceVerificationEndpointFilter, OidcProviderConfigurationEndpointFilter, NimbusJwkSetEndpointFilter, OAuth2ClientAuthenticationFilter, UsernamePasswordAuthenticationFilter, BearerTokenAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, OAuth2TokenEndpointFilter, OAuth2TokenIntrospectionEndpointFilter, OAuth2TokenRevocationEndpointFilter, OAuth2DeviceAuthorizationEndpointFilter, OidcUserInfoEndpointFilter
2025-03-17T20:33:38.276-03:00 DEBUG 19512 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, OAuth2AuthorizationRequestRedirectFilter, OAuth2LoginAuthenticationFilter, UsernamePasswordAuthenticationFilter, BearerTokenAuthenticationFilter, JwtCustomAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-03-17T20:33:38.288-03:00  WARN 19512 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/v2/api-docs'], Ant [pattern='/v2/api-docs']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-03-17T20:33:38.288-03:00 DEBUG 19512 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/v2/api-docs'], Ant [pattern='/v2/api-docs']]
2025-03-17T20:33:38.288-03:00  WARN 19512 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/v3/api-docs'], Ant [pattern='/v3/api-docs']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-03-17T20:33:38.289-03:00 DEBUG 19512 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/v3/api-docs'], Ant [pattern='/v3/api-docs']]
2025-03-17T20:33:38.289-03:00  WARN 19512 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-03-17T20:33:38.289-03:00 DEBUG 19512 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']]
2025-03-17T20:33:38.289-03:00  WARN 19512 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-03-17T20:33:38.289-03:00 DEBUG 19512 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']]
2025-03-17T20:33:38.289-03:00  WARN 19512 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-03-17T20:33:38.289-03:00 DEBUG 19512 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']]
2025-03-17T20:33:38.290-03:00  WARN 19512 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/webjar/**'], Ant [pattern='/webjar/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-03-17T20:33:38.290-03:00 DEBUG 19512 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/webjar/**'], Ant [pattern='/webjar/**']]
2025-03-17T20:33:38.357-03:00 DEBUG 19512 --- [libraryapi] [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-03-17T20:33:38.465-03:00 DEBUG 19512 --- [libraryapi] [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2025-03-17T20:33:38.818-03:00  INFO 19512 --- [libraryapi] [main] c.g.s.libraryapi.LibraryapiApplication   : Started LibraryapiApplication in 10.236 seconds (process running for 10.726)
2025-03-17T20:35:24.143-03:00  INFO 11508 --- [libraryapi] [main] c.g.s.libraryapi.LibraryapiApplication   : Starting LibraryapiApplication using Java 21.0.2 with PID 11508 (C:\Users\RYAN\Desktop\Cursos Udemy\SpringBootExpert\libraryapi\target\classes started by RYAN in C:\Users\RYAN\Desktop\Cursos Udemy\SpringBootExpert\libraryapi)
2025-03-17T20:35:24.145-03:00 DEBUG 11508 --- [libraryapi] [main] c.g.s.libraryapi.LibraryapiApplication   : Running with Spring Boot v3.4.3, Spring v6.2.3
2025-03-17T20:35:24.146-03:00  INFO 11508 --- [libraryapi] [main] c.g.s.libraryapi.LibraryapiApplication   : No active profile set, falling back to 1 default profile: "default"
2025-03-17T20:35:27.371-03:00  WARN 11508 --- [libraryapi] [main] com.zaxxer.hikari.HikariConfig           : library-db-pool - idleTimeout is close to or more than maxLifetime, disabling it.
2025-03-17T20:35:30.270-03:00 DEBUG 11508 --- [libraryapi] [main] o.s.w.s.r.ResourceUrlEncodingFilter      : Filter 'resourceUrlEncodingFilter' configured for use
2025-03-17T20:35:30.272-03:00 DEBUG 11508 --- [libraryapi] [main] c.g.s.l.s.JwtCustomAuthenticationFilter  : Filter 'jwtCustomAuthenticationFilter' configured for use
2025-03-17T20:35:31.566-03:00  WARN 11508 --- [libraryapi] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-03-17T20:35:31.585-03:00 TRACE 11508 --- [libraryapi] [main] eGlobalAuthenticationAutowiredConfigurer : Eagerly initializing {authorizationServerConfiguration=com.github.springudemy.libraryapi.config.AuthorizationServerConfiguration$$SpringCGLIB$$0@59b43e35, securityConfiguration=com.github.springudemy.libraryapi.config.SecurityConfiguration$$SpringCGLIB$$0@6ba516ff}
2025-03-17T20:35:31.587-03:00  INFO 11508 --- [libraryapi] [main] eAuthenticationProviderManagerConfigurer : Global AuthenticationManager configured with AuthenticationProvider bean with name customAuthenticationProvider
2025-03-17T20:35:31.824-03:00 DEBUG 11508 --- [libraryapi] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 21 mappings in 'requestMappingHandlerMapping'
2025-03-17T20:35:31.847-03:00 DEBUG 11508 --- [libraryapi] [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/login] in 'viewControllerHandlerMapping'
2025-03-17T20:35:31.886-03:00 DEBUG 11508 --- [libraryapi] [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-03-17T20:35:32.893-03:00 DEBUG 11508 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x000001df14adc0c8@8d0dcd9 with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, AuthorizationServerContextFilter, HeaderWriterFilter, CsrfFilter, OidcLogoutEndpointFilter, LogoutFilter, OAuth2AuthorizationServerMetadataEndpointFilter, OAuth2AuthorizationEndpointFilter, OAuth2DeviceVerificationEndpointFilter, OidcProviderConfigurationEndpointFilter, NimbusJwkSetEndpointFilter, OAuth2ClientAuthenticationFilter, UsernamePasswordAuthenticationFilter, BearerTokenAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, OAuth2TokenEndpointFilter, OAuth2TokenIntrospectionEndpointFilter, OAuth2TokenRevocationEndpointFilter, OAuth2DeviceAuthorizationEndpointFilter, OidcUserInfoEndpointFilter
2025-03-17T20:35:32.947-03:00 DEBUG 11508 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, OAuth2AuthorizationRequestRedirectFilter, OAuth2LoginAuthenticationFilter, UsernamePasswordAuthenticationFilter, BearerTokenAuthenticationFilter, JwtCustomAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-03-17T20:35:32.957-03:00  WARN 11508 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/v2/api-docs'], Ant [pattern='/v2/api-docs']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-03-17T20:35:32.957-03:00 DEBUG 11508 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/v2/api-docs'], Ant [pattern='/v2/api-docs']]
2025-03-17T20:35:32.958-03:00  WARN 11508 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/v3/api-docs'], Ant [pattern='/v3/api-docs']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-03-17T20:35:32.958-03:00 DEBUG 11508 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/v3/api-docs'], Ant [pattern='/v3/api-docs']]
2025-03-17T20:35:32.958-03:00  WARN 11508 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-03-17T20:35:32.958-03:00 DEBUG 11508 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']]
2025-03-17T20:35:32.958-03:00  WARN 11508 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-03-17T20:35:32.958-03:00 DEBUG 11508 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']]
2025-03-17T20:35:32.958-03:00  WARN 11508 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-03-17T20:35:32.958-03:00 DEBUG 11508 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']]
2025-03-17T20:35:32.958-03:00  WARN 11508 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/webjar/**'], Ant [pattern='/webjar/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-03-17T20:35:32.959-03:00 DEBUG 11508 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/webjar/**'], Ant [pattern='/webjar/**']]
2025-03-17T20:35:33.016-03:00 DEBUG 11508 --- [libraryapi] [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-03-17T20:35:33.092-03:00 DEBUG 11508 --- [libraryapi] [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2025-03-17T20:35:33.367-03:00  INFO 11508 --- [libraryapi] [main] c.g.s.libraryapi.LibraryapiApplication   : Started LibraryapiApplication in 9.834 seconds (process running for 10.31)
2025-03-17T20:36:33.083-03:00  INFO 16944 --- [libraryapi] [main] c.g.s.libraryapi.LibraryapiApplication   : Starting LibraryapiApplication using Java 21.0.2 with PID 16944 (C:\Users\RYAN\Desktop\Cursos Udemy\SpringBootExpert\libraryapi\target\classes started by RYAN in C:\Users\RYAN\Desktop\Cursos Udemy\SpringBootExpert\libraryapi)
2025-03-17T20:36:33.084-03:00 DEBUG 16944 --- [libraryapi] [main] c.g.s.libraryapi.LibraryapiApplication   : Running with Spring Boot v3.4.3, Spring v6.2.3
2025-03-17T20:36:33.085-03:00  INFO 16944 --- [libraryapi] [main] c.g.s.libraryapi.LibraryapiApplication   : No active profile set, falling back to 1 default profile: "default"
2025-03-17T20:36:36.432-03:00  WARN 16944 --- [libraryapi] [main] com.zaxxer.hikari.HikariConfig           : library-db-pool - idleTimeout is close to or more than maxLifetime, disabling it.
2025-03-17T20:36:39.048-03:00 DEBUG 16944 --- [libraryapi] [main] o.s.w.s.r.ResourceUrlEncodingFilter      : Filter 'resourceUrlEncodingFilter' configured for use
2025-03-17T20:36:39.050-03:00 DEBUG 16944 --- [libraryapi] [main] c.g.s.l.s.JwtCustomAuthenticationFilter  : Filter 'jwtCustomAuthenticationFilter' configured for use
2025-03-17T20:36:40.691-03:00  WARN 16944 --- [libraryapi] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-03-17T20:36:40.726-03:00 TRACE 16944 --- [libraryapi] [main] eGlobalAuthenticationAutowiredConfigurer : Eagerly initializing {authorizationServerConfiguration=com.github.springudemy.libraryapi.config.AuthorizationServerConfiguration$$SpringCGLIB$$0@2fda92e0, securityConfiguration=com.github.springudemy.libraryapi.config.SecurityConfiguration$$SpringCGLIB$$0@2bef33e7}
2025-03-17T20:36:40.730-03:00  INFO 16944 --- [libraryapi] [main] eAuthenticationProviderManagerConfigurer : Global AuthenticationManager configured with AuthenticationProvider bean with name customAuthenticationProvider
2025-03-17T20:36:41.042-03:00 DEBUG 16944 --- [libraryapi] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 21 mappings in 'requestMappingHandlerMapping'
2025-03-17T20:36:41.066-03:00 DEBUG 16944 --- [libraryapi] [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/login] in 'viewControllerHandlerMapping'
2025-03-17T20:36:41.114-03:00 DEBUG 16944 --- [libraryapi] [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-03-17T20:36:42.293-03:00 DEBUG 16944 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000028651addfd0@6309e4fb with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, AuthorizationServerContextFilter, HeaderWriterFilter, CsrfFilter, OidcLogoutEndpointFilter, LogoutFilter, OAuth2AuthorizationServerMetadataEndpointFilter, OAuth2AuthorizationEndpointFilter, OAuth2DeviceVerificationEndpointFilter, OidcProviderConfigurationEndpointFilter, NimbusJwkSetEndpointFilter, OAuth2ClientAuthenticationFilter, UsernamePasswordAuthenticationFilter, BearerTokenAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, OAuth2TokenEndpointFilter, OAuth2TokenIntrospectionEndpointFilter, OAuth2TokenRevocationEndpointFilter, OAuth2DeviceAuthorizationEndpointFilter, OidcUserInfoEndpointFilter
2025-03-17T20:36:42.384-03:00 DEBUG 16944 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, OAuth2AuthorizationRequestRedirectFilter, OAuth2LoginAuthenticationFilter, UsernamePasswordAuthenticationFilter, BearerTokenAuthenticationFilter, JwtCustomAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-03-17T20:36:42.398-03:00  WARN 16944 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/v2/api-docs'], Ant [pattern='/v2/api-docs']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-03-17T20:36:42.398-03:00 DEBUG 16944 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/v2/api-docs'], Ant [pattern='/v2/api-docs']]
2025-03-17T20:36:42.398-03:00  WARN 16944 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/v3/api-docs'], Ant [pattern='/v3/api-docs']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-03-17T20:36:42.398-03:00 DEBUG 16944 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/v3/api-docs'], Ant [pattern='/v3/api-docs']]
2025-03-17T20:36:42.398-03:00  WARN 16944 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-03-17T20:36:42.398-03:00 DEBUG 16944 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']]
2025-03-17T20:36:42.398-03:00  WARN 16944 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-03-17T20:36:42.398-03:00 DEBUG 16944 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']]
2025-03-17T20:36:42.398-03:00  WARN 16944 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-03-17T20:36:42.399-03:00 DEBUG 16944 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']]
2025-03-17T20:36:42.399-03:00  WARN 16944 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/webjar/**'], Ant [pattern='/webjar/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-03-17T20:36:42.399-03:00 DEBUG 16944 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/webjar/**'], Ant [pattern='/webjar/**']]
2025-03-17T20:36:42.483-03:00 DEBUG 16944 --- [libraryapi] [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-03-17T20:36:42.577-03:00 DEBUG 16944 --- [libraryapi] [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2025-03-17T20:36:42.953-03:00  INFO 16944 --- [libraryapi] [main] c.g.s.libraryapi.LibraryapiApplication   : Started LibraryapiApplication in 10.537 seconds (process running for 11.128)
2025-03-17T20:37:47.263-03:00  INFO 18932 --- [libraryapi] [main] c.g.s.libraryapi.LibraryapiApplication   : Starting LibraryapiApplication using Java 21.0.2 with PID 18932 (C:\Users\RYAN\Desktop\Cursos Udemy\SpringBootExpert\libraryapi\target\classes started by RYAN in C:\Users\RYAN\Desktop\Cursos Udemy\SpringBootExpert\libraryapi)
2025-03-17T20:37:47.265-03:00 DEBUG 18932 --- [libraryapi] [main] c.g.s.libraryapi.LibraryapiApplication   : Running with Spring Boot v3.4.3, Spring v6.2.3
2025-03-17T20:37:47.266-03:00  INFO 18932 --- [libraryapi] [main] c.g.s.libraryapi.LibraryapiApplication   : No active profile set, falling back to 1 default profile: "default"
2025-03-17T20:37:50.414-03:00  WARN 18932 --- [libraryapi] [main] com.zaxxer.hikari.HikariConfig           : library-db-pool - idleTimeout is close to or more than maxLifetime, disabling it.
2025-03-17T20:37:53.297-03:00 DEBUG 18932 --- [libraryapi] [main] o.s.w.s.r.ResourceUrlEncodingFilter      : Filter 'resourceUrlEncodingFilter' configured for use
2025-03-17T20:37:53.298-03:00 DEBUG 18932 --- [libraryapi] [main] c.g.s.l.s.JwtCustomAuthenticationFilter  : Filter 'jwtCustomAuthenticationFilter' configured for use
2025-03-17T20:37:54.727-03:00  WARN 18932 --- [libraryapi] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-03-17T20:37:54.755-03:00 TRACE 18932 --- [libraryapi] [main] eGlobalAuthenticationAutowiredConfigurer : Eagerly initializing {authorizationServerConfiguration=com.github.springudemy.libraryapi.config.AuthorizationServerConfiguration$$SpringCGLIB$$0@106387cf, securityConfiguration=com.github.springudemy.libraryapi.config.SecurityConfiguration$$SpringCGLIB$$0@7cddc50f}
2025-03-17T20:37:54.758-03:00  INFO 18932 --- [libraryapi] [main] eAuthenticationProviderManagerConfigurer : Global AuthenticationManager configured with AuthenticationProvider bean with name customAuthenticationProvider
2025-03-17T20:37:55.046-03:00 DEBUG 18932 --- [libraryapi] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 21 mappings in 'requestMappingHandlerMapping'
2025-03-17T20:37:55.072-03:00 DEBUG 18932 --- [libraryapi] [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/login] in 'viewControllerHandlerMapping'
2025-03-17T20:37:55.125-03:00 DEBUG 18932 --- [libraryapi] [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-03-17T20:37:56.140-03:00 DEBUG 18932 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000022eafad9688@79ab79f6 with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, AuthorizationServerContextFilter, HeaderWriterFilter, CsrfFilter, OidcLogoutEndpointFilter, LogoutFilter, OAuth2AuthorizationServerMetadataEndpointFilter, OAuth2AuthorizationEndpointFilter, OAuth2DeviceVerificationEndpointFilter, OidcProviderConfigurationEndpointFilter, NimbusJwkSetEndpointFilter, OAuth2ClientAuthenticationFilter, UsernamePasswordAuthenticationFilter, BearerTokenAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, OAuth2TokenEndpointFilter, OAuth2TokenIntrospectionEndpointFilter, OAuth2TokenRevocationEndpointFilter, OAuth2DeviceAuthorizationEndpointFilter, OidcUserInfoEndpointFilter
2025-03-17T20:37:56.210-03:00 DEBUG 18932 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, OAuth2AuthorizationRequestRedirectFilter, OAuth2LoginAuthenticationFilter, UsernamePasswordAuthenticationFilter, BearerTokenAuthenticationFilter, JwtCustomAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-03-17T20:37:56.220-03:00  WARN 18932 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/v2/api-docs'], Ant [pattern='/v2/api-docs']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-03-17T20:37:56.220-03:00 DEBUG 18932 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/v2/api-docs'], Ant [pattern='/v2/api-docs']]
2025-03-17T20:37:56.221-03:00  WARN 18932 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/v3/api-docs'], Ant [pattern='/v3/api-docs']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-03-17T20:37:56.221-03:00 DEBUG 18932 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/v3/api-docs'], Ant [pattern='/v3/api-docs']]
2025-03-17T20:37:56.221-03:00  WARN 18932 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-03-17T20:37:56.221-03:00 DEBUG 18932 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']]
2025-03-17T20:37:56.221-03:00  WARN 18932 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-03-17T20:37:56.221-03:00 DEBUG 18932 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']]
2025-03-17T20:37:56.221-03:00  WARN 18932 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-03-17T20:37:56.221-03:00 DEBUG 18932 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']]
2025-03-17T20:37:56.222-03:00  WARN 18932 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/webjar/**'], Ant [pattern='/webjar/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-03-17T20:37:56.222-03:00 DEBUG 18932 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/webjar/**'], Ant [pattern='/webjar/**']]
2025-03-17T20:37:56.284-03:00 DEBUG 18932 --- [libraryapi] [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-03-17T20:37:56.356-03:00 DEBUG 18932 --- [libraryapi] [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2025-03-17T20:37:56.668-03:00  INFO 18932 --- [libraryapi] [main] c.g.s.libraryapi.LibraryapiApplication   : Started LibraryapiApplication in 10.005 seconds (process running for 10.491)
2025-03-17T20:38:01.498-03:00  INFO 22296 --- [libraryapi] [main] c.g.s.libraryapi.LibraryapiApplication   : Starting LibraryapiApplication using Java 21.0.2 with PID 22296 (C:\Users\RYAN\Desktop\Cursos Udemy\SpringBootExpert\libraryapi\target\classes started by RYAN in C:\Users\RYAN\Desktop\Cursos Udemy\SpringBootExpert\libraryapi)
2025-03-17T20:38:01.501-03:00 DEBUG 22296 --- [libraryapi] [main] c.g.s.libraryapi.LibraryapiApplication   : Running with Spring Boot v3.4.3, Spring v6.2.3
2025-03-17T20:38:01.502-03:00  INFO 22296 --- [libraryapi] [main] c.g.s.libraryapi.LibraryapiApplication   : No active profile set, falling back to 1 default profile: "default"
2025-03-17T20:38:04.651-03:00  WARN 22296 --- [libraryapi] [main] com.zaxxer.hikari.HikariConfig           : library-db-pool - idleTimeout is close to or more than maxLifetime, disabling it.
2025-03-17T20:38:07.310-03:00 DEBUG 22296 --- [libraryapi] [main] o.s.w.s.r.ResourceUrlEncodingFilter      : Filter 'resourceUrlEncodingFilter' configured for use
2025-03-17T20:38:07.312-03:00 DEBUG 22296 --- [libraryapi] [main] c.g.s.l.s.JwtCustomAuthenticationFilter  : Filter 'jwtCustomAuthenticationFilter' configured for use
2025-03-17T20:38:08.785-03:00  WARN 22296 --- [libraryapi] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-03-17T20:38:08.810-03:00 TRACE 22296 --- [libraryapi] [main] eGlobalAuthenticationAutowiredConfigurer : Eagerly initializing {authorizationServerConfiguration=com.github.springudemy.libraryapi.config.AuthorizationServerConfiguration$$SpringCGLIB$$0@1e14ed59, securityConfiguration=com.github.springudemy.libraryapi.config.SecurityConfiguration$$SpringCGLIB$$0@41c56930}
2025-03-17T20:38:08.813-03:00  INFO 22296 --- [libraryapi] [main] eAuthenticationProviderManagerConfigurer : Global AuthenticationManager configured with AuthenticationProvider bean with name customAuthenticationProvider
2025-03-17T20:38:09.065-03:00 DEBUG 22296 --- [libraryapi] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 21 mappings in 'requestMappingHandlerMapping'
2025-03-17T20:38:09.083-03:00 DEBUG 22296 --- [libraryapi] [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/login] in 'viewControllerHandlerMapping'
2025-03-17T20:38:09.125-03:00 DEBUG 22296 --- [libraryapi] [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-03-17T20:38:10.337-03:00 DEBUG 22296 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000020ae0ae08a8@2fa7a4d3 with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, AuthorizationServerContextFilter, HeaderWriterFilter, CsrfFilter, OidcLogoutEndpointFilter, LogoutFilter, OAuth2AuthorizationServerMetadataEndpointFilter, OAuth2AuthorizationEndpointFilter, OAuth2DeviceVerificationEndpointFilter, OidcProviderConfigurationEndpointFilter, NimbusJwkSetEndpointFilter, OAuth2ClientAuthenticationFilter, UsernamePasswordAuthenticationFilter, BearerTokenAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, OAuth2TokenEndpointFilter, OAuth2TokenIntrospectionEndpointFilter, OAuth2TokenRevocationEndpointFilter, OAuth2DeviceAuthorizationEndpointFilter, OidcUserInfoEndpointFilter
2025-03-17T20:38:10.448-03:00 DEBUG 22296 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, OAuth2AuthorizationRequestRedirectFilter, OAuth2LoginAuthenticationFilter, UsernamePasswordAuthenticationFilter, BearerTokenAuthenticationFilter, JwtCustomAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-03-17T20:38:10.464-03:00  WARN 22296 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/v2/api-docs'], Ant [pattern='/v2/api-docs']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-03-17T20:38:10.465-03:00 DEBUG 22296 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/v2/api-docs'], Ant [pattern='/v2/api-docs']]
2025-03-17T20:38:10.465-03:00  WARN 22296 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/v3/api-docs'], Ant [pattern='/v3/api-docs']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-03-17T20:38:10.465-03:00 DEBUG 22296 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/v3/api-docs'], Ant [pattern='/v3/api-docs']]
2025-03-17T20:38:10.465-03:00  WARN 22296 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-03-17T20:38:10.465-03:00 DEBUG 22296 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']]
2025-03-17T20:38:10.466-03:00  WARN 22296 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-03-17T20:38:10.466-03:00 DEBUG 22296 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']]
2025-03-17T20:38:10.466-03:00  WARN 22296 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-03-17T20:38:10.466-03:00 DEBUG 22296 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']]
2025-03-17T20:38:10.466-03:00  WARN 22296 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/webjar/**'], Ant [pattern='/webjar/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-03-17T20:38:10.466-03:00 DEBUG 22296 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/webjar/**'], Ant [pattern='/webjar/**']]
2025-03-17T20:38:10.552-03:00 DEBUG 22296 --- [libraryapi] [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-03-17T20:38:10.637-03:00 DEBUG 22296 --- [libraryapi] [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2025-03-17T20:38:10.979-03:00  INFO 22296 --- [libraryapi] [main] c.g.s.libraryapi.LibraryapiApplication   : Started LibraryapiApplication in 10.063 seconds (process running for 10.532)
2025-03-17T20:38:45.419-03:00  INFO 19344 --- [libraryapi] [main] c.g.s.libraryapi.LibraryapiApplication   : Starting LibraryapiApplication using Java 21.0.2 with PID 19344 (C:\Users\RYAN\Desktop\Cursos Udemy\SpringBootExpert\libraryapi\target\classes started by RYAN in C:\Users\RYAN\Desktop\Cursos Udemy\SpringBootExpert\libraryapi)
2025-03-17T20:38:45.421-03:00 DEBUG 19344 --- [libraryapi] [main] c.g.s.libraryapi.LibraryapiApplication   : Running with Spring Boot v3.4.3, Spring v6.2.3
2025-03-17T20:38:45.422-03:00  INFO 19344 --- [libraryapi] [main] c.g.s.libraryapi.LibraryapiApplication   : No active profile set, falling back to 1 default profile: "default"
2025-03-17T20:38:48.480-03:00  WARN 19344 --- [libraryapi] [main] com.zaxxer.hikari.HikariConfig           : library-db-pool - idleTimeout is close to or more than maxLifetime, disabling it.
2025-03-17T20:38:51.245-03:00 DEBUG 19344 --- [libraryapi] [main] o.s.w.s.r.ResourceUrlEncodingFilter      : Filter 'resourceUrlEncodingFilter' configured for use
2025-03-17T20:38:51.247-03:00 DEBUG 19344 --- [libraryapi] [main] c.g.s.l.s.JwtCustomAuthenticationFilter  : Filter 'jwtCustomAuthenticationFilter' configured for use
2025-03-17T20:38:52.678-03:00  WARN 19344 --- [libraryapi] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-03-17T20:38:52.705-03:00 TRACE 19344 --- [libraryapi] [main] eGlobalAuthenticationAutowiredConfigurer : Eagerly initializing {authorizationServerConfiguration=com.github.springudemy.libraryapi.config.AuthorizationServerConfiguration$$SpringCGLIB$$0@3763aafd, securityConfiguration=com.github.springudemy.libraryapi.config.SecurityConfiguration$$SpringCGLIB$$0@3e242137}
2025-03-17T20:38:52.708-03:00  INFO 19344 --- [libraryapi] [main] eAuthenticationProviderManagerConfigurer : Global AuthenticationManager configured with AuthenticationProvider bean with name customAuthenticationProvider
2025-03-17T20:38:53.052-03:00 DEBUG 19344 --- [libraryapi] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 21 mappings in 'requestMappingHandlerMapping'
2025-03-17T20:38:53.078-03:00 DEBUG 19344 --- [libraryapi] [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/login] in 'viewControllerHandlerMapping'
2025-03-17T20:38:53.117-03:00 DEBUG 19344 --- [libraryapi] [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-03-17T20:38:53.805-03:00 DEBUG 19344 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000024e01adc788@7101fb1c with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, AuthorizationServerContextFilter, HeaderWriterFilter, CsrfFilter, OidcLogoutEndpointFilter, LogoutFilter, OAuth2AuthorizationServerMetadataEndpointFilter, OAuth2AuthorizationEndpointFilter, OAuth2DeviceVerificationEndpointFilter, OidcProviderConfigurationEndpointFilter, NimbusJwkSetEndpointFilter, OAuth2ClientAuthenticationFilter, UsernamePasswordAuthenticationFilter, BearerTokenAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, OAuth2TokenEndpointFilter, OAuth2TokenIntrospectionEndpointFilter, OAuth2TokenRevocationEndpointFilter, OAuth2DeviceAuthorizationEndpointFilter, OidcUserInfoEndpointFilter
2025-03-17T20:38:53.861-03:00 DEBUG 19344 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, OAuth2AuthorizationRequestRedirectFilter, OAuth2LoginAuthenticationFilter, UsernamePasswordAuthenticationFilter, BearerTokenAuthenticationFilter, JwtCustomAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-03-17T20:38:53.871-03:00  WARN 19344 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/v2/api-docs'], Ant [pattern='/v2/api-docs']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-03-17T20:38:53.871-03:00 DEBUG 19344 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/v2/api-docs'], Ant [pattern='/v2/api-docs']]
2025-03-17T20:38:53.871-03:00  WARN 19344 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/v3/api-docs'], Ant [pattern='/v3/api-docs']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-03-17T20:38:53.871-03:00 DEBUG 19344 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/v3/api-docs'], Ant [pattern='/v3/api-docs']]
2025-03-17T20:38:53.872-03:00  WARN 19344 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-03-17T20:38:53.872-03:00 DEBUG 19344 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']]
2025-03-17T20:38:53.872-03:00  WARN 19344 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-03-17T20:38:53.872-03:00 DEBUG 19344 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']]
2025-03-17T20:38:53.872-03:00  WARN 19344 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-03-17T20:38:53.872-03:00 DEBUG 19344 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']]
2025-03-17T20:38:53.872-03:00  WARN 19344 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/webjar/**'], Ant [pattern='/webjar/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-03-17T20:38:53.872-03:00 DEBUG 19344 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/webjar/**'], Ant [pattern='/webjar/**']]
2025-03-17T20:38:53.927-03:00 DEBUG 19344 --- [libraryapi] [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-03-17T20:38:54.013-03:00 DEBUG 19344 --- [libraryapi] [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2025-03-17T20:38:54.307-03:00  INFO 19344 --- [libraryapi] [main] c.g.s.libraryapi.LibraryapiApplication   : Started LibraryapiApplication in 9.474 seconds (process running for 9.95)
2025-03-17T20:40:12.288-03:00  INFO 12028 --- [libraryapi] [main] c.g.s.libraryapi.LibraryapiApplication   : Starting LibraryapiApplication using Java 21.0.2 with PID 12028 (C:\Users\RYAN\Desktop\Cursos Udemy\SpringBootExpert\libraryapi\target\classes started by RYAN in C:\Users\RYAN\Desktop\Cursos Udemy\SpringBootExpert\libraryapi)
2025-03-17T20:40:12.290-03:00 DEBUG 12028 --- [libraryapi] [main] c.g.s.libraryapi.LibraryapiApplication   : Running with Spring Boot v3.4.3, Spring v6.2.3
2025-03-17T20:40:12.291-03:00  INFO 12028 --- [libraryapi] [main] c.g.s.libraryapi.LibraryapiApplication   : No active profile set, falling back to 1 default profile: "default"
2025-03-17T20:40:15.141-03:00  WARN 12028 --- [libraryapi] [main] com.zaxxer.hikari.HikariConfig           : library-db-pool - idleTimeout is close to or more than maxLifetime, disabling it.
2025-03-17T20:40:17.940-03:00 DEBUG 12028 --- [libraryapi] [main] o.s.w.s.r.ResourceUrlEncodingFilter      : Filter 'resourceUrlEncodingFilter' configured for use
2025-03-17T20:40:17.942-03:00 DEBUG 12028 --- [libraryapi] [main] c.g.s.l.s.JwtCustomAuthenticationFilter  : Filter 'jwtCustomAuthenticationFilter' configured for use
2025-03-17T20:40:19.363-03:00  WARN 12028 --- [libraryapi] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-03-17T20:40:19.389-03:00 TRACE 12028 --- [libraryapi] [main] eGlobalAuthenticationAutowiredConfigurer : Eagerly initializing {authorizationServerConfiguration=com.github.springudemy.libraryapi.config.AuthorizationServerConfiguration$$SpringCGLIB$$0@4fe4b8b6, securityConfiguration=com.github.springudemy.libraryapi.config.SecurityConfiguration$$SpringCGLIB$$0@55da6bf}
2025-03-17T20:40:19.392-03:00  INFO 12028 --- [libraryapi] [main] eAuthenticationProviderManagerConfigurer : Global AuthenticationManager configured with AuthenticationProvider bean with name customAuthenticationProvider
2025-03-17T20:40:19.701-03:00 DEBUG 12028 --- [libraryapi] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 21 mappings in 'requestMappingHandlerMapping'
2025-03-17T20:40:19.730-03:00 DEBUG 12028 --- [libraryapi] [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/login] in 'viewControllerHandlerMapping'
2025-03-17T20:40:19.771-03:00 DEBUG 12028 --- [libraryapi] [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-03-17T20:40:20.589-03:00 DEBUG 12028 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x000002014bae15a0@5de6a9b9 with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, AuthorizationServerContextFilter, HeaderWriterFilter, CsrfFilter, OidcLogoutEndpointFilter, LogoutFilter, OAuth2AuthorizationServerMetadataEndpointFilter, OAuth2AuthorizationEndpointFilter, OAuth2DeviceVerificationEndpointFilter, OidcProviderConfigurationEndpointFilter, NimbusJwkSetEndpointFilter, OAuth2ClientAuthenticationFilter, UsernamePasswordAuthenticationFilter, BearerTokenAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, OAuth2TokenEndpointFilter, OAuth2TokenIntrospectionEndpointFilter, OAuth2TokenRevocationEndpointFilter, OAuth2DeviceAuthorizationEndpointFilter, OidcUserInfoEndpointFilter
2025-03-17T20:40:20.655-03:00 DEBUG 12028 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, OAuth2AuthorizationRequestRedirectFilter, OAuth2LoginAuthenticationFilter, UsernamePasswordAuthenticationFilter, BearerTokenAuthenticationFilter, JwtCustomAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-03-17T20:40:20.667-03:00  WARN 12028 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/v2/api-docs'], Ant [pattern='/v2/api-docs']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-03-17T20:40:20.668-03:00 DEBUG 12028 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/v2/api-docs'], Ant [pattern='/v2/api-docs']]
2025-03-17T20:40:20.668-03:00  WARN 12028 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/v3/api-docs'], Ant [pattern='/v3/api-docs']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-03-17T20:40:20.668-03:00 DEBUG 12028 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/v3/api-docs'], Ant [pattern='/v3/api-docs']]
2025-03-17T20:40:20.668-03:00  WARN 12028 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-03-17T20:40:20.668-03:00 DEBUG 12028 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']]
2025-03-17T20:40:20.669-03:00  WARN 12028 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-03-17T20:40:20.669-03:00 DEBUG 12028 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']]
2025-03-17T20:40:20.669-03:00  WARN 12028 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-03-17T20:40:20.669-03:00 DEBUG 12028 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']]
2025-03-17T20:40:20.669-03:00  WARN 12028 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/webjar/**'], Ant [pattern='/webjar/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-03-17T20:40:20.669-03:00 DEBUG 12028 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/webjar/**'], Ant [pattern='/webjar/**']]
2025-03-17T20:40:20.732-03:00 DEBUG 12028 --- [libraryapi] [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-03-17T20:40:20.802-03:00 DEBUG 12028 --- [libraryapi] [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2025-03-17T20:40:21.120-03:00  INFO 12028 --- [libraryapi] [main] c.g.s.libraryapi.LibraryapiApplication   : Started LibraryapiApplication in 9.439 seconds (process running for 9.899)
2025-03-17T20:40:53.130-03:00  INFO 12028 --- [libraryapi] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-03-17T20:40:53.130-03:00 DEBUG 12028 --- [libraryapi] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2025-03-17T20:40:53.131-03:00 DEBUG 12028 --- [libraryapi] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2025-03-17T20:40:53.131-03:00 DEBUG 12028 --- [libraryapi] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2025-03-17T20:40:53.132-03:00 DEBUG 12028 --- [libraryapi] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@4df25105
2025-03-17T20:40:53.132-03:00 DEBUG 12028 --- [libraryapi] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@32394a4b
2025-03-17T20:40:53.132-03:00 DEBUG 12028 --- [libraryapi] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-03-17T20:40:53.133-03:00  INFO 12028 --- [libraryapi] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2025-03-17T20:40:53.146-03:00 TRACE 12028 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain matching [Deferred [Mvc [pattern='/v2/api-docs'], Ant [pattern='/v2/api-docs']]] and having filters [] (1/8)
2025-03-17T20:40:53.148-03:00 TRACE 12028 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain matching [Deferred [Mvc [pattern='/v3/api-docs'], Ant [pattern='/v3/api-docs']]] and having filters [] (2/8)
2025-03-17T20:40:53.149-03:00 TRACE 12028 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain matching [Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']]] and having filters [] (3/8)
2025-03-17T20:40:53.149-03:00 TRACE 12028 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain matching [Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']]] and having filters [] (4/8)
2025-03-17T20:40:53.150-03:00 TRACE 12028 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain matching [Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']]] and having filters [] (5/8)
2025-03-17T20:40:53.150-03:00 TRACE 12028 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain matching [Deferred [Mvc [pattern='/webjar/**'], Ant [pattern='/webjar/**']]] and having filters [] (6/8)
2025-03-17T20:40:53.150-03:00 TRACE 12028 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain defined as 'authorizationServerSecurityFilterChain' in [class path resource [com/github/springudemy/libraryapi/config/AuthorizationServerConfiguration.class]] matching [org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x000002014bae15a0@5de6a9b9] and having filters [DisableEncodeUrl, WebAsyncManagerIntegration, SecurityContextHolder, AuthorizationServerContext, HeaderWriter, Csrf, OidcLogoutEndpoint, Logout, OAuth2AuthorizationServerMetadataEndpoint, OAuth2AuthorizationEndpoint, OAuth2DeviceVerificationEndpoint, OidcProviderConfigurationEndpoint, NimbusJwkSetEndpoint, OAuth2ClientAuthentication, UsernamePasswordAuthentication, BearerTokenAuthentication, RequestCacheAware, SecurityContextHolderAwareRequest, AnonymousAuthentication, ExceptionTranslation, OAuth2TokenEndpoint, OAuth2TokenIntrospectionEndpoint, OAuth2TokenRevocationEndpoint, OAuth2DeviceAuthorizationEndpoint, OidcUserInfoEndpoint] (7/8)
2025-03-17T20:40:53.151-03:00 DEBUG 12028 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /oauth2/authorize?response_type=code&client_id=meu-client&redirect_uri=http%3A%2F%2Flocalhost%3A8080%2Fauthorized
2025-03-17T20:40:53.152-03:00 TRACE 12028 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/25)
2025-03-17T20:40:53.153-03:00 TRACE 12028 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/25)
2025-03-17T20:40:53.155-03:00 TRACE 12028 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/25)
2025-03-17T20:40:53.156-03:00 TRACE 12028 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking AuthorizationServerContextFilter (4/25)
2025-03-17T20:40:53.172-03:00 TRACE 12028 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (5/25)
2025-03-17T20:40:53.174-03:00 TRACE 12028 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking CsrfFilter (6/25)
2025-03-17T20:40:53.176-03:00 TRACE 12028 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.csrf.CsrfFilter         : Did not protect against CSRF since request did not match And [CsrfNotRequired [TRACE, HEAD, GET, OPTIONS], Not [Or [Or [Or [Ant [pattern='/oauth2/token', POST], Ant [pattern='/oauth2/introspect', POST], Ant [pattern='/oauth2/revoke', POST], Ant [pattern='/oauth2/device_authorization', POST]], Ant [pattern='/.well-known/oauth-authorization-server', GET], Or [Ant [pattern='/oauth2/authorize', GET], Ant [pattern='/oauth2/authorize', POST]], Ant [pattern='/oauth2/token', POST], Ant [pattern='/oauth2/introspect', POST], Ant [pattern='/oauth2/revoke', POST], Ant [pattern='/oauth2/device_authorization', POST], Or [Ant [pattern='/oauth2/device_verification', GET], Ant [pattern='/oauth2/device_verification', POST]], Or [Ant [pattern='/.well-known/openid-configuration', GET], Or [Ant [pattern='/oauth2/logout', GET], Ant [pattern='/oauth2/logout', POST]], Or [Ant [pattern='/oauth2/userinfo', GET], Ant [pattern='/oauth2/userinfo', POST]]], Ant [pattern='/oauth2/jwks', GET]], org.springframework.security.config.annotation.web.configurers.oauth2.server.resource.OAuth2ResourceServerConfigurer$BearerTokenRequestMatcher@184e7447]]]
2025-03-17T20:40:53.176-03:00 TRACE 12028 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking OidcLogoutEndpointFilter (7/25)
2025-03-17T20:40:53.176-03:00 TRACE 12028 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (8/25)
2025-03-17T20:40:53.176-03:00 TRACE 12028 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Ant [pattern='/logout', POST]
2025-03-17T20:40:53.177-03:00 TRACE 12028 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationServerMetadataEndpointFilter (9/25)
2025-03-17T20:40:53.177-03:00 TRACE 12028 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationEndpointFilter (10/25)
2025-03-17T20:40:53.180-03:00 TRACE 12028 --- [libraryapi] [http-nio-8080-exec-1] w.c.HttpSessionSecurityContextRepository : No HttpSession currently exists
2025-03-17T20:40:53.181-03:00 TRACE 12028 --- [libraryapi] [http-nio-8080-exec-1] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-03-17T20:40:53.181-03:00 TRACE 12028 --- [libraryapi] [http-nio-8080-exec-1] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-03-17T20:40:53.183-03:00 TRACE 12028 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.authentication.ProviderManager     : Authenticating request with OAuth2AuthorizationCodeRequestAuthenticationProvider (1/20)
2025-03-17T20:40:53.334-03:00 TRACE 12028 --- [libraryapi] [http-nio-8080-exec-1] izationCodeRequestAuthenticationProvider : Retrieved registered client
2025-03-17T20:40:53.337-03:00 TRACE 12028 --- [libraryapi] [http-nio-8080-exec-1] izationCodeRequestAuthenticationProvider : Validated authorization code request parameters
2025-03-17T20:40:53.337-03:00 TRACE 12028 --- [libraryapi] [http-nio-8080-exec-1] izationCodeRequestAuthenticationProvider : Did not authenticate authorization code request since principal not authenticated
2025-03-17T20:40:53.337-03:00 TRACE 12028 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking OAuth2DeviceVerificationEndpointFilter (11/25)
2025-03-17T20:40:53.338-03:00 TRACE 12028 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking OidcProviderConfigurationEndpointFilter (12/25)
2025-03-17T20:40:53.338-03:00 TRACE 12028 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking NimbusJwkSetEndpointFilter (13/25)
2025-03-17T20:40:53.338-03:00 TRACE 12028 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking OAuth2ClientAuthenticationFilter (14/25)
2025-03-17T20:40:53.338-03:00 TRACE 12028 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (15/25)
2025-03-17T20:40:53.338-03:00 TRACE 12028 --- [libraryapi] [http-nio-8080-exec-1] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-03-17T20:40:53.338-03:00 TRACE 12028 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (16/25)
2025-03-17T20:40:53.339-03:00 TRACE 12028 --- [libraryapi] [http-nio-8080-exec-1] .s.r.w.a.BearerTokenAuthenticationFilter : Did not process request since did not find bearer token
2025-03-17T20:40:53.339-03:00 TRACE 12028 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (17/25)
2025-03-17T20:40:53.339-03:00 TRACE 12028 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-03-17T20:40:53.339-03:00 TRACE 12028 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (18/25)
2025-03-17T20:40:53.341-03:00 TRACE 12028 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (19/25)
2025-03-17T20:40:53.341-03:00 TRACE 12028 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (20/25)
2025-03-17T20:40:53.341-03:00 TRACE 12028 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking OAuth2TokenEndpointFilter (21/25)
2025-03-17T20:40:53.341-03:00 TRACE 12028 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking OAuth2TokenIntrospectionEndpointFilter (22/25)
2025-03-17T20:40:53.341-03:00 TRACE 12028 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking OAuth2TokenRevocationEndpointFilter (23/25)
2025-03-17T20:40:53.342-03:00 TRACE 12028 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking OAuth2DeviceAuthorizationEndpointFilter (24/25)
2025-03-17T20:40:53.342-03:00 TRACE 12028 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking OidcUserInfoEndpointFilter (25/25)
2025-03-17T20:40:53.342-03:00 DEBUG 12028 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /oauth2/authorize?response_type=code&client_id=meu-client&redirect_uri=http%3A%2F%2Flocalhost%3A8080%2Fauthorized
2025-03-17T20:40:53.343-03:00 TRACE 12028 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]]
2025-03-17T20:40:53.346-03:00 DEBUG 12028 --- [libraryapi] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/oauth2/authorize?response_type=code&client_id=meu-client&redirect_uri=http%3A%2F%2Flocalhost%3A8080%2Fauthorized", parameters={masked}
2025-03-17T20:40:53.349-03:00  WARN 12028 --- [libraryapi] [http-nio-8080-exec-1] o.s.web.servlet.PageNotFound             : No mapping for GET /oauth2/authorize
2025-03-17T20:40:53.359-03:00  WARN 12028 --- [libraryapi] [http-nio-8080-exec-1] o.s.web.servlet.PageNotFound             : No endpoint GET /oauth2/authorize.
2025-03-17T20:40:53.360-03:00 TRACE 12028 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-03-17T20:40:53.361-03:00 DEBUG 12028 --- [libraryapi] [http-nio-8080-exec-1] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.servlet.NoHandlerFoundException: No endpoint GET /oauth2/authorize.]
2025-03-17T20:40:53.362-03:00 DEBUG 12028 --- [libraryapi] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 404 NOT_FOUND
2025-03-17T20:40:53.374-03:00 TRACE 12028 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain matching [Deferred [Mvc [pattern='/v2/api-docs'], Ant [pattern='/v2/api-docs']]] and having filters [] (1/8)
2025-03-17T20:40:53.374-03:00 TRACE 12028 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain matching [Deferred [Mvc [pattern='/v3/api-docs'], Ant [pattern='/v3/api-docs']]] and having filters [] (2/8)
2025-03-17T20:40:53.374-03:00 TRACE 12028 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain matching [Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']]] and having filters [] (3/8)
2025-03-17T20:40:53.374-03:00 TRACE 12028 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain matching [Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']]] and having filters [] (4/8)
2025-03-17T20:40:53.375-03:00 TRACE 12028 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain matching [Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']]] and having filters [] (5/8)
2025-03-17T20:40:53.375-03:00 TRACE 12028 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain matching [Deferred [Mvc [pattern='/webjar/**'], Ant [pattern='/webjar/**']]] and having filters [] (6/8)
2025-03-17T20:40:53.375-03:00 TRACE 12028 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain defined as 'authorizationServerSecurityFilterChain' in [class path resource [com/github/springudemy/libraryapi/config/AuthorizationServerConfiguration.class]] matching [org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x000002014bae15a0@5de6a9b9] and having filters [DisableEncodeUrl, WebAsyncManagerIntegration, SecurityContextHolder, AuthorizationServerContext, HeaderWriter, Csrf, OidcLogoutEndpoint, Logout, OAuth2AuthorizationServerMetadataEndpoint, OAuth2AuthorizationEndpoint, OAuth2DeviceVerificationEndpoint, OidcProviderConfigurationEndpoint, NimbusJwkSetEndpoint, OAuth2ClientAuthentication, UsernamePasswordAuthentication, BearerTokenAuthentication, RequestCacheAware, SecurityContextHolderAwareRequest, AnonymousAuthentication, ExceptionTranslation, OAuth2TokenEndpoint, OAuth2TokenIntrospectionEndpoint, OAuth2TokenRevocationEndpoint, OAuth2DeviceAuthorizationEndpoint, OidcUserInfoEndpoint] (7/8)
2025-03-17T20:40:53.375-03:00 TRACE 12028 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain defined as 'securityFilterChain' in [class path resource [com/github/springudemy/libraryapi/config/SecurityConfiguration.class]] matching [any request] and having filters [DisableEncodeUrl, WebAsyncManagerIntegration, SecurityContextHolder, HeaderWriter, Logout, OAuth2AuthorizationRequestRedirect, OAuth2LoginAuthentication, UsernamePasswordAuthentication, BearerTokenAuthentication, JwtCustomAuthentication, RequestCacheAware, SecurityContextHolderAwareRequest, AnonymousAuthentication, ExceptionTranslation, Authorization] (8/8)
2025-03-17T20:40:53.375-03:00 DEBUG 12028 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /error?response_type=code&client_id=meu-client&redirect_uri=http%3A%2F%2Flocalhost%3A8080%2Fauthorized
2025-03-17T20:40:53.376-03:00 TRACE 12028 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/15)
2025-03-17T20:40:53.376-03:00 TRACE 12028 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/15)
2025-03-17T20:40:53.376-03:00 TRACE 12028 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/15)
2025-03-17T20:40:53.376-03:00 TRACE 12028 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/15)
2025-03-17T20:40:53.376-03:00 TRACE 12028 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (5/15)
2025-03-17T20:40:53.376-03:00 TRACE 12028 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-03-17T20:40:53.376-03:00 TRACE 12028 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (6/15)
2025-03-17T20:40:53.376-03:00 TRACE 12028 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (7/15)
2025-03-17T20:40:53.376-03:00 TRACE 12028 --- [libraryapi] [http-nio-8080-exec-1] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2025-03-17T20:40:53.376-03:00 TRACE 12028 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (8/15)
2025-03-17T20:40:53.377-03:00 TRACE 12028 --- [libraryapi] [http-nio-8080-exec-1] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-03-17T20:40:53.377-03:00 TRACE 12028 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (9/15)
2025-03-17T20:40:53.377-03:00 TRACE 12028 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking JwtCustomAuthenticationFilter (10/15)
2025-03-17T20:40:53.377-03:00 TRACE 12028 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (11/15)
2025-03-17T20:40:53.377-03:00 TRACE 12028 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-03-17T20:40:53.377-03:00 TRACE 12028 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (12/15)
2025-03-17T20:40:53.377-03:00 TRACE 12028 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (13/15)
2025-03-17T20:40:53.377-03:00 TRACE 12028 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (14/15)
2025-03-17T20:40:53.378-03:00 TRACE 12028 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (15/15)
2025-03-17T20:40:53.378-03:00 TRACE 12028 --- [libraryapi] [http-nio-8080-exec-1] estMatcherDelegatingAuthorizationManager : Authorizing GET /error?response_type=code&client_id=meu-client&redirect_uri=http%3A%2F%2Flocalhost%3A8080%2Fauthorized
2025-03-17T20:40:53.379-03:00 TRACE 12028 --- [libraryapi] [http-nio-8080-exec-1] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /error?response_type=code&client_id=meu-client&redirect_uri=http%3A%2F%2Flocalhost%3A8080%2Fauthorized using org.springframework.security.authorization.AuthenticatedAuthorizationManager@32000ae2
2025-03-17T20:40:53.379-03:00 TRACE 12028 --- [libraryapi] [http-nio-8080-exec-1] w.c.HttpSessionSecurityContextRepository : No HttpSession currently exists
2025-03-17T20:40:53.379-03:00 TRACE 12028 --- [libraryapi] [http-nio-8080-exec-1] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-03-17T20:40:53.379-03:00 TRACE 12028 --- [libraryapi] [http-nio-8080-exec-1] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-03-17T20:40:53.379-03:00 TRACE 12028 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]]
2025-03-17T20:40:53.380-03:00 TRACE 12028 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.w.a.ExceptionTranslationFilter     : Sending AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]] to authentication entry point since access is denied

org.springframework.security.authorization.AuthorizationDeniedException: Access Denied
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:99) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.2.3.jar:6.2.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.2.3.jar:6.2.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.2.3.jar:6.2.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.2.3.jar:6.2.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.2.3.jar:6.2.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.2.3.jar:6.2.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.3.jar:6.2.3]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:243) ~[spring-webmvc-6.2.3.jar:6.2.3]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.3.jar:6.2.3]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.2.3.jar:6.2.3]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:238) ~[spring-security-config-6.4.3.jar:6.4.3]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362) ~[spring-web-6.2.3.jar:6.2.3]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278) ~[spring-web-6.2.3.jar:6.2.3]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.2.3.jar:6.2.3]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:633) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.catalina.core.ApplicationDispatcher.processRequest(ApplicationDispatcher.java:411) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.catalina.core.ApplicationDispatcher.doForward(ApplicationDispatcher.java:331) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.catalina.core.ApplicationDispatcher.forward(ApplicationDispatcher.java:268) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.catalina.core.StandardHostValve.custom(StandardHostValve.java:380) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.catalina.core.StandardHostValve.status(StandardHostValve.java:208) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:151) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]

2025-03-17T20:40:53.405-03:00 DEBUG 12028 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.w.s.HttpSessionRequestCache        : Saved request http://localhost:8080/error?response_type=code&client_id=meu-client&redirect_uri=http%3A%2F%2Flocalhost%3A8080%2Fauthorized&continue to session
2025-03-17T20:40:53.408-03:00 DEBUG 12028 --- [libraryapi] [http-nio-8080-exec-1] s.w.a.DelegatingAuthenticationEntryPoint : Trying to match using And [Not [RequestHeaderRequestMatcher [expectedHeaderName=X-Requested-With, expectedHeaderValue=XMLHttpRequest]], MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@506d7831, matchingMediaTypes=[application/xhtml+xml, image/*, text/html, text/plain], useEquals=false, ignoredMediaTypes=[*/*]]]
2025-03-17T20:40:53.408-03:00 DEBUG 12028 --- [libraryapi] [http-nio-8080-exec-1] s.w.a.DelegatingAuthenticationEntryPoint : Match found! Executing org.springframework.security.web.authentication.LoginUrlAuthenticationEntryPoint@24cb530d
2025-03-17T20:40:53.410-03:00 DEBUG 12028 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.web.DefaultRedirectStrategy        : Redirecting to http://localhost:8080/login;jsessionid=4405E31A95A08CF21CF5B001FCB0BFCF
2025-03-17T20:40:53.446-03:00 DEBUG 12028 --- [libraryapi] [http-nio-8080-exec-2] s.s.w.f.HttpStatusRequestRejectedHandler : Rejecting request due to: The request was rejected because the URL contained a potentially malicious String ";"

org.springframework.security.web.firewall.RequestRejectedException: The request was rejected because the URL contained a potentially malicious String ";"
	at org.springframework.security.web.firewall.StrictHttpFirewall.rejectedBlocklistedUrls(StrictHttpFirewall.java:548) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.firewall.StrictHttpFirewall.getFirewalledRequest(StrictHttpFirewall.java:518) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.3.jar:6.2.3]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:243) ~[spring-webmvc-6.2.3.jar:6.2.3]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.3.jar:6.2.3]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.2.3.jar:6.2.3]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:238) ~[spring-security-config-6.4.3.jar:6.4.3]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362) ~[spring-web-6.2.3.jar:6.2.3]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278) ~[spring-web-6.2.3.jar:6.2.3]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.2.3.jar:6.2.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.3.jar:6.2.3]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]

2025-03-17T20:40:53.447-03:00 TRACE 12028 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain matching [Deferred [Mvc [pattern='/v2/api-docs'], Ant [pattern='/v2/api-docs']]] and having filters [] (1/8)
2025-03-17T20:40:53.448-03:00 TRACE 12028 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain matching [Deferred [Mvc [pattern='/v3/api-docs'], Ant [pattern='/v3/api-docs']]] and having filters [] (2/8)
2025-03-17T20:40:53.448-03:00 TRACE 12028 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain matching [Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']]] and having filters [] (3/8)
2025-03-17T20:40:53.448-03:00 TRACE 12028 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain matching [Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']]] and having filters [] (4/8)
2025-03-17T20:40:53.448-03:00 TRACE 12028 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain matching [Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']]] and having filters [] (5/8)
2025-03-17T20:40:53.448-03:00 TRACE 12028 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain matching [Deferred [Mvc [pattern='/webjar/**'], Ant [pattern='/webjar/**']]] and having filters [] (6/8)
2025-03-17T20:40:53.449-03:00 TRACE 12028 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain defined as 'authorizationServerSecurityFilterChain' in [class path resource [com/github/springudemy/libraryapi/config/AuthorizationServerConfiguration.class]] matching [org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x000002014bae15a0@5de6a9b9] and having filters [DisableEncodeUrl, WebAsyncManagerIntegration, SecurityContextHolder, AuthorizationServerContext, HeaderWriter, Csrf, OidcLogoutEndpoint, Logout, OAuth2AuthorizationServerMetadataEndpoint, OAuth2AuthorizationEndpoint, OAuth2DeviceVerificationEndpoint, OidcProviderConfigurationEndpoint, NimbusJwkSetEndpoint, OAuth2ClientAuthentication, UsernamePasswordAuthentication, BearerTokenAuthentication, RequestCacheAware, SecurityContextHolderAwareRequest, AnonymousAuthentication, ExceptionTranslation, OAuth2TokenEndpoint, OAuth2TokenIntrospectionEndpoint, OAuth2TokenRevocationEndpoint, OAuth2DeviceAuthorizationEndpoint, OidcUserInfoEndpoint] (7/8)
2025-03-17T20:40:53.449-03:00 TRACE 12028 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain defined as 'securityFilterChain' in [class path resource [com/github/springudemy/libraryapi/config/SecurityConfiguration.class]] matching [any request] and having filters [DisableEncodeUrl, WebAsyncManagerIntegration, SecurityContextHolder, HeaderWriter, Logout, OAuth2AuthorizationRequestRedirect, OAuth2LoginAuthentication, UsernamePasswordAuthentication, BearerTokenAuthentication, JwtCustomAuthentication, RequestCacheAware, SecurityContextHolderAwareRequest, AnonymousAuthentication, ExceptionTranslation, Authorization] (8/8)
2025-03-17T20:40:53.449-03:00 DEBUG 12028 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /error
2025-03-17T20:40:53.449-03:00 TRACE 12028 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/15)
2025-03-17T20:40:53.449-03:00 TRACE 12028 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/15)
2025-03-17T20:40:53.449-03:00 TRACE 12028 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/15)
2025-03-17T20:40:53.449-03:00 TRACE 12028 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/15)
2025-03-17T20:40:53.450-03:00 TRACE 12028 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (5/15)
2025-03-17T20:40:53.450-03:00 TRACE 12028 --- [libraryapi] [http-nio-8080-exec-2] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-03-17T20:40:53.450-03:00 TRACE 12028 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (6/15)
2025-03-17T20:40:53.450-03:00 TRACE 12028 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (7/15)
2025-03-17T20:40:53.450-03:00 TRACE 12028 --- [libraryapi] [http-nio-8080-exec-2] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2025-03-17T20:40:53.450-03:00 TRACE 12028 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (8/15)
2025-03-17T20:40:53.450-03:00 TRACE 12028 --- [libraryapi] [http-nio-8080-exec-2] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-03-17T20:40:53.450-03:00 TRACE 12028 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (9/15)
2025-03-17T20:40:53.450-03:00 TRACE 12028 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking JwtCustomAuthenticationFilter (10/15)
2025-03-17T20:40:53.450-03:00 TRACE 12028 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (11/15)
2025-03-17T20:40:53.450-03:00 TRACE 12028 --- [libraryapi] [http-nio-8080-exec-2] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-03-17T20:40:53.451-03:00 TRACE 12028 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (12/15)
2025-03-17T20:40:53.451-03:00 TRACE 12028 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (13/15)
2025-03-17T20:40:53.451-03:00 TRACE 12028 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (14/15)
2025-03-17T20:40:53.451-03:00 TRACE 12028 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (15/15)
2025-03-17T20:40:53.451-03:00 TRACE 12028 --- [libraryapi] [http-nio-8080-exec-2] estMatcherDelegatingAuthorizationManager : Authorizing GET /error
2025-03-17T20:40:53.451-03:00 TRACE 12028 --- [libraryapi] [http-nio-8080-exec-2] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /error using org.springframework.security.authorization.AuthenticatedAuthorizationManager@32000ae2
2025-03-17T20:40:53.451-03:00 TRACE 12028 --- [libraryapi] [http-nio-8080-exec-2] w.c.HttpSessionSecurityContextRepository : Did not find SecurityContext in HttpSession 4405E31A95A08CF21CF5B001FCB0BFCF using the SPRING_SECURITY_CONTEXT session attribute
2025-03-17T20:40:53.451-03:00 TRACE 12028 --- [libraryapi] [http-nio-8080-exec-2] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-03-17T20:40:53.452-03:00 TRACE 12028 --- [libraryapi] [http-nio-8080-exec-2] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-03-17T20:40:53.452-03:00 TRACE 12028 --- [libraryapi] [http-nio-8080-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=4405E31A95A08CF21CF5B001FCB0BFCF], Granted Authorities=[ROLE_ANONYMOUS]]
2025-03-17T20:40:53.452-03:00 TRACE 12028 --- [libraryapi] [http-nio-8080-exec-2] o.s.s.w.a.ExceptionTranslationFilter     : Sending AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=4405E31A95A08CF21CF5B001FCB0BFCF], Granted Authorities=[ROLE_ANONYMOUS]] to authentication entry point since access is denied

org.springframework.security.authorization.AuthorizationDeniedException: Access Denied
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:99) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.2.3.jar:6.2.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.2.3.jar:6.2.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.2.3.jar:6.2.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.2.3.jar:6.2.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.2.3.jar:6.2.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.2.3.jar:6.2.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.3.jar:6.2.3]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:243) ~[spring-webmvc-6.2.3.jar:6.2.3]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.3.jar:6.2.3]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.2.3.jar:6.2.3]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:238) ~[spring-security-config-6.4.3.jar:6.4.3]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362) ~[spring-web-6.2.3.jar:6.2.3]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278) ~[spring-web-6.2.3.jar:6.2.3]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.2.3.jar:6.2.3]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:633) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.catalina.core.ApplicationDispatcher.processRequest(ApplicationDispatcher.java:411) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.catalina.core.ApplicationDispatcher.doForward(ApplicationDispatcher.java:331) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.catalina.core.ApplicationDispatcher.forward(ApplicationDispatcher.java:268) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.catalina.core.StandardHostValve.custom(StandardHostValve.java:380) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.catalina.core.StandardHostValve.status(StandardHostValve.java:208) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:151) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]

2025-03-17T20:40:53.455-03:00 DEBUG 12028 --- [libraryapi] [http-nio-8080-exec-2] o.s.s.w.s.HttpSessionRequestCache        : Saved request http://localhost:8080/error?continue to session
2025-03-17T20:40:53.456-03:00 DEBUG 12028 --- [libraryapi] [http-nio-8080-exec-2] s.w.a.DelegatingAuthenticationEntryPoint : Trying to match using And [Not [RequestHeaderRequestMatcher [expectedHeaderName=X-Requested-With, expectedHeaderValue=XMLHttpRequest]], MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@506d7831, matchingMediaTypes=[application/xhtml+xml, image/*, text/html, text/plain], useEquals=false, ignoredMediaTypes=[*/*]]]
2025-03-17T20:40:53.456-03:00 DEBUG 12028 --- [libraryapi] [http-nio-8080-exec-2] s.w.a.DelegatingAuthenticationEntryPoint : Match found! Executing org.springframework.security.web.authentication.LoginUrlAuthenticationEntryPoint@24cb530d
2025-03-17T20:40:53.456-03:00 DEBUG 12028 --- [libraryapi] [http-nio-8080-exec-2] o.s.s.web.DefaultRedirectStrategy        : Redirecting to http://localhost:8080/login
2025-03-17T20:40:53.465-03:00 TRACE 12028 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain matching [Deferred [Mvc [pattern='/v2/api-docs'], Ant [pattern='/v2/api-docs']]] and having filters [] (1/8)
2025-03-17T20:40:53.465-03:00 TRACE 12028 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain matching [Deferred [Mvc [pattern='/v3/api-docs'], Ant [pattern='/v3/api-docs']]] and having filters [] (2/8)
2025-03-17T20:40:53.465-03:00 TRACE 12028 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain matching [Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']]] and having filters [] (3/8)
2025-03-17T20:40:53.465-03:00 TRACE 12028 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain matching [Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']]] and having filters [] (4/8)
2025-03-17T20:40:53.465-03:00 TRACE 12028 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain matching [Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']]] and having filters [] (5/8)
2025-03-17T20:40:53.465-03:00 TRACE 12028 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain matching [Deferred [Mvc [pattern='/webjar/**'], Ant [pattern='/webjar/**']]] and having filters [] (6/8)
2025-03-17T20:40:53.466-03:00 TRACE 12028 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain defined as 'authorizationServerSecurityFilterChain' in [class path resource [com/github/springudemy/libraryapi/config/AuthorizationServerConfiguration.class]] matching [org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x000002014bae15a0@5de6a9b9] and having filters [DisableEncodeUrl, WebAsyncManagerIntegration, SecurityContextHolder, AuthorizationServerContext, HeaderWriter, Csrf, OidcLogoutEndpoint, Logout, OAuth2AuthorizationServerMetadataEndpoint, OAuth2AuthorizationEndpoint, OAuth2DeviceVerificationEndpoint, OidcProviderConfigurationEndpoint, NimbusJwkSetEndpoint, OAuth2ClientAuthentication, UsernamePasswordAuthentication, BearerTokenAuthentication, RequestCacheAware, SecurityContextHolderAwareRequest, AnonymousAuthentication, ExceptionTranslation, OAuth2TokenEndpoint, OAuth2TokenIntrospectionEndpoint, OAuth2TokenRevocationEndpoint, OAuth2DeviceAuthorizationEndpoint, OidcUserInfoEndpoint] (7/8)
2025-03-17T20:40:53.466-03:00 TRACE 12028 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain defined as 'securityFilterChain' in [class path resource [com/github/springudemy/libraryapi/config/SecurityConfiguration.class]] matching [any request] and having filters [DisableEncodeUrl, WebAsyncManagerIntegration, SecurityContextHolder, HeaderWriter, Logout, OAuth2AuthorizationRequestRedirect, OAuth2LoginAuthentication, UsernamePasswordAuthentication, BearerTokenAuthentication, JwtCustomAuthentication, RequestCacheAware, SecurityContextHolderAwareRequest, AnonymousAuthentication, ExceptionTranslation, Authorization] (8/8)
2025-03-17T20:40:53.466-03:00 DEBUG 12028 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /login
2025-03-17T20:40:53.466-03:00 TRACE 12028 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/15)
2025-03-17T20:40:53.466-03:00 TRACE 12028 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/15)
2025-03-17T20:40:53.466-03:00 TRACE 12028 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/15)
2025-03-17T20:40:53.466-03:00 TRACE 12028 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/15)
2025-03-17T20:40:53.466-03:00 TRACE 12028 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (5/15)
2025-03-17T20:40:53.467-03:00 TRACE 12028 --- [libraryapi] [http-nio-8080-exec-3] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-03-17T20:40:53.467-03:00 TRACE 12028 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (6/15)
2025-03-17T20:40:53.467-03:00 TRACE 12028 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (7/15)
2025-03-17T20:40:53.467-03:00 TRACE 12028 --- [libraryapi] [http-nio-8080-exec-3] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2025-03-17T20:40:53.467-03:00 TRACE 12028 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (8/15)
2025-03-17T20:40:53.467-03:00 TRACE 12028 --- [libraryapi] [http-nio-8080-exec-3] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-03-17T20:40:53.467-03:00 TRACE 12028 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (9/15)
2025-03-17T20:40:53.467-03:00 TRACE 12028 --- [libraryapi] [http-nio-8080-exec-3] .s.r.w.a.BearerTokenAuthenticationFilter : Did not process request since did not find bearer token
2025-03-17T20:40:53.467-03:00 TRACE 12028 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking JwtCustomAuthenticationFilter (10/15)
2025-03-17T20:40:53.468-03:00 TRACE 12028 --- [libraryapi] [http-nio-8080-exec-3] w.c.HttpSessionSecurityContextRepository : Did not find SecurityContext in HttpSession 4405E31A95A08CF21CF5B001FCB0BFCF using the SPRING_SECURITY_CONTEXT session attribute
2025-03-17T20:40:53.468-03:00 TRACE 12028 --- [libraryapi] [http-nio-8080-exec-3] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-03-17T20:40:53.468-03:00 TRACE 12028 --- [libraryapi] [http-nio-8080-exec-3] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-03-17T20:40:53.468-03:00 TRACE 12028 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (11/15)
2025-03-17T20:40:53.468-03:00 TRACE 12028 --- [libraryapi] [http-nio-8080-exec-3] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-03-17T20:40:53.468-03:00 TRACE 12028 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (12/15)
2025-03-17T20:40:53.469-03:00 TRACE 12028 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (13/15)
2025-03-17T20:40:53.469-03:00 TRACE 12028 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (14/15)
2025-03-17T20:40:53.469-03:00 TRACE 12028 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (15/15)
2025-03-17T20:40:53.469-03:00 TRACE 12028 --- [libraryapi] [http-nio-8080-exec-3] estMatcherDelegatingAuthorizationManager : Authorizing GET /login
2025-03-17T20:40:53.470-03:00 TRACE 12028 --- [libraryapi] [http-nio-8080-exec-3] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /login using org.springframework.security.config.annotation.web.configurers.AuthorizeHttpRequestsConfigurer$$Lambda/0x000002014bb24860@5cd4fdee
2025-03-17T20:40:53.470-03:00 DEBUG 12028 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /login
2025-03-17T20:40:53.470-03:00 DEBUG 12028 --- [libraryapi] [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/login", parameters={}
2025-03-17T20:40:53.471-03:00 DEBUG 12028 --- [libraryapi] [http-nio-8080-exec-3] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ParameterizableViewController [view="login"]
2025-03-17T20:40:53.819-03:00 TRACE 12028 --- [libraryapi] [http-nio-8080-exec-3] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-03-17T20:40:53.822-03:00 DEBUG 12028 --- [libraryapi] [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-03-17T20:40:53.822-03:00 TRACE 12028 --- [libraryapi] [http-nio-8080-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=4405E31A95A08CF21CF5B001FCB0BFCF], Granted Authorities=[ROLE_ANONYMOUS]]
2025-03-17T20:40:57.593-03:00 TRACE 12028 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain matching [Deferred [Mvc [pattern='/v2/api-docs'], Ant [pattern='/v2/api-docs']]] and having filters [] (1/8)
2025-03-17T20:40:57.594-03:00 TRACE 12028 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain matching [Deferred [Mvc [pattern='/v3/api-docs'], Ant [pattern='/v3/api-docs']]] and having filters [] (2/8)
2025-03-17T20:40:57.594-03:00 TRACE 12028 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain matching [Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']]] and having filters [] (3/8)
2025-03-17T20:40:57.594-03:00 TRACE 12028 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain matching [Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']]] and having filters [] (4/8)
2025-03-17T20:40:57.594-03:00 TRACE 12028 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain matching [Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']]] and having filters [] (5/8)
2025-03-17T20:40:57.594-03:00 TRACE 12028 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain matching [Deferred [Mvc [pattern='/webjar/**'], Ant [pattern='/webjar/**']]] and having filters [] (6/8)
2025-03-17T20:40:57.594-03:00 TRACE 12028 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain defined as 'authorizationServerSecurityFilterChain' in [class path resource [com/github/springudemy/libraryapi/config/AuthorizationServerConfiguration.class]] matching [org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x000002014bae15a0@5de6a9b9] and having filters [DisableEncodeUrl, WebAsyncManagerIntegration, SecurityContextHolder, AuthorizationServerContext, HeaderWriter, Csrf, OidcLogoutEndpoint, Logout, OAuth2AuthorizationServerMetadataEndpoint, OAuth2AuthorizationEndpoint, OAuth2DeviceVerificationEndpoint, OidcProviderConfigurationEndpoint, NimbusJwkSetEndpoint, OAuth2ClientAuthentication, UsernamePasswordAuthentication, BearerTokenAuthentication, RequestCacheAware, SecurityContextHolderAwareRequest, AnonymousAuthentication, ExceptionTranslation, OAuth2TokenEndpoint, OAuth2TokenIntrospectionEndpoint, OAuth2TokenRevocationEndpoint, OAuth2DeviceAuthorizationEndpoint, OidcUserInfoEndpoint] (7/8)
2025-03-17T20:40:57.595-03:00 TRACE 12028 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain defined as 'securityFilterChain' in [class path resource [com/github/springudemy/libraryapi/config/SecurityConfiguration.class]] matching [any request] and having filters [DisableEncodeUrl, WebAsyncManagerIntegration, SecurityContextHolder, HeaderWriter, Logout, OAuth2AuthorizationRequestRedirect, OAuth2LoginAuthentication, UsernamePasswordAuthentication, BearerTokenAuthentication, JwtCustomAuthentication, RequestCacheAware, SecurityContextHolderAwareRequest, AnonymousAuthentication, ExceptionTranslation, Authorization] (8/8)
2025-03-17T20:40:57.595-03:00 DEBUG 12028 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing POST /login
2025-03-17T20:40:57.595-03:00 TRACE 12028 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/15)
2025-03-17T20:40:57.595-03:00 TRACE 12028 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/15)
2025-03-17T20:40:57.595-03:00 TRACE 12028 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/15)
2025-03-17T20:40:57.595-03:00 TRACE 12028 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/15)
2025-03-17T20:40:57.595-03:00 TRACE 12028 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (5/15)
2025-03-17T20:40:57.595-03:00 TRACE 12028 --- [libraryapi] [http-nio-8080-exec-4] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-03-17T20:40:57.595-03:00 TRACE 12028 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (6/15)
2025-03-17T20:40:57.595-03:00 TRACE 12028 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (7/15)
2025-03-17T20:40:57.595-03:00 TRACE 12028 --- [libraryapi] [http-nio-8080-exec-4] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2025-03-17T20:40:57.596-03:00 TRACE 12028 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (8/15)
2025-03-17T20:40:57.596-03:00 TRACE 12028 --- [libraryapi] [http-nio-8080-exec-4] o.s.s.authentication.ProviderManager     : Authenticating request with CustomAuthenticationProvider (1/1)
2025-03-17T20:40:57.703-03:00 TRACE 12028 --- [libraryapi] [http-nio-8080-exec-4] s.CompositeSessionAuthenticationStrategy : Preparing session with ChangeSessionIdAuthenticationStrategy (1/1)
2025-03-17T20:40:57.704-03:00 DEBUG 12028 --- [libraryapi] [http-nio-8080-exec-4] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 4405E31A95A08CF21CF5B001FCB0BFCF
2025-03-17T20:40:57.704-03:00 DEBUG 12028 --- [libraryapi] [http-nio-8080-exec-4] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=com.github.springudemy.libraryapi.security.CustomAuthentication@16a40d3a] to HttpSession [org.apache.catalina.session.StandardSessionFacade@14be78e1]
2025-03-17T20:40:57.704-03:00 DEBUG 12028 --- [libraryapi] [http-nio-8080-exec-4] w.a.UsernamePasswordAuthenticationFilter : Set SecurityContextHolder to com.github.springudemy.libraryapi.security.CustomAuthentication@16a40d3a
2025-03-17T20:40:57.705-03:00 DEBUG 12028 --- [libraryapi] [http-nio-8080-exec-4] o.s.s.web.DefaultRedirectStrategy        : Redirecting to http://localhost:8080/error?continue
2025-03-17T20:40:57.705-03:00 TRACE 12028 --- [libraryapi] [http-nio-8080-exec-4] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-03-17T20:40:57.711-03:00 TRACE 12028 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain matching [Deferred [Mvc [pattern='/v2/api-docs'], Ant [pattern='/v2/api-docs']]] and having filters [] (1/8)
2025-03-17T20:40:57.711-03:00 TRACE 12028 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain matching [Deferred [Mvc [pattern='/v3/api-docs'], Ant [pattern='/v3/api-docs']]] and having filters [] (2/8)
2025-03-17T20:40:57.711-03:00 TRACE 12028 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain matching [Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']]] and having filters [] (3/8)
2025-03-17T20:40:57.711-03:00 TRACE 12028 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain matching [Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']]] and having filters [] (4/8)
2025-03-17T20:40:57.711-03:00 TRACE 12028 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain matching [Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']]] and having filters [] (5/8)
2025-03-17T20:40:57.711-03:00 TRACE 12028 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain matching [Deferred [Mvc [pattern='/webjar/**'], Ant [pattern='/webjar/**']]] and having filters [] (6/8)
2025-03-17T20:40:57.711-03:00 TRACE 12028 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain defined as 'authorizationServerSecurityFilterChain' in [class path resource [com/github/springudemy/libraryapi/config/AuthorizationServerConfiguration.class]] matching [org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x000002014bae15a0@5de6a9b9] and having filters [DisableEncodeUrl, WebAsyncManagerIntegration, SecurityContextHolder, AuthorizationServerContext, HeaderWriter, Csrf, OidcLogoutEndpoint, Logout, OAuth2AuthorizationServerMetadataEndpoint, OAuth2AuthorizationEndpoint, OAuth2DeviceVerificationEndpoint, OidcProviderConfigurationEndpoint, NimbusJwkSetEndpoint, OAuth2ClientAuthentication, UsernamePasswordAuthentication, BearerTokenAuthentication, RequestCacheAware, SecurityContextHolderAwareRequest, AnonymousAuthentication, ExceptionTranslation, OAuth2TokenEndpoint, OAuth2TokenIntrospectionEndpoint, OAuth2TokenRevocationEndpoint, OAuth2DeviceAuthorizationEndpoint, OidcUserInfoEndpoint] (7/8)
2025-03-17T20:40:57.712-03:00 TRACE 12028 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain defined as 'securityFilterChain' in [class path resource [com/github/springudemy/libraryapi/config/SecurityConfiguration.class]] matching [any request] and having filters [DisableEncodeUrl, WebAsyncManagerIntegration, SecurityContextHolder, HeaderWriter, Logout, OAuth2AuthorizationRequestRedirect, OAuth2LoginAuthentication, UsernamePasswordAuthentication, BearerTokenAuthentication, JwtCustomAuthentication, RequestCacheAware, SecurityContextHolderAwareRequest, AnonymousAuthentication, ExceptionTranslation, Authorization] (8/8)
2025-03-17T20:40:57.712-03:00 DEBUG 12028 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /error?continue
2025-03-17T20:40:57.712-03:00 TRACE 12028 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/15)
2025-03-17T20:40:57.712-03:00 TRACE 12028 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/15)
2025-03-17T20:40:57.712-03:00 TRACE 12028 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/15)
2025-03-17T20:40:57.712-03:00 TRACE 12028 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/15)
2025-03-17T20:40:57.712-03:00 TRACE 12028 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (5/15)
2025-03-17T20:40:57.712-03:00 TRACE 12028 --- [libraryapi] [http-nio-8080-exec-5] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-03-17T20:40:57.712-03:00 TRACE 12028 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (6/15)
2025-03-17T20:40:57.712-03:00 TRACE 12028 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (7/15)
2025-03-17T20:40:57.712-03:00 TRACE 12028 --- [libraryapi] [http-nio-8080-exec-5] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2025-03-17T20:40:57.712-03:00 TRACE 12028 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (8/15)
2025-03-17T20:40:57.712-03:00 TRACE 12028 --- [libraryapi] [http-nio-8080-exec-5] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-03-17T20:40:57.713-03:00 TRACE 12028 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (9/15)
2025-03-17T20:40:57.713-03:00 TRACE 12028 --- [libraryapi] [http-nio-8080-exec-5] .s.r.w.a.BearerTokenAuthenticationFilter : Did not process request since did not find bearer token
2025-03-17T20:40:57.713-03:00 TRACE 12028 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking JwtCustomAuthenticationFilter (10/15)
2025-03-17T20:40:57.713-03:00 TRACE 12028 --- [libraryapi] [http-nio-8080-exec-5] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=com.github.springudemy.libraryapi.security.CustomAuthentication@16a40d3a] from SPRING_SECURITY_CONTEXT
2025-03-17T20:40:57.713-03:00 TRACE 12028 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (11/15)
2025-03-17T20:40:57.713-03:00 TRACE 12028 --- [libraryapi] [http-nio-8080-exec-5] o.s.s.w.s.HttpSessionRequestCache        : Removing DefaultSavedRequest from session if present
2025-03-17T20:40:57.713-03:00 DEBUG 12028 --- [libraryapi] [http-nio-8080-exec-5] o.s.s.w.s.HttpSessionRequestCache        : Loaded matching saved request http://localhost:8080/error?continue
2025-03-17T20:40:57.715-03:00 TRACE 12028 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (12/15)
2025-03-17T20:40:57.715-03:00 TRACE 12028 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (13/15)
2025-03-17T20:40:57.715-03:00 TRACE 12028 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (14/15)
2025-03-17T20:40:57.715-03:00 TRACE 12028 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (15/15)
2025-03-17T20:40:57.715-03:00 TRACE 12028 --- [libraryapi] [http-nio-8080-exec-5] estMatcherDelegatingAuthorizationManager : Authorizing GET /error?continue
2025-03-17T20:40:57.715-03:00 TRACE 12028 --- [libraryapi] [http-nio-8080-exec-5] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /error?continue using org.springframework.security.authorization.AuthenticatedAuthorizationManager@32000ae2
2025-03-17T20:40:57.716-03:00 TRACE 12028 --- [libraryapi] [http-nio-8080-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated com.github.springudemy.libraryapi.security.CustomAuthentication@16a40d3a
2025-03-17T20:40:57.716-03:00 DEBUG 12028 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /error?continue
2025-03-17T20:40:57.716-03:00 DEBUG 12028 --- [libraryapi] [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/error?continue", parameters={masked}
2025-03-17T20:40:57.716-03:00 DEBUG 12028 --- [libraryapi] [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#errorHtml(HttpServletRequest, HttpServletResponse)
2025-03-17T20:40:57.739-03:00 DEBUG 12028 --- [libraryapi] [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 500 INTERNAL_SERVER_ERROR
2025-03-17T20:40:57.740-03:00 TRACE 12028 --- [libraryapi] [http-nio-8080-exec-5] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-03-17T20:41:00.419-03:00 TRACE 12028 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain matching [Deferred [Mvc [pattern='/v2/api-docs'], Ant [pattern='/v2/api-docs']]] and having filters [] (1/8)
2025-03-17T20:41:00.419-03:00 TRACE 12028 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain matching [Deferred [Mvc [pattern='/v3/api-docs'], Ant [pattern='/v3/api-docs']]] and having filters [] (2/8)
2025-03-17T20:41:00.419-03:00 TRACE 12028 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain matching [Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']]] and having filters [] (3/8)
2025-03-17T20:41:00.420-03:00 TRACE 12028 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain matching [Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']]] and having filters [] (4/8)
2025-03-17T20:41:00.420-03:00 TRACE 12028 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain matching [Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']]] and having filters [] (5/8)
2025-03-17T20:41:00.420-03:00 TRACE 12028 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain matching [Deferred [Mvc [pattern='/webjar/**'], Ant [pattern='/webjar/**']]] and having filters [] (6/8)
2025-03-17T20:41:00.420-03:00 TRACE 12028 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain defined as 'authorizationServerSecurityFilterChain' in [class path resource [com/github/springudemy/libraryapi/config/AuthorizationServerConfiguration.class]] matching [org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x000002014bae15a0@5de6a9b9] and having filters [DisableEncodeUrl, WebAsyncManagerIntegration, SecurityContextHolder, AuthorizationServerContext, HeaderWriter, Csrf, OidcLogoutEndpoint, Logout, OAuth2AuthorizationServerMetadataEndpoint, OAuth2AuthorizationEndpoint, OAuth2DeviceVerificationEndpoint, OidcProviderConfigurationEndpoint, NimbusJwkSetEndpoint, OAuth2ClientAuthentication, UsernamePasswordAuthentication, BearerTokenAuthentication, RequestCacheAware, SecurityContextHolderAwareRequest, AnonymousAuthentication, ExceptionTranslation, OAuth2TokenEndpoint, OAuth2TokenIntrospectionEndpoint, OAuth2TokenRevocationEndpoint, OAuth2DeviceAuthorizationEndpoint, OidcUserInfoEndpoint] (7/8)
2025-03-17T20:41:00.420-03:00 DEBUG 12028 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /oauth2/authorize?response_type=code&client_id=meu-client&redirect_uri=http%3A%2F%2Flocalhost%3A8080%2Fauthorized
2025-03-17T20:41:00.420-03:00 TRACE 12028 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/25)
2025-03-17T20:41:00.420-03:00 TRACE 12028 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/25)
2025-03-17T20:41:00.420-03:00 TRACE 12028 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/25)
2025-03-17T20:41:00.420-03:00 TRACE 12028 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking AuthorizationServerContextFilter (4/25)
2025-03-17T20:41:00.421-03:00 TRACE 12028 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (5/25)
2025-03-17T20:41:00.421-03:00 TRACE 12028 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking CsrfFilter (6/25)
2025-03-17T20:41:00.421-03:00 TRACE 12028 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.csrf.CsrfFilter         : Did not protect against CSRF since request did not match And [CsrfNotRequired [TRACE, HEAD, GET, OPTIONS], Not [Or [Or [Or [Ant [pattern='/oauth2/token', POST], Ant [pattern='/oauth2/introspect', POST], Ant [pattern='/oauth2/revoke', POST], Ant [pattern='/oauth2/device_authorization', POST]], Ant [pattern='/.well-known/oauth-authorization-server', GET], Or [Ant [pattern='/oauth2/authorize', GET], Ant [pattern='/oauth2/authorize', POST]], Ant [pattern='/oauth2/token', POST], Ant [pattern='/oauth2/introspect', POST], Ant [pattern='/oauth2/revoke', POST], Ant [pattern='/oauth2/device_authorization', POST], Or [Ant [pattern='/oauth2/device_verification', GET], Ant [pattern='/oauth2/device_verification', POST]], Or [Ant [pattern='/.well-known/openid-configuration', GET], Or [Ant [pattern='/oauth2/logout', GET], Ant [pattern='/oauth2/logout', POST]], Or [Ant [pattern='/oauth2/userinfo', GET], Ant [pattern='/oauth2/userinfo', POST]]], Ant [pattern='/oauth2/jwks', GET]], org.springframework.security.config.annotation.web.configurers.oauth2.server.resource.OAuth2ResourceServerConfigurer$BearerTokenRequestMatcher@184e7447]]]
2025-03-17T20:41:00.421-03:00 TRACE 12028 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking OidcLogoutEndpointFilter (7/25)
2025-03-17T20:41:00.421-03:00 TRACE 12028 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (8/25)
2025-03-17T20:41:00.421-03:00 TRACE 12028 --- [libraryapi] [http-nio-8080-exec-6] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Ant [pattern='/logout', POST]
2025-03-17T20:41:00.421-03:00 TRACE 12028 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationServerMetadataEndpointFilter (9/25)
2025-03-17T20:41:00.421-03:00 TRACE 12028 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationEndpointFilter (10/25)
2025-03-17T20:41:00.422-03:00 TRACE 12028 --- [libraryapi] [http-nio-8080-exec-6] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=com.github.springudemy.libraryapi.security.CustomAuthentication@16a40d3a] from SPRING_SECURITY_CONTEXT
2025-03-17T20:41:00.422-03:00 TRACE 12028 --- [libraryapi] [http-nio-8080-exec-6] o.s.s.authentication.ProviderManager     : Authenticating request with OAuth2AuthorizationCodeRequestAuthenticationProvider (1/20)
2025-03-17T20:41:00.427-03:00 TRACE 12028 --- [libraryapi] [http-nio-8080-exec-6] izationCodeRequestAuthenticationProvider : Retrieved registered client
2025-03-17T20:41:00.428-03:00 TRACE 12028 --- [libraryapi] [http-nio-8080-exec-6] izationCodeRequestAuthenticationProvider : Validated authorization code request parameters
2025-03-17T20:41:00.437-03:00 TRACE 12028 --- [libraryapi] [http-nio-8080-exec-6] izationCodeRequestAuthenticationProvider : Generated authorization code
2025-03-17T20:41:00.438-03:00 TRACE 12028 --- [libraryapi] [http-nio-8080-exec-6] izationCodeRequestAuthenticationProvider : Saved authorization
2025-03-17T20:41:00.438-03:00 TRACE 12028 --- [libraryapi] [http-nio-8080-exec-6] izationCodeRequestAuthenticationProvider : Authenticated authorization code request
2025-03-17T20:41:00.439-03:00 DEBUG 12028 --- [libraryapi] [http-nio-8080-exec-6] o.s.s.web.DefaultRedirectStrategy        : Redirecting to http://localhost:8080/authorized?code=HWVJm_hLpV-mSPlk6Y1GPbE4qk9cWPRGYCGZzMfIBacEJOjNfX_GwLw4llaBzzQGo88N1L-y_U_A4_qDRkrhLcHk4mBsAJyc-IuX6mhyDlnvqm-JzlKSH1GPuYEwDhXg
2025-03-17T20:41:00.439-03:00 TRACE 12028 --- [libraryapi] [http-nio-8080-exec-6] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-03-17T20:41:00.782-03:00 TRACE 12028 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain matching [Deferred [Mvc [pattern='/v2/api-docs'], Ant [pattern='/v2/api-docs']]] and having filters [] (1/8)
2025-03-17T20:41:00.783-03:00 TRACE 12028 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain matching [Deferred [Mvc [pattern='/v3/api-docs'], Ant [pattern='/v3/api-docs']]] and having filters [] (2/8)
2025-03-17T20:41:00.783-03:00 TRACE 12028 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain matching [Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']]] and having filters [] (3/8)
2025-03-17T20:41:00.783-03:00 TRACE 12028 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain matching [Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']]] and having filters [] (4/8)
2025-03-17T20:41:00.783-03:00 TRACE 12028 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain matching [Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']]] and having filters [] (5/8)
2025-03-17T20:41:00.783-03:00 TRACE 12028 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain matching [Deferred [Mvc [pattern='/webjar/**'], Ant [pattern='/webjar/**']]] and having filters [] (6/8)
2025-03-17T20:41:00.783-03:00 TRACE 12028 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain defined as 'authorizationServerSecurityFilterChain' in [class path resource [com/github/springudemy/libraryapi/config/AuthorizationServerConfiguration.class]] matching [org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x000002014bae15a0@5de6a9b9] and having filters [DisableEncodeUrl, WebAsyncManagerIntegration, SecurityContextHolder, AuthorizationServerContext, HeaderWriter, Csrf, OidcLogoutEndpoint, Logout, OAuth2AuthorizationServerMetadataEndpoint, OAuth2AuthorizationEndpoint, OAuth2DeviceVerificationEndpoint, OidcProviderConfigurationEndpoint, NimbusJwkSetEndpoint, OAuth2ClientAuthentication, UsernamePasswordAuthentication, BearerTokenAuthentication, RequestCacheAware, SecurityContextHolderAwareRequest, AnonymousAuthentication, ExceptionTranslation, OAuth2TokenEndpoint, OAuth2TokenIntrospectionEndpoint, OAuth2TokenRevocationEndpoint, OAuth2DeviceAuthorizationEndpoint, OidcUserInfoEndpoint] (7/8)
2025-03-17T20:41:00.783-03:00 DEBUG 12028 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing POST /oauth2/token
2025-03-17T20:41:00.784-03:00 TRACE 12028 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/25)
2025-03-17T20:41:00.784-03:00 TRACE 12028 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/25)
2025-03-17T20:41:00.784-03:00 TRACE 12028 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/25)
2025-03-17T20:41:00.784-03:00 TRACE 12028 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking AuthorizationServerContextFilter (4/25)
2025-03-17T20:41:00.784-03:00 TRACE 12028 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (5/25)
2025-03-17T20:41:00.784-03:00 TRACE 12028 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking CsrfFilter (6/25)
2025-03-17T20:41:00.784-03:00 TRACE 12028 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.csrf.CsrfFilter         : Did not protect against CSRF since request did not match And [CsrfNotRequired [TRACE, HEAD, GET, OPTIONS], Not [Or [Or [Or [Ant [pattern='/oauth2/token', POST], Ant [pattern='/oauth2/introspect', POST], Ant [pattern='/oauth2/revoke', POST], Ant [pattern='/oauth2/device_authorization', POST]], Ant [pattern='/.well-known/oauth-authorization-server', GET], Or [Ant [pattern='/oauth2/authorize', GET], Ant [pattern='/oauth2/authorize', POST]], Ant [pattern='/oauth2/token', POST], Ant [pattern='/oauth2/introspect', POST], Ant [pattern='/oauth2/revoke', POST], Ant [pattern='/oauth2/device_authorization', POST], Or [Ant [pattern='/oauth2/device_verification', GET], Ant [pattern='/oauth2/device_verification', POST]], Or [Ant [pattern='/.well-known/openid-configuration', GET], Or [Ant [pattern='/oauth2/logout', GET], Ant [pattern='/oauth2/logout', POST]], Or [Ant [pattern='/oauth2/userinfo', GET], Ant [pattern='/oauth2/userinfo', POST]]], Ant [pattern='/oauth2/jwks', GET]], org.springframework.security.config.annotation.web.configurers.oauth2.server.resource.OAuth2ResourceServerConfigurer$BearerTokenRequestMatcher@184e7447]]]
2025-03-17T20:41:00.784-03:00 TRACE 12028 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking OidcLogoutEndpointFilter (7/25)
2025-03-17T20:41:00.784-03:00 TRACE 12028 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (8/25)
2025-03-17T20:41:00.784-03:00 TRACE 12028 --- [libraryapi] [http-nio-8080-exec-9] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Ant [pattern='/logout', POST]
2025-03-17T20:41:00.784-03:00 TRACE 12028 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationServerMetadataEndpointFilter (9/25)
2025-03-17T20:41:00.784-03:00 TRACE 12028 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationEndpointFilter (10/25)
2025-03-17T20:41:00.784-03:00 TRACE 12028 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking OAuth2DeviceVerificationEndpointFilter (11/25)
2025-03-17T20:41:00.786-03:00 TRACE 12028 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking OidcProviderConfigurationEndpointFilter (12/25)
2025-03-17T20:41:00.786-03:00 TRACE 12028 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking NimbusJwkSetEndpointFilter (13/25)
2025-03-17T20:41:00.786-03:00 TRACE 12028 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking OAuth2ClientAuthenticationFilter (14/25)
2025-03-17T20:41:00.787-03:00 TRACE 12028 --- [libraryapi] [http-nio-8080-exec-9] o.s.s.authentication.ProviderManager     : Authenticating request with JwtClientAssertionAuthenticationProvider (1/20)
2025-03-17T20:41:00.787-03:00 TRACE 12028 --- [libraryapi] [http-nio-8080-exec-9] o.s.s.authentication.ProviderManager     : Authenticating request with X509ClientCertificateAuthenticationProvider (2/20)
2025-03-17T20:41:00.787-03:00 TRACE 12028 --- [libraryapi] [http-nio-8080-exec-9] o.s.s.authentication.ProviderManager     : Authenticating request with ClientSecretAuthenticationProvider (3/20)
2025-03-17T20:41:00.792-03:00 TRACE 12028 --- [libraryapi] [http-nio-8080-exec-9] s.a.a.ClientSecretAuthenticationProvider : Retrieved registered client
2025-03-17T20:41:00.874-03:00 TRACE 12028 --- [libraryapi] [http-nio-8080-exec-9] s.a.a.ClientSecretAuthenticationProvider : Validated client authentication parameters
2025-03-17T20:41:00.874-03:00 TRACE 12028 --- [libraryapi] [http-nio-8080-exec-9] o.s.s.o.s.a.a.CodeVerifierAuthenticator  : Retrieved authorization with authorization code
2025-03-17T20:41:00.874-03:00 TRACE 12028 --- [libraryapi] [http-nio-8080-exec-9] o.s.s.o.s.a.a.CodeVerifierAuthenticator  : Did not authenticate code verifier since requireProofKey=false
2025-03-17T20:41:00.874-03:00 TRACE 12028 --- [libraryapi] [http-nio-8080-exec-9] s.a.a.ClientSecretAuthenticationProvider : Authenticated client secret
2025-03-17T20:41:00.875-03:00 DEBUG 12028 --- [libraryapi] [http-nio-8080-exec-9] o.s.a.w.OAuth2ClientAuthenticationFilter : Set SecurityContextHolder authentication to OAuth2ClientAuthenticationToken
2025-03-17T20:41:00.875-03:00 TRACE 12028 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (15/25)
2025-03-17T20:41:00.875-03:00 TRACE 12028 --- [libraryapi] [http-nio-8080-exec-9] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-03-17T20:41:00.875-03:00 TRACE 12028 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (16/25)
2025-03-17T20:41:00.875-03:00 TRACE 12028 --- [libraryapi] [http-nio-8080-exec-9] .s.r.w.a.BearerTokenAuthenticationFilter : Did not process request since did not find bearer token
2025-03-17T20:41:00.875-03:00 TRACE 12028 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (17/25)
2025-03-17T20:41:00.876-03:00 TRACE 12028 --- [libraryapi] [http-nio-8080-exec-9] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-03-17T20:41:00.876-03:00 TRACE 12028 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (18/25)
2025-03-17T20:41:00.876-03:00 TRACE 12028 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (19/25)
2025-03-17T20:41:00.876-03:00 TRACE 12028 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (20/25)
2025-03-17T20:41:00.876-03:00 TRACE 12028 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking OAuth2TokenEndpointFilter (21/25)
2025-03-17T20:41:00.876-03:00 TRACE 12028 --- [libraryapi] [http-nio-8080-exec-9] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated OAuth2ClientAuthenticationToken [Principal=meu-client, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[]]
2025-03-17T20:41:00.878-03:00 TRACE 12028 --- [libraryapi] [http-nio-8080-exec-9] o.s.s.authentication.ProviderManager     : Authenticating request with OAuth2AuthorizationCodeAuthenticationProvider (1/20)
2025-03-17T20:41:00.878-03:00 TRACE 12028 --- [libraryapi] [http-nio-8080-exec-9] 2AuthorizationCodeAuthenticationProvider : Retrieved registered client
2025-03-17T20:41:00.878-03:00 TRACE 12028 --- [libraryapi] [http-nio-8080-exec-9] 2AuthorizationCodeAuthenticationProvider : Retrieved authorization with authorization code
2025-03-17T20:41:00.879-03:00 TRACE 12028 --- [libraryapi] [http-nio-8080-exec-9] 2AuthorizationCodeAuthenticationProvider : Validated token request parameters
2025-03-17T20:41:00.963-03:00 TRACE 12028 --- [libraryapi] [http-nio-8080-exec-9] 2AuthorizationCodeAuthenticationProvider : Generated access token
2025-03-17T20:41:00.965-03:00 TRACE 12028 --- [libraryapi] [http-nio-8080-exec-9] 2AuthorizationCodeAuthenticationProvider : Generated refresh token
2025-03-17T20:41:00.965-03:00 TRACE 12028 --- [libraryapi] [http-nio-8080-exec-9] 2AuthorizationCodeAuthenticationProvider : Saved authorization
2025-03-17T20:41:00.965-03:00 TRACE 12028 --- [libraryapi] [http-nio-8080-exec-9] 2AuthorizationCodeAuthenticationProvider : Authenticated token request
2025-03-17T20:41:00.999-03:00 TRACE 12028 --- [libraryapi] [http-nio-8080-exec-9] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-03-17T20:41:32.874-03:00 TRACE 12028 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain matching [Deferred [Mvc [pattern='/v2/api-docs'], Ant [pattern='/v2/api-docs']]] and having filters [] (1/8)
2025-03-17T20:41:32.875-03:00 TRACE 12028 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain matching [Deferred [Mvc [pattern='/v3/api-docs'], Ant [pattern='/v3/api-docs']]] and having filters [] (2/8)
2025-03-17T20:41:32.875-03:00 TRACE 12028 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain matching [Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']]] and having filters [] (3/8)
2025-03-17T20:41:32.875-03:00 TRACE 12028 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain matching [Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']]] and having filters [] (4/8)
2025-03-17T20:41:32.875-03:00 TRACE 12028 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain matching [Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']]] and having filters [] (5/8)
2025-03-17T20:41:32.875-03:00 TRACE 12028 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain matching [Deferred [Mvc [pattern='/webjar/**'], Ant [pattern='/webjar/**']]] and having filters [] (6/8)
2025-03-17T20:41:32.875-03:00 TRACE 12028 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain defined as 'authorizationServerSecurityFilterChain' in [class path resource [com/github/springudemy/libraryapi/config/AuthorizationServerConfiguration.class]] matching [org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x000002014bae15a0@5de6a9b9] and having filters [DisableEncodeUrl, WebAsyncManagerIntegration, SecurityContextHolder, AuthorizationServerContext, HeaderWriter, Csrf, OidcLogoutEndpoint, Logout, OAuth2AuthorizationServerMetadataEndpoint, OAuth2AuthorizationEndpoint, OAuth2DeviceVerificationEndpoint, OidcProviderConfigurationEndpoint, NimbusJwkSetEndpoint, OAuth2ClientAuthentication, UsernamePasswordAuthentication, BearerTokenAuthentication, RequestCacheAware, SecurityContextHolderAwareRequest, AnonymousAuthentication, ExceptionTranslation, OAuth2TokenEndpoint, OAuth2TokenIntrospectionEndpoint, OAuth2TokenRevocationEndpoint, OAuth2DeviceAuthorizationEndpoint, OidcUserInfoEndpoint] (7/8)
2025-03-17T20:41:32.875-03:00 TRACE 12028 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain defined as 'securityFilterChain' in [class path resource [com/github/springudemy/libraryapi/config/SecurityConfiguration.class]] matching [any request] and having filters [DisableEncodeUrl, WebAsyncManagerIntegration, SecurityContextHolder, HeaderWriter, Logout, OAuth2AuthorizationRequestRedirect, OAuth2LoginAuthentication, UsernamePasswordAuthentication, BearerTokenAuthentication, JwtCustomAuthentication, RequestCacheAware, SecurityContextHolderAwareRequest, AnonymousAuthentication, ExceptionTranslation, Authorization] (8/8)
2025-03-17T20:41:32.875-03:00 DEBUG 12028 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing POST /livros
2025-03-17T20:41:32.875-03:00 TRACE 12028 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/15)
2025-03-17T20:41:32.875-03:00 TRACE 12028 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/15)
2025-03-17T20:41:32.875-03:00 TRACE 12028 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/15)
2025-03-17T20:41:32.875-03:00 TRACE 12028 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/15)
2025-03-17T20:41:32.875-03:00 TRACE 12028 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (5/15)
2025-03-17T20:41:32.875-03:00 TRACE 12028 --- [libraryapi] [http-nio-8080-exec-10] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-03-17T20:41:32.875-03:00 TRACE 12028 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (6/15)
2025-03-17T20:41:32.876-03:00 TRACE 12028 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (7/15)
2025-03-17T20:41:32.876-03:00 TRACE 12028 --- [libraryapi] [http-nio-8080-exec-10] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2025-03-17T20:41:32.876-03:00 TRACE 12028 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (8/15)
2025-03-17T20:41:32.876-03:00 TRACE 12028 --- [libraryapi] [http-nio-8080-exec-10] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-03-17T20:41:32.876-03:00 TRACE 12028 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (9/15)
2025-03-17T20:41:32.876-03:00 TRACE 12028 --- [libraryapi] [http-nio-8080-exec-10] o.s.s.authentication.ProviderManager     : Authenticating request with JwtAuthenticationProvider (1/4)
2025-03-17T20:41:32.886-03:00 TRACE 12028 --- [libraryapi] [http-nio-8080-exec-10] s.o.s.r.a.JwtGrantedAuthoritiesConverter : Returning no authorities since could not find any claims that might contain scopes
2025-03-17T20:41:32.886-03:00 DEBUG 12028 --- [libraryapi] [http-nio-8080-exec-10] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-03-17T20:41:32.886-03:00 DEBUG 12028 --- [libraryapi] [http-nio-8080-exec-10] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@a62b9f25, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[]]
2025-03-17T20:41:32.887-03:00 TRACE 12028 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking JwtCustomAuthenticationFilter (10/15)
2025-03-17T20:41:32.892-03:00 TRACE 12028 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (11/15)
2025-03-17T20:41:32.892-03:00 TRACE 12028 --- [libraryapi] [http-nio-8080-exec-10] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-03-17T20:41:32.892-03:00 TRACE 12028 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (12/15)
2025-03-17T20:41:32.892-03:00 TRACE 12028 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (13/15)
2025-03-17T20:41:32.893-03:00 TRACE 12028 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (14/15)
2025-03-17T20:41:32.893-03:00 TRACE 12028 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (15/15)
2025-03-17T20:41:32.893-03:00 TRACE 12028 --- [libraryapi] [http-nio-8080-exec-10] estMatcherDelegatingAuthorizationManager : Authorizing POST /livros
2025-03-17T20:41:32.893-03:00 TRACE 12028 --- [libraryapi] [http-nio-8080-exec-10] estMatcherDelegatingAuthorizationManager : Checking authorization on POST /livros using org.springframework.security.authorization.AuthenticatedAuthorizationManager@32000ae2
2025-03-17T20:41:32.893-03:00 TRACE 12028 --- [libraryapi] [http-nio-8080-exec-10] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated com.github.springudemy.libraryapi.security.CustomAuthentication@64347532
2025-03-17T20:41:32.893-03:00 DEBUG 12028 --- [libraryapi] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured POST /livros
2025-03-17T20:41:32.893-03:00 DEBUG 12028 --- [libraryapi] [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : POST "/livros", parameters={}
2025-03-17T20:41:32.894-03:00 DEBUG 12028 --- [libraryapi] [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.github.springudemy.libraryapi.controller.LivroController#salvar(CadastroLivroDTO)
2025-03-17T20:41:32.982-03:00 DEBUG 12028 --- [libraryapi] [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [CadastroLivroDTO[isbn=, titulo=Romeu e Julieta, dataPublicacao=1597-01-01, genero=ROMANCE, preco=72. (truncated)...]
2025-03-17T20:41:33.046-03:00 DEBUG 12028 --- [libraryapi] [http-nio-8080-exec-10] .m.m.a.ExceptionHandlerExceptionResolver : Using @ExceptionHandler com.github.springudemy.libraryapi.controller.common.GlobalExceptionHandler#handleMethodArgumentNotValidException(MethodArgumentNotValidException)
2025-03-17T20:41:33.046-03:00 ERROR 12028 --- [libraryapi] [http-nio-8080-exec-10] c.g.s.l.c.common.GlobalExceptionHandler  : Erro de validao: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<java.lang.Void> com.github.springudemy.libraryapi.controller.LivroController.salvar(com.github.springudemy.libraryapi.controller.dto.CadastroLivroDTO) with 2 errors: [Field error in object 'cadastroLivroDTO' on field 'isbn': rejected value []; codes [ISBN.cadastroLivroDTO.isbn,ISBN.isbn,ISBN.java.lang.String,ISBN]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [cadastroLivroDTO.isbn,isbn]; arguments []; default message [isbn],ISBN_13]; default message [ISBN invlido]] [Field error in object 'cadastroLivroDTO' on field 'isbn': rejected value []; codes [NotBlank.cadastroLivroDTO.isbn,NotBlank.isbn,NotBlank.java.lang.String,NotBlank]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [cadastroLivroDTO.isbn,isbn]; arguments []; default message [isbn]]; default message [campo obrigatrio]] 
2025-03-17T20:41:33.058-03:00 DEBUG 12028 --- [libraryapi] [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-03-17T20:41:33.062-03:00 DEBUG 12028 --- [libraryapi] [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ErroResposta[status=422, mensagem=Erro de validao., erros=[ErroCampo[campo=isbn, erro=ISBN invlid (truncated)...]
2025-03-17T20:41:33.065-03:00 TRACE 12028 --- [libraryapi] [http-nio-8080-exec-10] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-03-17T20:41:33.066-03:00 DEBUG 12028 --- [libraryapi] [http-nio-8080-exec-10] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<java.lang.Void> com.github.springudemy.libraryapi.controller.LivroController.salvar(com.github.springudemy.libraryapi.controller.dto.CadastroLivroDTO) with 2 errors: [Field error in object 'cadastroLivroDTO' on field 'isbn': rejected value []; codes [ISBN.cadastroLivroDTO.isbn,ISBN.isbn,ISBN.java.lang.String,ISBN]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [cadastroLivroDTO.isbn,isbn]; arguments []; default message [isbn],ISBN_13]; default message [ISBN invlido]] [Field error in object 'cadastroLivroDTO' on field 'isbn': rejected value []; codes [NotBlank.cadastroLivroDTO.isbn,NotBlank.isbn,NotBlank.java.lang.String,NotBlank]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [cadastroLivroDTO.isbn,isbn]; arguments []; default message [isbn]]; default message [campo obrigatrio]] ]
2025-03-17T20:41:33.066-03:00 DEBUG 12028 --- [libraryapi] [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 422 UNPROCESSABLE_ENTITY
2025-03-17T20:42:20.800-03:00  INFO 11720 --- [libraryapi] [main] c.g.s.libraryapi.LibraryapiApplication   : Starting LibraryapiApplication using Java 21.0.2 with PID 11720 (C:\Users\RYAN\Desktop\Cursos Udemy\SpringBootExpert\libraryapi\target\classes started by RYAN in C:\Users\RYAN\Desktop\Cursos Udemy\SpringBootExpert\libraryapi)
2025-03-17T20:42:20.802-03:00 DEBUG 11720 --- [libraryapi] [main] c.g.s.libraryapi.LibraryapiApplication   : Running with Spring Boot v3.4.3, Spring v6.2.3
2025-03-17T20:42:20.803-03:00  INFO 11720 --- [libraryapi] [main] c.g.s.libraryapi.LibraryapiApplication   : No active profile set, falling back to 1 default profile: "default"
2025-03-17T20:42:23.826-03:00  WARN 11720 --- [libraryapi] [main] com.zaxxer.hikari.HikariConfig           : library-db-pool - idleTimeout is close to or more than maxLifetime, disabling it.
2025-03-17T20:42:26.350-03:00 DEBUG 11720 --- [libraryapi] [main] o.s.w.s.r.ResourceUrlEncodingFilter      : Filter 'resourceUrlEncodingFilter' configured for use
2025-03-17T20:42:26.352-03:00 DEBUG 11720 --- [libraryapi] [main] c.g.s.l.s.JwtCustomAuthenticationFilter  : Filter 'jwtCustomAuthenticationFilter' configured for use
2025-03-17T20:42:27.695-03:00  WARN 11720 --- [libraryapi] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-03-17T20:42:27.721-03:00 TRACE 11720 --- [libraryapi] [main] eGlobalAuthenticationAutowiredConfigurer : Eagerly initializing {authorizationServerConfiguration=com.github.springudemy.libraryapi.config.AuthorizationServerConfiguration$$SpringCGLIB$$0@685e5967, securityConfiguration=com.github.springudemy.libraryapi.config.SecurityConfiguration$$SpringCGLIB$$0@3f0c2eff}
2025-03-17T20:42:27.724-03:00  INFO 11720 --- [libraryapi] [main] eAuthenticationProviderManagerConfigurer : Global AuthenticationManager configured with AuthenticationProvider bean with name customAuthenticationProvider
2025-03-17T20:42:28.039-03:00 DEBUG 11720 --- [libraryapi] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 21 mappings in 'requestMappingHandlerMapping'
2025-03-17T20:42:28.059-03:00 DEBUG 11720 --- [libraryapi] [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/login] in 'viewControllerHandlerMapping'
2025-03-17T20:42:28.089-03:00 DEBUG 11720 --- [libraryapi] [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-03-17T20:42:29.323-03:00 DEBUG 11720 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x000002064cadb3f0@56059cf1 with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, AuthorizationServerContextFilter, HeaderWriterFilter, CsrfFilter, OidcLogoutEndpointFilter, LogoutFilter, OAuth2AuthorizationServerMetadataEndpointFilter, OAuth2AuthorizationEndpointFilter, OAuth2DeviceVerificationEndpointFilter, OidcProviderConfigurationEndpointFilter, NimbusJwkSetEndpointFilter, OAuth2ClientAuthenticationFilter, UsernamePasswordAuthenticationFilter, BearerTokenAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, OAuth2TokenEndpointFilter, OAuth2TokenIntrospectionEndpointFilter, OAuth2TokenRevocationEndpointFilter, OAuth2DeviceAuthorizationEndpointFilter, OidcUserInfoEndpointFilter
2025-03-17T20:42:29.416-03:00 DEBUG 11720 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, OAuth2AuthorizationRequestRedirectFilter, OAuth2LoginAuthenticationFilter, UsernamePasswordAuthenticationFilter, BearerTokenAuthenticationFilter, JwtCustomAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-03-17T20:42:29.431-03:00  WARN 11720 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/v2/api-docs'], Ant [pattern='/v2/api-docs']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-03-17T20:42:29.432-03:00 DEBUG 11720 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/v2/api-docs'], Ant [pattern='/v2/api-docs']]
2025-03-17T20:42:29.433-03:00  WARN 11720 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/v3/api-docs'], Ant [pattern='/v3/api-docs']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-03-17T20:42:29.433-03:00 DEBUG 11720 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/v3/api-docs'], Ant [pattern='/v3/api-docs']]
2025-03-17T20:42:29.433-03:00  WARN 11720 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-03-17T20:42:29.433-03:00 DEBUG 11720 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']]
2025-03-17T20:42:29.433-03:00  WARN 11720 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-03-17T20:42:29.433-03:00 DEBUG 11720 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']]
2025-03-17T20:42:29.433-03:00  WARN 11720 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-03-17T20:42:29.433-03:00 DEBUG 11720 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']]
2025-03-17T20:42:29.433-03:00  WARN 11720 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/webjar/**'], Ant [pattern='/webjar/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-03-17T20:42:29.433-03:00 DEBUG 11720 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/webjar/**'], Ant [pattern='/webjar/**']]
2025-03-17T20:42:29.505-03:00 DEBUG 11720 --- [libraryapi] [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-03-17T20:42:29.589-03:00 DEBUG 11720 --- [libraryapi] [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2025-03-17T20:42:29.873-03:00  INFO 11720 --- [libraryapi] [main] c.g.s.libraryapi.LibraryapiApplication   : Started LibraryapiApplication in 9.677 seconds (process running for 10.139)
